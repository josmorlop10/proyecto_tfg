                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module PointerSelector
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _can_pointer_move
                                     11 	.globl _set_win_tile_xy
                                     12 	.globl _joypad
                                     13 	.globl _delay
                                     14 	.globl _move_sprite_block_pointer
                                     15 	.globl _update_values_in_hud
                                     16 	.globl _change_bkg_tile_16x16
                                     17 	.globl _change_bkg_tile_xy
                                     18 	.globl _check_colision_with_object
                                     19 	.globl _move_foward_block_id
                                     20 	.globl _change_colision_map_BR
                                     21 	.globl _change_colision_map_at
                                     22 	.globl _tileindex_from_xy
                                     23 	.globl _global_hud_selected
                                     24 	.globl _pointer_init
                                     25 	.globl _move_pointer
                                     26 	.globl _place_object_at_pointer
                                     27 	.globl _remove_object_at_pointer
                                     28 	.globl _block_is_not_placed_below
                                     29 	.globl _block_is_placed_below
                                     30 	.globl _control_pointer
                                     31 	.globl _update_pointer
                                     32 	.globl _hide_pointer
                                     33 ;--------------------------------------------------------
                                     34 ; special function registers
                                     35 ;--------------------------------------------------------
                                     36 ;--------------------------------------------------------
                                     37 ; ram data
                                     38 ;--------------------------------------------------------
                                     39 	.area _DATA
                                     40 ;--------------------------------------------------------
                                     41 ; ram data
                                     42 ;--------------------------------------------------------
                                     43 	.area _INITIALIZED
    00000000                         44 _global_hud_selected::
    00000000                         45 	.ds 1
                                     46 ;--------------------------------------------------------
                                     47 ; absolute external ram data
                                     48 ;--------------------------------------------------------
                                     49 	.area _DABS (ABS)
                                     50 ;--------------------------------------------------------
                                     51 ; global & static initialisations
                                     52 ;--------------------------------------------------------
                                     53 	.area _HOME
                                     54 	.area _GSINIT
                                     55 	.area _GSFINAL
                                     56 	.area _GSINIT
                                     57 ;--------------------------------------------------------
                                     58 ; Home
                                     59 ;--------------------------------------------------------
                                     60 	.area _HOME
                                     61 	.area _HOME
                                     62 ;--------------------------------------------------------
                                     63 ; code
                                     64 ;--------------------------------------------------------
                                     65 	.area _CODE
                                     66 ;src/PointerSelector.c:12: void pointer_init(Pointer* s) {
                                     67 ;	---------------------------------
                                     68 ; Function pointer_init
                                     69 ; ---------------------------------
    00000000                         70 _pointer_init::
                                     71 ;src/PointerSelector.c:13: s->x = 80;
    00000000 6B               [ 4]   72 	ld	l, e
    00000001 62               [ 4]   73 	ld	h, d
    00000002 36 50            [12]   74 	ld	(hl), #0x50
                                     75 ;src/PointerSelector.c:14: s->y = 72;
    00000004 E5               [16]   76 	push	hl
    00000005 23               [ 8]   77 	inc	hl
    00000006 36 48            [12]   78 	ld	(hl), #0x48
                                     79 ;src/PointerSelector.c:15: for(uint8_t i = 4;i<=7;i++){
    00000008 C1               [12]   80 	pop	bc
    00000009 C5               [16]   81 	push	bc
    0000000A 03               [ 8]   82 	inc	bc
    0000000B 03               [ 8]   83 	inc	bc
    0000000C 1E 04            [ 8]   84 	ld	e, #0x04
    0000000E                         85 00103$:
    0000000E 3E 07            [ 8]   86 	ld	a, #0x07
    00000010 93               [ 4]   87 	sub	a, e
    00000011 38 08            [12]   88 	jr	C, 00101$
                                     89 ;src/PointerSelector.c:16: s->sprite_ids[i] = i;
    00000013 6B               [ 4]   90 	ld	l, e
    00000014 26 00            [ 8]   91 	ld	h, #0x00
    00000016 09               [ 8]   92 	add	hl, bc
    00000017 73               [ 8]   93 	ld	(hl), e
                                     94 ;src/PointerSelector.c:15: for(uint8_t i = 4;i<=7;i++){
    00000018 1C               [ 4]   95 	inc	e
    00000019 18 F3            [12]   96 	jr	00103$
    0000001B                         97 00101$:
                                     98 ;src/PointerSelector.c:18: s->tileindexBR = 0;
    0000001B D1               [12]   99 	pop	de
    0000001C D5               [16]  100 	push	de
    0000001D 21 06 00         [12]  101 	ld	hl, #0x0006
    00000020 19               [ 8]  102 	add	hl, de
    00000021 4D               [ 4]  103 	ld	c, l
    00000022 44               [ 4]  104 	ld	b, h
    00000023 AF               [ 4]  105 	xor	a, a
    00000024 02               [ 8]  106 	ld	(bc), a
    00000025 03               [ 8]  107 	inc	bc
    00000026 02               [ 8]  108 	ld	(bc), a
                                    109 ;src/PointerSelector.c:19: move_sprite_block_pointer(global_selected_block);
    00000027 FAr00r00         [16]  110 	ld	a, (_global_selected_block)
    0000002A 33               [ 8]  111 	inc	sp
    0000002B 33               [ 8]  112 	inc	sp
    0000002C C3r00r00         [16]  113 	jp	_move_sprite_block_pointer
                                    114 ;src/PointerSelector.c:20: }
    0000002F 33               [ 8]  115 	inc	sp
    00000030 33               [ 8]  116 	inc	sp
    00000031 C9               [16]  117 	ret
                                    118 ;src/PointerSelector.c:22: void move_pointer(Pointer* s) {
                                    119 ;	---------------------------------
                                    120 ; Function move_pointer
                                    121 ; ---------------------------------
    00000032                        122 _move_pointer::
    00000032 3B               [ 8]  123 	dec	sp
    00000033 3B               [ 8]  124 	dec	sp
                                    125 ;src/PointerSelector.c:23: move_sprite(4, s->x- SPRITESIZE, s->y-SPRITESIZE);
    00000034 4B               [ 4]  126 	ld	c, e
    00000035 42               [ 4]  127 	ld	b, d
    00000036 03               [ 8]  128 	inc	bc
    00000037 0A               [ 8]  129 	ld	a, (bc)
    00000038 C6 F8            [ 8]  130 	add	a, #0xf8
    0000003A F8 00            [12]  131 	ldhl	sp,	#0
    0000003C 22               [ 8]  132 	ld	(hl+), a
    0000003D 1A               [ 8]  133 	ld	a, (de)
    0000003E C6 F8            [ 8]  134 	add	a, #0xf8
    00000040 77               [ 8]  135 	ld	(hl), a
                                    136 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000041 21r10r00         [12]  137 	ld	hl, #(_shadow_OAM + 16)
                                    138 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    00000044 E5               [16]  139 	push	hl
    00000045 F8 02            [12]  140 	ldhl	sp,	#2
    00000047 7E               [ 8]  141 	ld	a, (hl)
    00000048 E1               [12]  142 	pop	hl
    00000049 22               [ 8]  143 	ld	(hl+), a
    0000004A E5               [16]  144 	push	hl
    0000004B F8 03            [12]  145 	ldhl	sp,	#3
    0000004D 7E               [ 8]  146 	ld	a, (hl)
    0000004E E1               [12]  147 	pop	hl
    0000004F 77               [ 8]  148 	ld	(hl), a
                                    149 ;src/PointerSelector.c:24: move_sprite(5, s->x- SPRITESIZE, s->y);
    00000050 0A               [ 8]  150 	ld	a, (bc)
    00000051 F8 00            [12]  151 	ldhl	sp,	#0
    00000053 22               [ 8]  152 	ld	(hl+), a
    00000054 1A               [ 8]  153 	ld	a, (de)
    00000055 C6 F8            [ 8]  154 	add	a, #0xf8
    00000057 77               [ 8]  155 	ld	(hl), a
                                    156 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000058 21r14r00         [12]  157 	ld	hl, #(_shadow_OAM + 20)
                                    158 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    0000005B E5               [16]  159 	push	hl
    0000005C F8 02            [12]  160 	ldhl	sp,	#2
    0000005E 7E               [ 8]  161 	ld	a, (hl)
    0000005F E1               [12]  162 	pop	hl
    00000060 22               [ 8]  163 	ld	(hl+), a
    00000061 E5               [16]  164 	push	hl
    00000062 F8 03            [12]  165 	ldhl	sp,	#3
    00000064 7E               [ 8]  166 	ld	a, (hl)
    00000065 E1               [12]  167 	pop	hl
    00000066 77               [ 8]  168 	ld	(hl), a
                                    169 ;src/PointerSelector.c:25: move_sprite(6, s->x, s->y-SPRITESIZE);
    00000067 0A               [ 8]  170 	ld	a, (bc)
    00000068 C6 F8            [ 8]  171 	add	a, #0xf8
    0000006A F8 00            [12]  172 	ldhl	sp,	#0
    0000006C 22               [ 8]  173 	ld	(hl+), a
    0000006D 1A               [ 8]  174 	ld	a, (de)
    0000006E 77               [ 8]  175 	ld	(hl), a
                                    176 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    0000006F 21r18r00         [12]  177 	ld	hl, #(_shadow_OAM + 24)
                                    178 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    00000072 E5               [16]  179 	push	hl
    00000073 F8 02            [12]  180 	ldhl	sp,	#2
    00000075 7E               [ 8]  181 	ld	a, (hl)
    00000076 E1               [12]  182 	pop	hl
    00000077 22               [ 8]  183 	ld	(hl+), a
    00000078 E5               [16]  184 	push	hl
    00000079 F8 03            [12]  185 	ldhl	sp,	#3
    0000007B 7E               [ 8]  186 	ld	a, (hl)
    0000007C E1               [12]  187 	pop	hl
    0000007D 77               [ 8]  188 	ld	(hl), a
                                    189 ;src/PointerSelector.c:26: move_sprite(7, s->x, s->y);
    0000007E 0A               [ 8]  190 	ld	a, (bc)
    0000007F 47               [ 4]  191 	ld	b, a
    00000080 1A               [ 8]  192 	ld	a, (de)
    00000081 4F               [ 4]  193 	ld	c, a
                                    194 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000082 21r1Cr00         [12]  195 	ld	hl, #(_shadow_OAM + 28)
                                    196 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    00000085 78               [ 4]  197 	ld	a, b
    00000086 22               [ 8]  198 	ld	(hl+), a
    00000087 71               [ 8]  199 	ld	(hl), c
                                    200 ;src/PointerSelector.c:26: move_sprite(7, s->x, s->y);
                                    201 ;src/PointerSelector.c:28: }
    00000088 33               [ 8]  202 	inc	sp
    00000089 33               [ 8]  203 	inc	sp
    0000008A C9               [16]  204 	ret
                                    205 ;src/PointerSelector.c:30: uint8_t can_pointer_move(Pointer* s, int8_t dir_x, int8_t dir_y){
                                    206 ;	---------------------------------
                                    207 ; Function can_pointer_move
                                    208 ; ---------------------------------
    0000008B                        209 _can_pointer_move::
    0000008B 6B               [ 4]  210 	ld	l, e
    0000008C 62               [ 4]  211 	ld	h, d
                                    212 ;src/PointerSelector.c:31: uint8_t new_x = s->x + dir_x*SPRITESIZE;
    0000008D 4E               [ 8]  213 	ld	c, (hl)
                                    214 ;src/PointerSelector.c:32: uint8_t new_y = s->y + dir_y*SPRITESIZE;
    0000008E 23               [ 8]  215 	inc	hl
    0000008F 87               [ 4]  216 	add	a, a
    00000090 87               [ 4]  217 	add	a, a
    00000091 87               [ 4]  218 	add	a, a
    00000092 81               [ 4]  219 	add	a, c
    00000093 4F               [ 4]  220 	ld	c, a
    00000094 5E               [ 8]  221 	ld	e, (hl)
    00000095 F8 02            [12]  222 	ldhl	sp,	#2
    00000097 7E               [ 8]  223 	ld	a, (hl)
    00000098 87               [ 4]  224 	add	a, a
    00000099 87               [ 4]  225 	add	a, a
    0000009A 87               [ 4]  226 	add	a, a
    0000009B 83               [ 4]  227 	add	a, e
    0000009C 47               [ 4]  228 	ld	b, a
                                    229 ;src/PointerSelector.c:34: if(new_x < 20 || new_x > 156 || new_y < 32 || new_y > 120){
    0000009D 79               [ 4]  230 	ld	a, c
    0000009E D6 14            [ 8]  231 	sub	a, #0x14
    000000A0 38 0F            [12]  232 	jr	C, 00101$
    000000A2 3E 9C            [ 8]  233 	ld	a, #0x9c
    000000A4 91               [ 4]  234 	sub	a, c
    000000A5 38 0A            [12]  235 	jr	C, 00101$
    000000A7 78               [ 4]  236 	ld	a, b
    000000A8 D6 20            [ 8]  237 	sub	a, #0x20
    000000AA 38 05            [12]  238 	jr	C, 00101$
    000000AC 3E 78            [ 8]  239 	ld	a, #0x78
    000000AE 90               [ 4]  240 	sub	a, b
    000000AF 30 03            [12]  241 	jr	NC, 00102$
    000000B1                        242 00101$:
                                    243 ;src/PointerSelector.c:35: return 0;
    000000B1 AF               [ 4]  244 	xor	a, a
    000000B2 18 02            [12]  245 	jr	00106$
    000000B4                        246 00102$:
                                    247 ;src/PointerSelector.c:37: return 1;
    000000B4 3E 01            [ 8]  248 	ld	a, #0x01
    000000B6                        249 00106$:
                                    250 ;src/PointerSelector.c:39: }
    000000B6 E1               [12]  251 	pop	hl
    000000B7 33               [ 8]  252 	inc	sp
    000000B8 E9               [ 4]  253 	jp	(hl)
                                    254 ;src/PointerSelector.c:41: void place_object_at_pointer(Pointer* s, uint8_t block_type){
                                    255 ;	---------------------------------
                                    256 ; Function place_object_at_pointer
                                    257 ; ---------------------------------
    000000B9                        258 _place_object_at_pointer::
    000000B9 3B               [ 8]  259 	dec	sp
    000000BA 3B               [ 8]  260 	dec	sp
    000000BB F8 01            [12]  261 	ldhl	sp,	#1
    000000BD 77               [ 8]  262 	ld	(hl), a
                                    263 ;src/PointerSelector.c:42: change_colision_map_at(s->tileindexBR, BLOCK);
    000000BE 21 06 00         [12]  264 	ld	hl, #0x0006
    000000C1 19               [ 8]  265 	add	hl, de
    000000C2 4D               [ 4]  266 	ld	c,l
    000000C3 44               [ 4]  267 	ld	b,h
    000000C4 2A               [ 8]  268 	ld	a,	(hl+)
    000000C5 66               [ 8]  269 	ld	h, (hl)
    000000C6 6F               [ 4]  270 	ld	l, a
    000000C7 C5               [16]  271 	push	bc
    000000C8 3E 05            [ 8]  272 	ld	a, #0x05
    000000CA 5D               [ 4]  273 	ld	e, l
    000000CB 54               [ 4]  274 	ld	d, h
    000000CC CDr00r00         [24]  275 	call	_change_colision_map_at
    000000CF C1               [12]  276 	pop	bc
                                    277 ;src/PointerSelector.c:43: change_colision_map_BR(s->tileindexBR, block_type);
    000000D0 69               [ 4]  278 	ld	l, c
    000000D1 60               [ 4]  279 	ld	h, b
    000000D2 2A               [ 8]  280 	ld	a,	(hl+)
    000000D3 66               [ 8]  281 	ld	h, (hl)
    000000D4 6F               [ 4]  282 	ld	l, a
    000000D5 C5               [16]  283 	push	bc
    000000D6 E5               [16]  284 	push	hl
    000000D7 F8 05            [12]  285 	ldhl	sp,	#5
    000000D9 7E               [ 8]  286 	ld	a, (hl)
    000000DA D1               [12]  287 	pop	de
    000000DB CDr00r00         [24]  288 	call	_change_colision_map_BR
    000000DE C1               [12]  289 	pop	bc
                                    290 ;src/PointerSelector.c:44: change_bkg_tile_16x16(s->tileindexBR, global_selected_block * 4 + UMBRAL_BLOCKS);
    000000DF FAr00r00         [16]  291 	ld	a, (_global_selected_block)
    000000E2 87               [ 4]  292 	add	a, a
    000000E3 87               [ 4]  293 	add	a, a
    000000E4 C6 47            [ 8]  294 	add	a, #0x47
    000000E6 F8 00            [12]  295 	ldhl	sp,	#0
    000000E8 77               [ 8]  296 	ld	(hl), a
    000000E9 69               [ 4]  297 	ld	l, c
    000000EA 60               [ 4]  298 	ld	h, b
    000000EB 2A               [ 8]  299 	ld	a, (hl+)
    000000EC 4F               [ 4]  300 	ld	c, a
    000000ED 46               [ 8]  301 	ld	b, (hl)
    000000EE F8 00            [12]  302 	ldhl	sp,	#0
    000000F0 7E               [ 8]  303 	ld	a, (hl)
    000000F1 59               [ 4]  304 	ld	e, c
    000000F2 50               [ 4]  305 	ld	d, b
    000000F3 CDr00r00         [24]  306 	call	_change_bkg_tile_16x16
                                    307 ;src/PointerSelector.c:45: global_blocks_available[global_selected_block]--;
    000000F6 FAr00r00         [16]  308 	ld	a, (_global_selected_block)
    000000F9 4F               [ 4]  309 	ld	c, a
    000000FA 07               [ 4]  310 	rlca
    000000FB 9F               [ 4]  311 	sbc	a, a
    000000FC 47               [ 4]  312 	ld	b, a
    000000FD 21r00r00         [12]  313 	ld	hl, #_global_blocks_available
    00000100 09               [ 8]  314 	add	hl, bc
    00000101 35               [12]  315 	dec	(hl)
                                    316 ;src/PointerSelector.c:46: update_values_in_hud(block_type, global_blocks_available[global_selected_block]);
    00000102 FAr00r00         [16]  317 	ld	a, (_global_selected_block)
    00000105 6F               [ 4]  318 	ld	l, a
    00000106 07               [ 4]  319 	rlca
    00000107 9F               [ 4]  320 	sbc	a, a
    00000108 67               [ 4]  321 	ld	h, a
    00000109 11r00r00         [12]  322 	ld	de, #_global_blocks_available
    0000010C 19               [ 8]  323 	add	hl, de
    0000010D 5E               [ 8]  324 	ld	e, (hl)
    0000010E F8 01            [12]  325 	ldhl	sp,	#1
    00000110 7E               [ 8]  326 	ld	a, (hl)
    00000111 33               [ 8]  327 	inc	sp
    00000112 33               [ 8]  328 	inc	sp
    00000113 C3r00r00         [16]  329 	jp	_update_values_in_hud
                                    330 ;src/PointerSelector.c:47: }
    00000116 33               [ 8]  331 	inc	sp
    00000117 33               [ 8]  332 	inc	sp
    00000118 C9               [16]  333 	ret
                                    334 ;src/PointerSelector.c:49: void remove_object_at_pointer(Pointer* s, uint8_t block_type){
                                    335 ;	---------------------------------
                                    336 ; Function remove_object_at_pointer
                                    337 ; ---------------------------------
    00000119                        338 _remove_object_at_pointer::
    00000119 3B               [ 8]  339 	dec	sp
    0000011A 3B               [ 8]  340 	dec	sp
    0000011B F8 01            [12]  341 	ldhl	sp,	#1
                                    342 ;src/PointerSelector.c:51: uint8_t block_index = block_type - RIGHT;
    0000011D 32               [ 8]  343 	ld	(hl-), a
    0000011E C6 FA            [ 8]  344 	add	a, #0xfa
    00000120 77               [ 8]  345 	ld	(hl), a
                                    346 ;src/PointerSelector.c:52: change_colision_map_at(s->tileindexBR, EMPTY);
    00000121 21 06 00         [12]  347 	ld	hl, #0x0006
    00000124 19               [ 8]  348 	add	hl, de
    00000125 4D               [ 4]  349 	ld	c,l
    00000126 44               [ 4]  350 	ld	b,h
    00000127 2A               [ 8]  351 	ld	a,	(hl+)
    00000128 66               [ 8]  352 	ld	h, (hl)
    00000129 6F               [ 4]  353 	ld	l, a
    0000012A C5               [16]  354 	push	bc
    0000012B AF               [ 4]  355 	xor	a, a
    0000012C 5D               [ 4]  356 	ld	e, l
    0000012D 54               [ 4]  357 	ld	d, h
    0000012E CDr00r00         [24]  358 	call	_change_colision_map_at
                                    359 ;src/PointerSelector.c:53: change_bkg_tile_xy(s->tileindexBR, 0);
    00000131 E1               [12]  360 	pop	hl
    00000132 2A               [ 8]  361 	ld	a, (hl+)
    00000133 4F               [ 4]  362 	ld	c, a
    00000134 46               [ 8]  363 	ld	b, (hl)
    00000135 AF               [ 4]  364 	xor	a, a
    00000136 59               [ 4]  365 	ld	e, c
    00000137 50               [ 4]  366 	ld	d, b
    00000138 CDr00r00         [24]  367 	call	_change_bkg_tile_xy
                                    368 ;src/PointerSelector.c:54: global_blocks_available[block_index]++;
    0000013B 11r00r00         [12]  369 	ld	de, #_global_blocks_available
    0000013E F8 00            [12]  370 	ldhl	sp,	#0
    00000140 6E               [ 8]  371 	ld	l, (hl)
    00000141 26 00            [ 8]  372 	ld	h, #0x00
    00000143 19               [ 8]  373 	add	hl, de
    00000144 4D               [ 4]  374 	ld	c, l
    00000145 44               [ 4]  375 	ld	b, h
    00000146 0A               [ 8]  376 	ld	a, (bc)
    00000147 3C               [ 4]  377 	inc	a
    00000148 02               [ 8]  378 	ld	(bc), a
                                    379 ;src/PointerSelector.c:55: update_values_in_hud(block_type, global_blocks_available[block_index]);
    00000149 5F               [ 4]  380 	ld	e, a
    0000014A F8 01            [12]  381 	ldhl	sp,	#1
    0000014C 7E               [ 8]  382 	ld	a, (hl)
    0000014D 33               [ 8]  383 	inc	sp
    0000014E 33               [ 8]  384 	inc	sp
    0000014F C3r00r00         [16]  385 	jp	_update_values_in_hud
                                    386 ;src/PointerSelector.c:56: }
    00000152 33               [ 8]  387 	inc	sp
    00000153 33               [ 8]  388 	inc	sp
    00000154 C9               [16]  389 	ret
                                    390 ;src/PointerSelector.c:58: uint8_t block_is_not_placed_below(Pointer* s){
                                    391 ;	---------------------------------
                                    392 ; Function block_is_not_placed_below
                                    393 ; ---------------------------------
    00000155                        394 _block_is_not_placed_below::
                                    395 ;src/PointerSelector.c:59: return (global_colision_map[s->tileindexBR] == EMPTY) 
    00000155 01r00r00         [12]  396 	ld	bc, #_global_colision_map+0
    00000158 21 06 00         [12]  397 	ld	hl, #0x0006
    0000015B 19               [ 8]  398 	add	hl, de
    0000015C 2A               [ 8]  399 	ld	a,	(hl+)
    0000015D 66               [ 8]  400 	ld	h, (hl)
    0000015E 6F               [ 4]  401 	ld	l, a
    0000015F 81               [ 4]  402 	add	a, c
    00000160 5F               [ 4]  403 	ld	e, a
    00000161 7C               [ 4]  404 	ld	a, h
    00000162 88               [ 4]  405 	adc	a, b
    00000163 57               [ 4]  406 	ld	d, a
    00000164 1A               [ 8]  407 	ld	a, (de)
    00000165 B7               [ 4]  408 	or	a, a
    00000166 20 22            [12]  409 	jr	NZ, 00103$
                                    410 ;src/PointerSelector.c:60: && (global_colision_map[s->tileindexBR-1] == EMPTY)
    00000168 5D               [ 4]  411 	ld	e,l
    00000169 54               [ 4]  412 	ld	d,h
    0000016A 2B               [ 8]  413 	dec	hl
    0000016B 09               [ 8]  414 	add	hl, bc
    0000016C 7E               [ 8]  415 	ld	a, (hl)
    0000016D B7               [ 4]  416 	or	a, a
    0000016E 20 1A            [12]  417 	jr	NZ, 00103$
                                    418 ;src/PointerSelector.c:61: && (global_colision_map[s->tileindexBR-20] == EMPTY)
    00000170 7B               [ 4]  419 	ld	a, e
    00000171 C6 EC            [ 8]  420 	add	a, #0xec
    00000173 6F               [ 4]  421 	ld	l, a
    00000174 7A               [ 4]  422 	ld	a, d
    00000175 CE FF            [ 8]  423 	adc	a, #0xff
    00000177 67               [ 4]  424 	ld	h, a
    00000178 09               [ 8]  425 	add	hl, bc
    00000179 7E               [ 8]  426 	ld	a, (hl)
    0000017A B7               [ 4]  427 	or	a, a
    0000017B 20 0D            [12]  428 	jr	NZ, 00103$
                                    429 ;src/PointerSelector.c:62: && (global_colision_map[s->tileindexBR-21] == EMPTY);
    0000017D 7B               [ 4]  430 	ld	a, e
    0000017E C6 EB            [ 8]  431 	add	a, #0xeb
    00000180 6F               [ 4]  432 	ld	l, a
    00000181 7A               [ 4]  433 	ld	a, d
    00000182 CE FF            [ 8]  434 	adc	a, #0xff
    00000184 67               [ 4]  435 	ld	h, a
    00000185 09               [ 8]  436 	add	hl, bc
    00000186 7E               [ 8]  437 	ld	a, (hl)
    00000187 B7               [ 4]  438 	or	a, a
    00000188 28 02            [12]  439 	jr	Z, 00104$
    0000018A                        440 00103$:
    0000018A AF               [ 4]  441 	xor	a, a
    0000018B C9               [16]  442 	ret
    0000018C                        443 00104$:
    0000018C 3E 01            [ 8]  444 	ld	a, #0x01
                                    445 ;src/PointerSelector.c:63: }
    0000018E C9               [16]  446 	ret
                                    447 ;src/PointerSelector.c:65: uint8_t block_is_placed_below(Pointer* s){
                                    448 ;	---------------------------------
                                    449 ; Function block_is_placed_below
                                    450 ; ---------------------------------
    0000018F                        451 _block_is_placed_below::
    0000018F E8 FD            [16]  452 	add	sp, #-3
                                    453 ;src/PointerSelector.c:71: uint8_t res = 0;
    00000191 0E 00            [ 8]  454 	ld	c, #0x00
                                    455 ;src/PointerSelector.c:72: if ((global_colision_map[s->tileindexBR]>= RIGHT && global_colision_map[s->tileindexBR]<=RIGHT+NUMBER_OF_BLOCKS) 
    00000193 21 06 00         [12]  456 	ld	hl, #0x0006
    00000196 19               [ 8]  457 	add	hl, de
    00000197 5D               [ 4]  458 	ld	e, l
    00000198 54               [ 4]  459 	ld	d, h
    00000199 1A               [ 8]  460 	ld	a, (de)
    0000019A F8 00            [12]  461 	ldhl	sp,	#0
    0000019C 22               [ 8]  462 	ld	(hl+), a
    0000019D 13               [ 8]  463 	inc	de
    0000019E 1A               [ 8]  464 	ld	a, (de)
    0000019F 77               [ 8]  465 	ld	(hl), a
    000001A0 11r00r00         [12]  466 	ld	de, #_global_colision_map
    000001A3 E1               [12]  467 	pop	hl
    000001A4 E5               [16]  468 	push	hl
    000001A5 19               [ 8]  469 	add	hl, de
    000001A6 5D               [ 4]  470 	ld	e, l
    000001A7 54               [ 4]  471 	ld	d, h
    000001A8 1A               [ 8]  472 	ld	a, (de)
    000001A9 F8 02            [12]  473 	ldhl	sp,	#2
    000001AB 77               [ 8]  474 	ld	(hl), a
    000001AC D6 06            [ 8]  475 	sub	a, #0x06
    000001AE 38 3C            [12]  476 	jr	C, 00102$
    000001B0 3E 0C            [ 8]  477 	ld	a, #0x0c
    000001B2 96               [ 8]  478 	sub	a, (hl)
    000001B3 38 37            [12]  479 	jr	C, 00102$
                                    480 ;src/PointerSelector.c:73: && (global_colision_map[s->tileindexBR-1] == BLOCK)
    000001B5 D1               [12]  481 	pop	de
    000001B6 D5               [16]  482 	push	de
    000001B7 6B               [ 4]  483 	ld	l, e
    000001B8 62               [ 4]  484 	ld	h, d
    000001B9 2B               [ 8]  485 	dec	hl
    000001BA D5               [16]  486 	push	de
    000001BB 11r00r00         [12]  487 	ld	de, #_global_colision_map
    000001BE 19               [ 8]  488 	add	hl, de
    000001BF D1               [12]  489 	pop	de
    000001C0 7E               [ 8]  490 	ld	a, (hl)
    000001C1 D6 05            [ 8]  491 	sub	a, #0x05
    000001C3 20 27            [12]  492 	jr	NZ, 00102$
                                    493 ;src/PointerSelector.c:74: && (global_colision_map[s->tileindexBR-20] == BLOCK)
    000001C5 7B               [ 4]  494 	ld	a, e
    000001C6 C6 EC            [ 8]  495 	add	a, #0xec
    000001C8 6F               [ 4]  496 	ld	l, a
    000001C9 7A               [ 4]  497 	ld	a, d
    000001CA CE FF            [ 8]  498 	adc	a, #0xff
    000001CC 67               [ 4]  499 	ld	h, a
    000001CD D5               [16]  500 	push	de
    000001CE 11r00r00         [12]  501 	ld	de, #_global_colision_map
    000001D1 19               [ 8]  502 	add	hl, de
    000001D2 D1               [12]  503 	pop	de
    000001D3 7E               [ 8]  504 	ld	a, (hl)
    000001D4 D6 05            [ 8]  505 	sub	a, #0x05
    000001D6 20 14            [12]  506 	jr	NZ, 00102$
                                    507 ;src/PointerSelector.c:75: && (global_colision_map[s->tileindexBR-21] == BLOCK)){
    000001D8 7B               [ 4]  508 	ld	a, e
    000001D9 C6 EB            [ 8]  509 	add	a, #0xeb
    000001DB 6F               [ 4]  510 	ld	l, a
    000001DC 7A               [ 4]  511 	ld	a, d
    000001DD CE FF            [ 8]  512 	adc	a, #0xff
    000001DF 67               [ 4]  513 	ld	h, a
    000001E0 11r00r00         [12]  514 	ld	de, #_global_colision_map
    000001E3 19               [ 8]  515 	add	hl, de
    000001E4 7E               [ 8]  516 	ld	a, (hl)
    000001E5 D6 05            [ 8]  517 	sub	a, #0x05
    000001E7 20 03            [12]  518 	jr	NZ, 00102$
                                    519 ;src/PointerSelector.c:76: res = global_colision_map[s->tileindexBR];
    000001E9 F8 02            [12]  520 	ldhl	sp,	#2
    000001EB 4E               [ 8]  521 	ld	c, (hl)
    000001EC                        522 00102$:
                                    523 ;src/PointerSelector.c:78: return res;
    000001EC 79               [ 4]  524 	ld	a, c
                                    525 ;src/PointerSelector.c:79: }
    000001ED E8 03            [16]  526 	add	sp, #3
    000001EF C9               [16]  527 	ret
                                    528 ;src/PointerSelector.c:81: void control_pointer(Pointer* s){
                                    529 ;	---------------------------------
                                    530 ; Function control_pointer
                                    531 ; ---------------------------------
    000001F0                        532 _control_pointer::
    000001F0 D5               [16]  533 	push	de
                                    534 ;src/PointerSelector.c:85: if(global_hud_selected==0){
    000001F1 FAr00r00         [16]  535 	ld	a, (#_global_hud_selected)
    000001F4 B7               [ 4]  536 	or	a, a
    000001F5 C2r24r03         [16]  537 	jp	NZ, 00146$
                                    538 ;src/PointerSelector.c:86: if(joypad() & J_UP) {
    000001F8 CDr00r00         [24]  539 	call	_joypad
                                    540 ;src/PointerSelector.c:88: s->y -= 8;
    000001FB C1               [12]  541 	pop	bc
    000001FC C5               [16]  542 	push	bc
    000001FD 03               [ 8]  543 	inc	bc
                                    544 ;src/PointerSelector.c:86: if(joypad() & J_UP) {
    000001FE CB 57            [ 8]  545 	bit	2, a
    00000200 28 1A            [12]  546 	jr	Z, 00134$
                                    547 ;src/PointerSelector.c:87: if (can_pointer_move(s, 0, -1)){
    00000202 C5               [16]  548 	push	bc
    00000203 3E FF            [ 8]  549 	ld	a, #0xff
    00000205 F5               [16]  550 	push	af
    00000206 33               [ 8]  551 	inc	sp
    00000207 AF               [ 4]  552 	xor	a, a
    00000208 F8 03            [12]  553 	ldhl	sp,	#3
    0000020A 5E               [ 8]  554 	ld	e, (hl)
    0000020B 23               [ 8]  555 	inc	hl
    0000020C 56               [ 8]  556 	ld	d, (hl)
    0000020D CDr8Br00         [24]  557 	call	_can_pointer_move
    00000210 C1               [12]  558 	pop	bc
    00000211 B7               [ 4]  559 	or	a, a
    00000212 CAr86r03         [16]  560 	jp	Z, 00154$
                                    561 ;src/PointerSelector.c:88: s->y -= 8;
    00000215 0A               [ 8]  562 	ld	a, (bc)
    00000216 C6 F8            [ 8]  563 	add	a, #0xf8
    00000218 02               [ 8]  564 	ld	(bc), a
    00000219 C3r86r03         [16]  565 	jp	00154$
    0000021C                        566 00134$:
                                    567 ;src/PointerSelector.c:90: } else if(joypad() & J_DOWN) {
    0000021C CDr00r00         [24]  568 	call	_joypad
    0000021F CB 5F            [ 8]  569 	bit	3, a
    00000221 28 1A            [12]  570 	jr	Z, 00131$
                                    571 ;src/PointerSelector.c:91: if (can_pointer_move(s, 0, 1)){
    00000223 C5               [16]  572 	push	bc
    00000224 3E 01            [ 8]  573 	ld	a, #0x01
    00000226 F5               [16]  574 	push	af
    00000227 33               [ 8]  575 	inc	sp
    00000228 AF               [ 4]  576 	xor	a, a
    00000229 F8 03            [12]  577 	ldhl	sp,	#3
    0000022B 5E               [ 8]  578 	ld	e, (hl)
    0000022C 23               [ 8]  579 	inc	hl
    0000022D 56               [ 8]  580 	ld	d, (hl)
    0000022E CDr8Br00         [24]  581 	call	_can_pointer_move
    00000231 C1               [12]  582 	pop	bc
    00000232 B7               [ 4]  583 	or	a, a
    00000233 CAr86r03         [16]  584 	jp	Z, 00154$
                                    585 ;src/PointerSelector.c:92: s->y += 8;
    00000236 0A               [ 8]  586 	ld	a, (bc)
    00000237 C6 08            [ 8]  587 	add	a, #0x08
    00000239 02               [ 8]  588 	ld	(bc), a
    0000023A C3r86r03         [16]  589 	jp	00154$
    0000023D                        590 00131$:
                                    591 ;src/PointerSelector.c:94: } else if(joypad() & J_LEFT) {
    0000023D CDr00r00         [24]  592 	call	_joypad
                                    593 ;src/PointerSelector.c:96: s->x -= 8;
    00000240 D1               [12]  594 	pop	de
    00000241 D5               [16]  595 	push	de
                                    596 ;src/PointerSelector.c:94: } else if(joypad() & J_LEFT) {
    00000242 CB 4F            [ 8]  597 	bit	1, a
    00000244 28 1A            [12]  598 	jr	Z, 00128$
                                    599 ;src/PointerSelector.c:95: if (can_pointer_move(s, -1, 0)){
    00000246 D5               [16]  600 	push	de
    00000247 AF               [ 4]  601 	xor	a, a
    00000248 F5               [16]  602 	push	af
    00000249 33               [ 8]  603 	inc	sp
    0000024A 3E FF            [ 8]  604 	ld	a, #0xff
    0000024C F8 03            [12]  605 	ldhl	sp,	#3
    0000024E 5E               [ 8]  606 	ld	e, (hl)
    0000024F 23               [ 8]  607 	inc	hl
    00000250 56               [ 8]  608 	ld	d, (hl)
    00000251 CDr8Br00         [24]  609 	call	_can_pointer_move
    00000254 D1               [12]  610 	pop	de
    00000255 B7               [ 4]  611 	or	a, a
    00000256 CAr86r03         [16]  612 	jp	Z, 00154$
                                    613 ;src/PointerSelector.c:96: s->x -= 8;
    00000259 1A               [ 8]  614 	ld	a, (de)
    0000025A C6 F8            [ 8]  615 	add	a, #0xf8
    0000025C 12               [ 8]  616 	ld	(de), a
    0000025D C3r86r03         [16]  617 	jp	00154$
    00000260                        618 00128$:
                                    619 ;src/PointerSelector.c:98: } else if(joypad() & J_RIGHT) {
    00000260 D5               [16]  620 	push	de
    00000261 CDr00r00         [24]  621 	call	_joypad
    00000264 D1               [12]  622 	pop	de
    00000265 0F               [ 4]  623 	rrca
    00000266 30 1A            [12]  624 	jr	NC, 00125$
                                    625 ;src/PointerSelector.c:99: if (can_pointer_move(s, 1, 0)){
    00000268 D5               [16]  626 	push	de
    00000269 AF               [ 4]  627 	xor	a, a
    0000026A F5               [16]  628 	push	af
    0000026B 33               [ 8]  629 	inc	sp
    0000026C 3E 01            [ 8]  630 	ld	a, #0x01
    0000026E F8 03            [12]  631 	ldhl	sp,	#3
    00000270 5E               [ 8]  632 	ld	e, (hl)
    00000271 23               [ 8]  633 	inc	hl
    00000272 56               [ 8]  634 	ld	d, (hl)
    00000273 CDr8Br00         [24]  635 	call	_can_pointer_move
    00000276 D1               [12]  636 	pop	de
    00000277 B7               [ 4]  637 	or	a, a
    00000278 CAr86r03         [16]  638 	jp	Z, 00154$
                                    639 ;src/PointerSelector.c:100: s->x += 8;
    0000027B 1A               [ 8]  640 	ld	a, (de)
    0000027C C6 08            [ 8]  641 	add	a, #0x08
    0000027E 12               [ 8]  642 	ld	(de), a
    0000027F C3r86r03         [16]  643 	jp	00154$
    00000282                        644 00125$:
                                    645 ;src/PointerSelector.c:102: } else if(joypad() & J_A) {
    00000282 D5               [16]  646 	push	de
    00000283 CDr00r00         [24]  647 	call	_joypad
    00000286 D1               [12]  648 	pop	de
    00000287 CB 67            [ 8]  649 	bit	4, a
    00000289 28 45            [12]  650 	jr	Z, 00122$
                                    651 ;src/PointerSelector.c:103: if(block_is_not_placed_below(s) 
    0000028B C5               [16]  652 	push	bc
    0000028C D5               [16]  653 	push	de
    0000028D F8 04            [12]  654 	ldhl	sp,	#4
    0000028F 2A               [ 8]  655 	ld	a, (hl+)
    00000290 5F               [ 4]  656 	ld	e, a
    00000291 56               [ 8]  657 	ld	d, (hl)
    00000292 CDr55r01         [24]  658 	call	_block_is_not_placed_below
    00000295 D1               [12]  659 	pop	de
    00000296 C1               [12]  660 	pop	bc
    00000297 B7               [ 4]  661 	or	a, a
    00000298 CAr86r03         [16]  662 	jp	Z, 00154$
                                    663 ;src/PointerSelector.c:104: && (global_blocks_available[global_selected_block]>0)
    0000029B FAr00r00         [16]  664 	ld	a, (_global_selected_block)
    0000029E 6F               [ 4]  665 	ld	l, a
    0000029F 07               [ 4]  666 	rlca
    000002A0 9F               [ 4]  667 	sbc	a, a
    000002A1 67               [ 4]  668 	ld	h, a
    000002A2 D5               [16]  669 	push	de
    000002A3 11r00r00         [12]  670 	ld	de, #_global_blocks_available
    000002A6 19               [ 8]  671 	add	hl, de
    000002A7 D1               [12]  672 	pop	de
    000002A8 7E               [ 8]  673 	ld	a, (hl)
    000002A9 B7               [ 4]  674 	or	a, a
    000002AA CAr86r03         [16]  675 	jp	Z, 00154$
                                    676 ;src/PointerSelector.c:105: && check_colision_with_object(s->x - (16 >> 1), s->y - (16 >> 1) , 16, 16) == 255){
    000002AD 0A               [ 8]  677 	ld	a, (bc)
    000002AE C6 F8            [ 8]  678 	add	a, #0xf8
    000002B0 4F               [ 4]  679 	ld	c, a
    000002B1 1A               [ 8]  680 	ld	a, (de)
    000002B2 C6 F8            [ 8]  681 	add	a, #0xf8
    000002B4 26 10            [ 8]  682 	ld	h, #0x10
    000002B6 E5               [16]  683 	push	hl
    000002B7 33               [ 8]  684 	inc	sp
    000002B8 26 10            [ 8]  685 	ld	h, #0x10
    000002BA E5               [16]  686 	push	hl
    000002BB 33               [ 8]  687 	inc	sp
    000002BC 59               [ 4]  688 	ld	e, c
    000002BD CDr00r00         [24]  689 	call	_check_colision_with_object
    000002C0 3C               [ 4]  690 	inc	a
    000002C1 C2r86r03         [16]  691 	jp	NZ, 00154$
                                    692 ;src/PointerSelector.c:106: place_object_at_pointer(s, global_selected_block + 6);
    000002C4 FAr00r00         [16]  693 	ld	a, (#_global_selected_block)
    000002C7 C6 06            [ 8]  694 	add	a, #0x06
    000002C9 D1               [12]  695 	pop	de
    000002CA C3rB9r00         [16]  696 	jp	_place_object_at_pointer
    000002CD C3r86r03         [16]  697 	jp	00154$
    000002D0                        698 00122$:
                                    699 ;src/PointerSelector.c:108: } else if(joypad() & J_B) {
    000002D0 CDr00r00         [24]  700 	call	_joypad
    000002D3 CB 6F            [ 8]  701 	bit	5, a
    000002D5 28 11            [12]  702 	jr	Z, 00119$
                                    703 ;src/PointerSelector.c:109: uint8_t block = block_is_placed_below(s);
    000002D7 D1               [12]  704 	pop	de
    000002D8 D5               [16]  705 	push	de
    000002D9 CDr8Fr01         [24]  706 	call	_block_is_placed_below
                                    707 ;src/PointerSelector.c:110: if(block>=6){
    000002DC FE 06            [ 8]  708 	cp	a, #0x06
    000002DE DAr86r03         [16]  709 	jp	C, 00154$
                                    710 ;src/PointerSelector.c:111: remove_object_at_pointer(s, block);
    000002E1 D1               [12]  711 	pop	de
    000002E2 C3r19r01         [16]  712 	jp	_remove_object_at_pointer
    000002E5 C3r86r03         [16]  713 	jp	00154$
    000002E8                        714 00119$:
                                    715 ;src/PointerSelector.c:113: } else if(joypad() & J_SELECT) {
    000002E8 CDr00r00         [24]  716 	call	_joypad
    000002EB CB 77            [ 8]  717 	bit	6, a
    000002ED CAr86r03         [16]  718 	jp	Z, 00154$
                                    719 ;src/PointerSelector.c:114: global_hud_selected = !global_hud_selected;
    000002F0 21r00r00         [12]  720 	ld	hl, #_global_hud_selected
    000002F3 7E               [ 8]  721 	ld	a, (hl)
    000002F4 D6 01            [ 8]  722 	sub	a, #0x01
    000002F6 3E 00            [ 8]  723 	ld	a, #0x00
    000002F8 17               [ 4]  724 	rla
    000002F9 77               [ 8]  725 	ld	(hl), a
                                    726 ;src/PointerSelector.c:115: move_sprite_block_pointer(global_selected_block);
    000002FA FAr00r00         [16]  727 	ld	a, (_global_selected_block)
    000002FD CDr00r00         [24]  728 	call	_move_sprite_block_pointer
                                    729 ;src/PointerSelector.c:116: for(uint8_t i = 1;i<=4;i++){
    00000300 0E 01            [ 8]  730 	ld	c, #0x01
    00000302                        731 00149$:
    00000302 3E 04            [ 8]  732 	ld	a, #0x04
    00000304 91               [ 4]  733 	sub	a, c
    00000305 38 11            [12]  734 	jr	C, 00115$
                                    735 ;src/PointerSelector.c:117: WY_REG = 120 - i;
    00000307 41               [ 4]  736 	ld	b, c
    00000308 3E 78            [ 8]  737 	ld	a, #0x78
    0000030A 90               [ 4]  738 	sub	a, b
    0000030B E0r00            [12]  739 	ldh	(_WY_REG + 0), a
                                    740 ;src/PointerSelector.c:118: delay(10);
    0000030D C5               [16]  741 	push	bc
    0000030E 11 0A 00         [12]  742 	ld	de, #0x000a
    00000311 CDr00r00         [24]  743 	call	_delay
    00000314 C1               [12]  744 	pop	bc
                                    745 ;src/PointerSelector.c:116: for(uint8_t i = 1;i<=4;i++){
    00000315 0C               [ 4]  746 	inc	c
    00000316 18 EA            [12]  747 	jr	00149$
    00000318                        748 00115$:
                                    749 ;src/PointerSelector.c:120: set_win_tile_xy(0,1,hud_selectorTileOffset+26);
    00000318 3E 7A            [ 8]  750 	ld	a, #0x7a
    0000031A F5               [16]  751 	push	af
    0000031B 33               [ 8]  752 	inc	sp
    0000031C 1E 01            [ 8]  753 	ld	e, #0x01
    0000031E AF               [ 4]  754 	xor	a, a
    0000031F CDr00r00         [24]  755 	call	_set_win_tile_xy
    00000322 18 62            [12]  756 	jr	00154$
    00000324                        757 00146$:
                                    758 ;src/PointerSelector.c:125: if(joypad() & J_LEFT) {
    00000324 CDr00r00         [24]  759 	call	_joypad
    00000327 CB 4F            [ 8]  760 	bit	1, a
    00000329 28 0F            [12]  761 	jr	Z, 00143$
                                    762 ;src/PointerSelector.c:126: move_foward_block_id(1);
    0000032B 3E 01            [ 8]  763 	ld	a, #0x01
    0000032D CDr00r00         [24]  764 	call	_move_foward_block_id
                                    765 ;src/PointerSelector.c:127: move_sprite_block_pointer(global_selected_block);
    00000330 FAr00r00         [16]  766 	ld	a, (_global_selected_block)
    00000333 33               [ 8]  767 	inc	sp
    00000334 33               [ 8]  768 	inc	sp
    00000335 C3r00r00         [16]  769 	jp	_move_sprite_block_pointer
    00000338 18 4C            [12]  770 	jr	00154$
    0000033A                        771 00143$:
                                    772 ;src/PointerSelector.c:128: } else if(joypad() & J_RIGHT) {
    0000033A CDr00r00         [24]  773 	call	_joypad
    0000033D 0F               [ 4]  774 	rrca
    0000033E 30 0E            [12]  775 	jr	NC, 00140$
                                    776 ;src/PointerSelector.c:129: move_foward_block_id(0);
    00000340 AF               [ 4]  777 	xor	a, a
    00000341 CDr00r00         [24]  778 	call	_move_foward_block_id
                                    779 ;src/PointerSelector.c:130: move_sprite_block_pointer(global_selected_block);
    00000344 FAr00r00         [16]  780 	ld	a, (_global_selected_block)
    00000347 33               [ 8]  781 	inc	sp
    00000348 33               [ 8]  782 	inc	sp
    00000349 C3r00r00         [16]  783 	jp	_move_sprite_block_pointer
    0000034C 18 38            [12]  784 	jr	00154$
    0000034E                        785 00140$:
                                    786 ;src/PointerSelector.c:132: } else if(joypad() & J_SELECT) {
    0000034E CDr00r00         [24]  787 	call	_joypad
    00000351 CB 77            [ 8]  788 	bit	6, a
    00000353 28 31            [12]  789 	jr	Z, 00154$
                                    790 ;src/PointerSelector.c:133: global_hud_selected = !global_hud_selected;
    00000355 21r00r00         [12]  791 	ld	hl, #_global_hud_selected
    00000358 7E               [ 8]  792 	ld	a, (hl)
    00000359 D6 01            [ 8]  793 	sub	a, #0x01
    0000035B 3E 00            [ 8]  794 	ld	a, #0x00
    0000035D 17               [ 4]  795 	rla
    0000035E 77               [ 8]  796 	ld	(hl), a
                                    797 ;src/PointerSelector.c:134: move_sprite_block_pointer(global_selected_block);
    0000035F FAr00r00         [16]  798 	ld	a, (_global_selected_block)
    00000362 CDr00r00         [24]  799 	call	_move_sprite_block_pointer
                                    800 ;src/PointerSelector.c:135: for(uint8_t i = 1;i<=4;i++){
    00000365 0E 01            [ 8]  801 	ld	c, #0x01
    00000367                        802 00152$:
    00000367 3E 04            [ 8]  803 	ld	a, #0x04
    00000369 91               [ 4]  804 	sub	a, c
    0000036A 38 10            [12]  805 	jr	C, 00136$
                                    806 ;src/PointerSelector.c:136: WY_REG = 116 + i;
    0000036C 79               [ 4]  807 	ld	a, c
    0000036D C6 74            [ 8]  808 	add	a, #0x74
    0000036F E0r00            [12]  809 	ldh	(_WY_REG + 0), a
                                    810 ;src/PointerSelector.c:137: delay(10);
    00000371 C5               [16]  811 	push	bc
    00000372 11 0A 00         [12]  812 	ld	de, #0x000a
    00000375 CDr00r00         [24]  813 	call	_delay
    00000378 C1               [12]  814 	pop	bc
                                    815 ;src/PointerSelector.c:135: for(uint8_t i = 1;i<=4;i++){
    00000379 0C               [ 4]  816 	inc	c
    0000037A 18 EB            [12]  817 	jr	00152$
    0000037C                        818 00136$:
                                    819 ;src/PointerSelector.c:139: set_win_tile_xy(0,1,hud_selectorTileOffset+27);
    0000037C 3E 7B            [ 8]  820 	ld	a, #0x7b
    0000037E F5               [16]  821 	push	af
    0000037F 33               [ 8]  822 	inc	sp
    00000380 1E 01            [ 8]  823 	ld	e, #0x01
    00000382 AF               [ 4]  824 	xor	a, a
    00000383 CDr00r00         [24]  825 	call	_set_win_tile_xy
    00000386                        826 00154$:
                                    827 ;src/PointerSelector.c:142: }
    00000386 33               [ 8]  828 	inc	sp
    00000387 33               [ 8]  829 	inc	sp
    00000388 C9               [16]  830 	ret
                                    831 ;src/PointerSelector.c:144: void update_pointer(Pointer* s) { 
                                    832 ;	---------------------------------
                                    833 ; Function update_pointer
                                    834 ; ---------------------------------
    00000389                        835 _update_pointer::
    00000389 4B               [ 4]  836 	ld	c, e
    0000038A 42               [ 4]  837 	ld	b, d
                                    838 ;src/PointerSelector.c:145: s->tileindexBR = tileindex_from_xy(s->x, s->y);
    0000038B 21 06 00         [12]  839 	ld	hl, #0x0006
    0000038E 09               [ 8]  840 	add	hl, bc
    0000038F 59               [ 4]  841 	ld	e, c
    00000390 50               [ 4]  842 	ld	d, b
    00000391 13               [ 8]  843 	inc	de
    00000392 1A               [ 8]  844 	ld	a, (de)
    00000393 5F               [ 4]  845 	ld	e, a
    00000394 0A               [ 8]  846 	ld	a, (bc)
    00000395 E5               [16]  847 	push	hl
    00000396 C5               [16]  848 	push	bc
    00000397 CDr00r00         [24]  849 	call	_tileindex_from_xy
    0000039A 59               [ 4]  850 	ld	e, c
    0000039B 50               [ 4]  851 	ld	d, b
    0000039C C1               [12]  852 	pop	bc
    0000039D E1               [12]  853 	pop	hl
    0000039E 7B               [ 4]  854 	ld	a, e
    0000039F 22               [ 8]  855 	ld	(hl+), a
    000003A0 72               [ 8]  856 	ld	(hl), d
                                    857 ;src/PointerSelector.c:146: control_pointer(s);
    000003A1 C5               [16]  858 	push	bc
    000003A2 59               [ 4]  859 	ld	e, c
    000003A3 50               [ 4]  860 	ld	d, b
    000003A4 CDrF0r01         [24]  861 	call	_control_pointer
                                    862 ;src/PointerSelector.c:147: move_pointer(s);
    000003A7 D1               [12]  863 	pop	de
                                    864 ;src/PointerSelector.c:148: }
    000003A8 C3r32r00         [16]  865 	jp	_move_pointer
                                    866 ;src/PointerSelector.c:150: void hide_pointer(void){
                                    867 ;	---------------------------------
                                    868 ; Function hide_pointer
                                    869 ; ---------------------------------
    000003AB                        870 _hide_pointer::
                                    871 ;src/PointerSelector.c:151: for(uint8_t i= 4; i<=7; i++){
    000003AB 0E 04            [ 8]  872 	ld	c, #0x04
    000003AD                        873 00104$:
    000003AD 3E 07            [ 8]  874 	ld	a, #0x07
    000003AF 91               [ 4]  875 	sub	a, c
    000003B0 D8               [20]  876 	ret	C
                                    877 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000003B1 11r00r00         [12]  878 	ld	de, #_shadow_OAM+0
    000003B4 69               [ 4]  879 	ld	l, c
    000003B5 AF               [ 4]  880 	xor	a, a
    000003B6 67               [ 4]  881 	ld	h, a
    000003B7 29               [ 8]  882 	add	hl, hl
    000003B8 29               [ 8]  883 	add	hl, hl
    000003B9 19               [ 8]  884 	add	hl, de
                                    885 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000003BA AF               [ 4]  886 	xor	a, a
    000003BB 22               [ 8]  887 	ld	(hl+), a
    000003BC 77               [ 8]  888 	ld	(hl), a
                                    889 ;src/PointerSelector.c:151: for(uint8_t i= 4; i<=7; i++){
    000003BD 0C               [ 4]  890 	inc	c
                                    891 ;src/PointerSelector.c:154: }
    000003BE 18 ED            [12]  892 	jr	00104$
                                    893 	.area _CODE
                                    894 	.area _INITIALIZER
    00000000                        895 __xinit__global_hud_selected:
    00000000 00                     896 	.db #0x00	; 0
                                    897 	.area _CABS (ABS)
