                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module PointerSelector
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _set_bkg_tiles
                                     11 	.globl _joypad
                                     12 	.globl _move_foward_block_id
                                     13 	.globl _change_colision_map_BR
                                     14 	.globl _change_colision_map_at
                                     15 	.globl _tileindex_from_xy
                                     16 	.globl _change_bkg_tile_xy
                                     17 	.globl _pointer_init
                                     18 	.globl _move_pointer
                                     19 	.globl _place_object_at_pointer
                                     20 	.globl _remove_object_at_pointer
                                     21 	.globl _block_is_not_placed_below
                                     22 	.globl _block_is_placed_below
                                     23 	.globl _control_pointer
                                     24 	.globl _print_counter
                                     25 	.globl _update_pointer
                                     26 	.globl _hide_pointer
                                     27 ;--------------------------------------------------------
                                     28 ; special function registers
                                     29 ;--------------------------------------------------------
                                     30 ;--------------------------------------------------------
                                     31 ; ram data
                                     32 ;--------------------------------------------------------
                                     33 	.area _DATA
                                     34 ;--------------------------------------------------------
                                     35 ; ram data
                                     36 ;--------------------------------------------------------
                                     37 	.area _INITIALIZED
                                     38 ;--------------------------------------------------------
                                     39 ; absolute external ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area _DABS (ABS)
                                     42 ;--------------------------------------------------------
                                     43 ; global & static initialisations
                                     44 ;--------------------------------------------------------
                                     45 	.area _HOME
                                     46 	.area _GSINIT
                                     47 	.area _GSFINAL
                                     48 	.area _GSINIT
                                     49 ;--------------------------------------------------------
                                     50 ; Home
                                     51 ;--------------------------------------------------------
                                     52 	.area _HOME
                                     53 	.area _HOME
                                     54 ;--------------------------------------------------------
                                     55 ; code
                                     56 ;--------------------------------------------------------
                                     57 	.area _CODE
                                     58 ;src/PointerSelector.c:7: void pointer_init(Pointer* s) {
                                     59 ;	---------------------------------
                                     60 ; Function pointer_init
                                     61 ; ---------------------------------
    00000000                         62 _pointer_init::
                                     63 ;src/PointerSelector.c:8: s->x = 80;
    00000000 6B               [ 4]   64 	ld	l, e
    00000001 62               [ 4]   65 	ld	h, d
    00000002 36 50            [12]   66 	ld	(hl), #0x50
                                     67 ;src/PointerSelector.c:9: s->y = 72;
    00000004 E5               [16]   68 	push	hl
    00000005 23               [ 8]   69 	inc	hl
    00000006 36 48            [12]   70 	ld	(hl), #0x48
                                     71 ;src/PointerSelector.c:10: for(uint8_t i = 4;i<=7;i++){
    00000008 C1               [12]   72 	pop	bc
    00000009 C5               [16]   73 	push	bc
    0000000A 03               [ 8]   74 	inc	bc
    0000000B 03               [ 8]   75 	inc	bc
    0000000C 1E 04            [ 8]   76 	ld	e, #0x04
    0000000E                         77 00103$:
    0000000E 3E 07            [ 8]   78 	ld	a, #0x07
    00000010 93               [ 4]   79 	sub	a, e
    00000011 38 08            [12]   80 	jr	C, 00101$
                                     81 ;src/PointerSelector.c:11: s->sprite_ids[i] = i;
    00000013 6B               [ 4]   82 	ld	l, e
    00000014 26 00            [ 8]   83 	ld	h, #0x00
    00000016 09               [ 8]   84 	add	hl, bc
    00000017 73               [ 8]   85 	ld	(hl), e
                                     86 ;src/PointerSelector.c:10: for(uint8_t i = 4;i<=7;i++){
    00000018 1C               [ 4]   87 	inc	e
    00000019 18 F3            [12]   88 	jr	00103$
    0000001B                         89 00101$:
                                     90 ;src/PointerSelector.c:13: s->tileindexBR = 0;
    0000001B D1               [12]   91 	pop	de
    0000001C D5               [16]   92 	push	de
    0000001D 21 06 00         [12]   93 	ld	hl, #0x0006
    00000020 19               [ 8]   94 	add	hl, de
    00000021 4D               [ 4]   95 	ld	c, l
    00000022 44               [ 4]   96 	ld	b, h
    00000023 AF               [ 4]   97 	xor	a, a
    00000024 02               [ 8]   98 	ld	(bc), a
    00000025 03               [ 8]   99 	inc	bc
    00000026 02               [ 8]  100 	ld	(bc), a
                                    101 ;src/PointerSelector.c:14: }
    00000027 33               [ 8]  102 	inc	sp
    00000028 33               [ 8]  103 	inc	sp
    00000029 C9               [16]  104 	ret
                                    105 ;src/PointerSelector.c:16: void move_pointer(Pointer* s) {
                                    106 ;	---------------------------------
                                    107 ; Function move_pointer
                                    108 ; ---------------------------------
    0000002A                        109 _move_pointer::
    0000002A 3B               [ 8]  110 	dec	sp
    0000002B 3B               [ 8]  111 	dec	sp
                                    112 ;src/PointerSelector.c:17: move_sprite(4, s->x- SPRITESIZE, s->y-SPRITESIZE);
    0000002C 4B               [ 4]  113 	ld	c, e
    0000002D 42               [ 4]  114 	ld	b, d
    0000002E 03               [ 8]  115 	inc	bc
    0000002F 0A               [ 8]  116 	ld	a, (bc)
    00000030 C6 F8            [ 8]  117 	add	a, #0xf8
    00000032 F8 00            [12]  118 	ldhl	sp,	#0
    00000034 22               [ 8]  119 	ld	(hl+), a
    00000035 1A               [ 8]  120 	ld	a, (de)
    00000036 C6 F8            [ 8]  121 	add	a, #0xf8
    00000038 77               [ 8]  122 	ld	(hl), a
                                    123 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000039 21r10r00         [12]  124 	ld	hl, #(_shadow_OAM + 16)
                                    125 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    0000003C E5               [16]  126 	push	hl
    0000003D F8 02            [12]  127 	ldhl	sp,	#2
    0000003F 7E               [ 8]  128 	ld	a, (hl)
    00000040 E1               [12]  129 	pop	hl
    00000041 22               [ 8]  130 	ld	(hl+), a
    00000042 E5               [16]  131 	push	hl
    00000043 F8 03            [12]  132 	ldhl	sp,	#3
    00000045 7E               [ 8]  133 	ld	a, (hl)
    00000046 E1               [12]  134 	pop	hl
    00000047 77               [ 8]  135 	ld	(hl), a
                                    136 ;src/PointerSelector.c:18: move_sprite(5, s->x- SPRITESIZE, s->y);
    00000048 0A               [ 8]  137 	ld	a, (bc)
    00000049 F8 00            [12]  138 	ldhl	sp,	#0
    0000004B 22               [ 8]  139 	ld	(hl+), a
    0000004C 1A               [ 8]  140 	ld	a, (de)
    0000004D C6 F8            [ 8]  141 	add	a, #0xf8
    0000004F 77               [ 8]  142 	ld	(hl), a
                                    143 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000050 21r14r00         [12]  144 	ld	hl, #(_shadow_OAM + 20)
                                    145 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    00000053 E5               [16]  146 	push	hl
    00000054 F8 02            [12]  147 	ldhl	sp,	#2
    00000056 7E               [ 8]  148 	ld	a, (hl)
    00000057 E1               [12]  149 	pop	hl
    00000058 22               [ 8]  150 	ld	(hl+), a
    00000059 E5               [16]  151 	push	hl
    0000005A F8 03            [12]  152 	ldhl	sp,	#3
    0000005C 7E               [ 8]  153 	ld	a, (hl)
    0000005D E1               [12]  154 	pop	hl
    0000005E 77               [ 8]  155 	ld	(hl), a
                                    156 ;src/PointerSelector.c:19: move_sprite(6, s->x, s->y-SPRITESIZE);
    0000005F 0A               [ 8]  157 	ld	a, (bc)
    00000060 C6 F8            [ 8]  158 	add	a, #0xf8
    00000062 F8 00            [12]  159 	ldhl	sp,	#0
    00000064 22               [ 8]  160 	ld	(hl+), a
    00000065 1A               [ 8]  161 	ld	a, (de)
    00000066 77               [ 8]  162 	ld	(hl), a
                                    163 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000067 21r18r00         [12]  164 	ld	hl, #(_shadow_OAM + 24)
                                    165 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    0000006A E5               [16]  166 	push	hl
    0000006B F8 02            [12]  167 	ldhl	sp,	#2
    0000006D 7E               [ 8]  168 	ld	a, (hl)
    0000006E E1               [12]  169 	pop	hl
    0000006F 22               [ 8]  170 	ld	(hl+), a
    00000070 E5               [16]  171 	push	hl
    00000071 F8 03            [12]  172 	ldhl	sp,	#3
    00000073 7E               [ 8]  173 	ld	a, (hl)
    00000074 E1               [12]  174 	pop	hl
    00000075 77               [ 8]  175 	ld	(hl), a
                                    176 ;src/PointerSelector.c:20: move_sprite(7, s->x, s->y);
    00000076 0A               [ 8]  177 	ld	a, (bc)
    00000077 47               [ 4]  178 	ld	b, a
    00000078 1A               [ 8]  179 	ld	a, (de)
    00000079 4F               [ 4]  180 	ld	c, a
                                    181 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    0000007A 21r1Cr00         [12]  182 	ld	hl, #(_shadow_OAM + 28)
                                    183 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    0000007D 78               [ 4]  184 	ld	a, b
    0000007E 22               [ 8]  185 	ld	(hl+), a
    0000007F 71               [ 8]  186 	ld	(hl), c
                                    187 ;src/PointerSelector.c:20: move_sprite(7, s->x, s->y);
                                    188 ;src/PointerSelector.c:22: }
    00000080 33               [ 8]  189 	inc	sp
    00000081 33               [ 8]  190 	inc	sp
    00000082 C9               [16]  191 	ret
                                    192 ;src/PointerSelector.c:24: void place_object_at_pointer(Pointer* s, uint8_t block_type){
                                    193 ;	---------------------------------
                                    194 ; Function place_object_at_pointer
                                    195 ; ---------------------------------
    00000083                        196 _place_object_at_pointer::
    00000083 3B               [ 8]  197 	dec	sp
    00000084 3B               [ 8]  198 	dec	sp
    00000085 F8 01            [12]  199 	ldhl	sp,	#1
    00000087 77               [ 8]  200 	ld	(hl), a
                                    201 ;src/PointerSelector.c:25: change_colision_map_at(s->tileindexBR, BLOCK);
    00000088 21 06 00         [12]  202 	ld	hl, #0x0006
    0000008B 19               [ 8]  203 	add	hl, de
    0000008C 4D               [ 4]  204 	ld	c,l
    0000008D 44               [ 4]  205 	ld	b,h
    0000008E 2A               [ 8]  206 	ld	a,	(hl+)
    0000008F 66               [ 8]  207 	ld	h, (hl)
    00000090 6F               [ 4]  208 	ld	l, a
    00000091 C5               [16]  209 	push	bc
    00000092 3E 05            [ 8]  210 	ld	a, #0x05
    00000094 5D               [ 4]  211 	ld	e, l
    00000095 54               [ 4]  212 	ld	d, h
    00000096 CDr00r00         [24]  213 	call	_change_colision_map_at
    00000099 C1               [12]  214 	pop	bc
                                    215 ;src/PointerSelector.c:26: change_colision_map_BR(s->tileindexBR, block_type);
    0000009A 69               [ 4]  216 	ld	l, c
    0000009B 60               [ 4]  217 	ld	h, b
    0000009C 2A               [ 8]  218 	ld	a,	(hl+)
    0000009D 66               [ 8]  219 	ld	h, (hl)
    0000009E 6F               [ 4]  220 	ld	l, a
    0000009F C5               [16]  221 	push	bc
    000000A0 E5               [16]  222 	push	hl
    000000A1 F8 05            [12]  223 	ldhl	sp,	#5
    000000A3 7E               [ 8]  224 	ld	a, (hl)
    000000A4 D1               [12]  225 	pop	de
    000000A5 CDr00r00         [24]  226 	call	_change_colision_map_BR
    000000A8 C1               [12]  227 	pop	bc
                                    228 ;src/PointerSelector.c:27: change_bkg_tile_xy(s->tileindexBR, global_selected_block + 16);
    000000A9 FAr00r00         [16]  229 	ld	a, (_global_selected_block)
    000000AC C6 10            [ 8]  230 	add	a, #0x10
    000000AE F8 00            [12]  231 	ldhl	sp,	#0
    000000B0 77               [ 8]  232 	ld	(hl), a
    000000B1 69               [ 4]  233 	ld	l, c
    000000B2 60               [ 4]  234 	ld	h, b
    000000B3 2A               [ 8]  235 	ld	a, (hl+)
    000000B4 4F               [ 4]  236 	ld	c, a
    000000B5 46               [ 8]  237 	ld	b, (hl)
    000000B6 F8 00            [12]  238 	ldhl	sp,	#0
    000000B8 7E               [ 8]  239 	ld	a, (hl)
    000000B9 59               [ 4]  240 	ld	e, c
    000000BA 50               [ 4]  241 	ld	d, b
    000000BB CDr00r00         [24]  242 	call	_change_bkg_tile_xy
                                    243 ;src/PointerSelector.c:28: global_blocks_available[global_selected_block]--;
    000000BE 3Er00            [ 8]  244 	ld	a, #<(_global_blocks_available)
    000000C0 21r00r00         [12]  245 	ld	hl, #_global_selected_block
    000000C3 86               [ 8]  246 	add	a, (hl)
    000000C4 4F               [ 4]  247 	ld	c, a
    000000C5 3Es00            [ 8]  248 	ld	a, #>(_global_blocks_available)
    000000C7 CE 00            [ 8]  249 	adc	a, #0x00
    000000C9 47               [ 4]  250 	ld	b, a
    000000CA 0A               [ 8]  251 	ld	a, (bc)
    000000CB 3D               [ 4]  252 	dec	a
    000000CC 02               [ 8]  253 	ld	(bc), a
                                    254 ;src/PointerSelector.c:29: }
    000000CD 33               [ 8]  255 	inc	sp
    000000CE 33               [ 8]  256 	inc	sp
    000000CF C9               [16]  257 	ret
                                    258 ;src/PointerSelector.c:31: void remove_object_at_pointer(Pointer* s){
                                    259 ;	---------------------------------
                                    260 ; Function remove_object_at_pointer
                                    261 ; ---------------------------------
    000000D0                        262 _remove_object_at_pointer::
                                    263 ;src/PointerSelector.c:32: change_colision_map_at(s->tileindexBR, EMPTY);
    000000D0 21 06 00         [12]  264 	ld	hl, #0x0006
    000000D3 19               [ 8]  265 	add	hl, de
    000000D4 4D               [ 4]  266 	ld	c,l
    000000D5 44               [ 4]  267 	ld	b,h
    000000D6 2A               [ 8]  268 	ld	a,	(hl+)
    000000D7 66               [ 8]  269 	ld	h, (hl)
    000000D8 6F               [ 4]  270 	ld	l, a
    000000D9 C5               [16]  271 	push	bc
    000000DA AF               [ 4]  272 	xor	a, a
    000000DB 5D               [ 4]  273 	ld	e, l
    000000DC 54               [ 4]  274 	ld	d, h
    000000DD CDr00r00         [24]  275 	call	_change_colision_map_at
                                    276 ;src/PointerSelector.c:33: change_bkg_tile_xy(s->tileindexBR, 0);
    000000E0 E1               [12]  277 	pop	hl
    000000E1 2A               [ 8]  278 	ld	a, (hl+)
    000000E2 4F               [ 4]  279 	ld	c, a
    000000E3 46               [ 8]  280 	ld	b, (hl)
    000000E4 AF               [ 4]  281 	xor	a, a
    000000E5 59               [ 4]  282 	ld	e, c
    000000E6 50               [ 4]  283 	ld	d, b
    000000E7 CDr00r00         [24]  284 	call	_change_bkg_tile_xy
                                    285 ;src/PointerSelector.c:34: global_blocks_available[global_selected_block]++;
    000000EA 3Er00            [ 8]  286 	ld	a, #<(_global_blocks_available)
    000000EC 21r00r00         [12]  287 	ld	hl, #_global_selected_block
    000000EF 86               [ 8]  288 	add	a, (hl)
    000000F0 4F               [ 4]  289 	ld	c, a
    000000F1 3Es00            [ 8]  290 	ld	a, #>(_global_blocks_available)
    000000F3 CE 00            [ 8]  291 	adc	a, #0x00
    000000F5 47               [ 4]  292 	ld	b, a
    000000F6 0A               [ 8]  293 	ld	a, (bc)
    000000F7 3C               [ 4]  294 	inc	a
    000000F8 02               [ 8]  295 	ld	(bc), a
                                    296 ;src/PointerSelector.c:35: }
    000000F9 C9               [16]  297 	ret
                                    298 ;src/PointerSelector.c:37: uint8_t block_is_not_placed_below(Pointer* s){
                                    299 ;	---------------------------------
                                    300 ; Function block_is_not_placed_below
                                    301 ; ---------------------------------
    000000FA                        302 _block_is_not_placed_below::
                                    303 ;src/PointerSelector.c:38: return (global_colision_map[s->tileindexBR] == EMPTY) 
    000000FA 01r00r00         [12]  304 	ld	bc, #_global_colision_map+0
    000000FD 21 06 00         [12]  305 	ld	hl, #0x0006
    00000100 19               [ 8]  306 	add	hl, de
    00000101 2A               [ 8]  307 	ld	a,	(hl+)
    00000102 66               [ 8]  308 	ld	h, (hl)
    00000103 6F               [ 4]  309 	ld	l, a
    00000104 81               [ 4]  310 	add	a, c
    00000105 5F               [ 4]  311 	ld	e, a
    00000106 7C               [ 4]  312 	ld	a, h
    00000107 88               [ 4]  313 	adc	a, b
    00000108 57               [ 4]  314 	ld	d, a
    00000109 1A               [ 8]  315 	ld	a, (de)
    0000010A B7               [ 4]  316 	or	a, a
    0000010B 20 22            [12]  317 	jr	NZ, 00103$
                                    318 ;src/PointerSelector.c:39: && (global_colision_map[s->tileindexBR-1] == EMPTY)
    0000010D 5D               [ 4]  319 	ld	e,l
    0000010E 54               [ 4]  320 	ld	d,h
    0000010F 2B               [ 8]  321 	dec	hl
    00000110 09               [ 8]  322 	add	hl, bc
    00000111 7E               [ 8]  323 	ld	a, (hl)
    00000112 B7               [ 4]  324 	or	a, a
    00000113 20 1A            [12]  325 	jr	NZ, 00103$
                                    326 ;src/PointerSelector.c:40: && (global_colision_map[s->tileindexBR-20] == EMPTY)
    00000115 7B               [ 4]  327 	ld	a, e
    00000116 C6 EC            [ 8]  328 	add	a, #0xec
    00000118 6F               [ 4]  329 	ld	l, a
    00000119 7A               [ 4]  330 	ld	a, d
    0000011A CE FF            [ 8]  331 	adc	a, #0xff
    0000011C 67               [ 4]  332 	ld	h, a
    0000011D 09               [ 8]  333 	add	hl, bc
    0000011E 7E               [ 8]  334 	ld	a, (hl)
    0000011F B7               [ 4]  335 	or	a, a
    00000120 20 0D            [12]  336 	jr	NZ, 00103$
                                    337 ;src/PointerSelector.c:41: && (global_colision_map[s->tileindexBR-21] == EMPTY);
    00000122 7B               [ 4]  338 	ld	a, e
    00000123 C6 EB            [ 8]  339 	add	a, #0xeb
    00000125 6F               [ 4]  340 	ld	l, a
    00000126 7A               [ 4]  341 	ld	a, d
    00000127 CE FF            [ 8]  342 	adc	a, #0xff
    00000129 67               [ 4]  343 	ld	h, a
    0000012A 09               [ 8]  344 	add	hl, bc
    0000012B 7E               [ 8]  345 	ld	a, (hl)
    0000012C B7               [ 4]  346 	or	a, a
    0000012D 28 02            [12]  347 	jr	Z, 00104$
    0000012F                        348 00103$:
    0000012F AF               [ 4]  349 	xor	a, a
    00000130 C9               [16]  350 	ret
    00000131                        351 00104$:
    00000131 3E 01            [ 8]  352 	ld	a, #0x01
                                    353 ;src/PointerSelector.c:42: }
    00000133 C9               [16]  354 	ret
                                    355 ;src/PointerSelector.c:44: uint8_t block_is_placed_below(Pointer* s){
                                    356 ;	---------------------------------
                                    357 ; Function block_is_placed_below
                                    358 ; ---------------------------------
    00000134                        359 _block_is_placed_below::
                                    360 ;src/PointerSelector.c:49: return (global_colision_map[s->tileindexBR]>= RIGHT && global_colision_map[s->tileindexBR]<=DOWN) 
    00000134 01r00r00         [12]  361 	ld	bc, #_global_colision_map+0
    00000137 21 06 00         [12]  362 	ld	hl, #0x0006
    0000013A 19               [ 8]  363 	add	hl, de
    0000013B 2A               [ 8]  364 	ld	a,	(hl+)
    0000013C 66               [ 8]  365 	ld	h, (hl)
    0000013D 6F               [ 4]  366 	ld	l, a
    0000013E 81               [ 4]  367 	add	a,c
    0000013F 5F               [ 4]  368 	ld	e, a
    00000140 78               [ 4]  369 	ld	a, b
    00000141 8C               [ 4]  370 	adc	a, h
    00000142 57               [ 4]  371 	ld	d, a
    00000143 1A               [ 8]  372 	ld	a, (de)
    00000144 FE 06            [ 8]  373 	cp	a, #0x06
    00000146 38 26            [12]  374 	jr	C, 00103$
    00000148 FE 0A            [ 8]  375 	cp	a, #0x0a
    0000014A 30 22            [12]  376 	jr	NC, 00103$
                                    377 ;src/PointerSelector.c:50: && (global_colision_map[s->tileindexBR-1] != EMPTY)
    0000014C 5D               [ 4]  378 	ld	e,l
    0000014D 54               [ 4]  379 	ld	d,h
    0000014E 2B               [ 8]  380 	dec	hl
    0000014F 09               [ 8]  381 	add	hl, bc
    00000150 7E               [ 8]  382 	ld	a, (hl)
    00000151 B7               [ 4]  383 	or	a, a
    00000152 28 1A            [12]  384 	jr	Z, 00103$
                                    385 ;src/PointerSelector.c:51: && (global_colision_map[s->tileindexBR-20] != EMPTY)
    00000154 7B               [ 4]  386 	ld	a, e
    00000155 C6 EC            [ 8]  387 	add	a, #0xec
    00000157 6F               [ 4]  388 	ld	l, a
    00000158 7A               [ 4]  389 	ld	a, d
    00000159 CE FF            [ 8]  390 	adc	a, #0xff
    0000015B 67               [ 4]  391 	ld	h, a
    0000015C 09               [ 8]  392 	add	hl, bc
    0000015D 7E               [ 8]  393 	ld	a, (hl)
    0000015E B7               [ 4]  394 	or	a, a
    0000015F 28 0D            [12]  395 	jr	Z, 00103$
                                    396 ;src/PointerSelector.c:52: && (global_colision_map[s->tileindexBR-21] != EMPTY);
    00000161 7B               [ 4]  397 	ld	a, e
    00000162 C6 EB            [ 8]  398 	add	a, #0xeb
    00000164 6F               [ 4]  399 	ld	l, a
    00000165 7A               [ 4]  400 	ld	a, d
    00000166 CE FF            [ 8]  401 	adc	a, #0xff
    00000168 67               [ 4]  402 	ld	h, a
    00000169 09               [ 8]  403 	add	hl, bc
    0000016A 7E               [ 8]  404 	ld	a, (hl)
    0000016B B7               [ 4]  405 	or	a, a
    0000016C 20 02            [12]  406 	jr	NZ, 00104$
    0000016E                        407 00103$:
    0000016E AF               [ 4]  408 	xor	a, a
    0000016F C9               [16]  409 	ret
    00000170                        410 00104$:
    00000170 3E 01            [ 8]  411 	ld	a, #0x01
                                    412 ;src/PointerSelector.c:53: }
    00000172 C9               [16]  413 	ret
                                    414 ;src/PointerSelector.c:55: void control_pointer(Pointer* s){
                                    415 ;	---------------------------------
                                    416 ; Function control_pointer
                                    417 ; ---------------------------------
    00000173                        418 _control_pointer::
    00000173 4B               [ 4]  419 	ld	c, e
    00000174 42               [ 4]  420 	ld	b, d
                                    421 ;src/PointerSelector.c:57: if(joypad() & J_UP) {
    00000175 CDr00r00         [24]  422 	call	_joypad
                                    423 ;src/PointerSelector.c:58: s->y -= 8;
    00000178 59               [ 4]  424 	ld	e, c
    00000179 50               [ 4]  425 	ld	d, b
    0000017A 13               [ 8]  426 	inc	de
                                    427 ;src/PointerSelector.c:57: if(joypad() & J_UP) {
    0000017B CB 57            [ 8]  428 	bit	2, a
    0000017D 28 05            [12]  429 	jr	Z, 00124$
                                    430 ;src/PointerSelector.c:58: s->y -= 8;
    0000017F 1A               [ 8]  431 	ld	a, (de)
    00000180 C6 F8            [ 8]  432 	add	a, #0xf8
    00000182 12               [ 8]  433 	ld	(de), a
    00000183 C9               [16]  434 	ret
    00000184                        435 00124$:
                                    436 ;src/PointerSelector.c:59: } else if(joypad() & J_DOWN) {
    00000184 D5               [16]  437 	push	de
    00000185 CDr00r00         [24]  438 	call	_joypad
    00000188 D1               [12]  439 	pop	de
    00000189 CB 5F            [ 8]  440 	bit	3, a
    0000018B 28 05            [12]  441 	jr	Z, 00121$
                                    442 ;src/PointerSelector.c:60: s->y += 8;
    0000018D 1A               [ 8]  443 	ld	a, (de)
    0000018E C6 08            [ 8]  444 	add	a, #0x08
    00000190 12               [ 8]  445 	ld	(de), a
    00000191 C9               [16]  446 	ret
    00000192                        447 00121$:
                                    448 ;src/PointerSelector.c:61: } else if(joypad() & J_LEFT) {
    00000192 CDr00r00         [24]  449 	call	_joypad
                                    450 ;src/PointerSelector.c:62: s->x -= 8;
    00000195 69               [ 4]  451 	ld	l, c
    00000196 60               [ 4]  452 	ld	h, b
                                    453 ;src/PointerSelector.c:61: } else if(joypad() & J_LEFT) {
    00000197 CB 4F            [ 8]  454 	bit	1, a
    00000199 28 05            [12]  455 	jr	Z, 00118$
                                    456 ;src/PointerSelector.c:62: s->x -= 8;
    0000019B 7E               [ 8]  457 	ld	a, (hl)
    0000019C C6 F8            [ 8]  458 	add	a, #0xf8
    0000019E 77               [ 8]  459 	ld	(hl), a
    0000019F C9               [16]  460 	ret
    000001A0                        461 00118$:
                                    462 ;src/PointerSelector.c:63: } else if(joypad() & J_RIGHT) {
    000001A0 CDr00r00         [24]  463 	call	_joypad
    000001A3 0F               [ 4]  464 	rrca
    000001A4 30 05            [12]  465 	jr	NC, 00115$
                                    466 ;src/PointerSelector.c:64: s->x += 8;
    000001A6 7E               [ 8]  467 	ld	a, (hl)
    000001A7 C6 08            [ 8]  468 	add	a, #0x08
    000001A9 77               [ 8]  469 	ld	(hl), a
    000001AA C9               [16]  470 	ret
    000001AB                        471 00115$:
                                    472 ;src/PointerSelector.c:65: } else if(joypad() & J_A) {
    000001AB CDr00r00         [24]  473 	call	_joypad
    000001AE CB 67            [ 8]  474 	bit	4, a
    000001B0 28 20            [12]  475 	jr	Z, 00112$
                                    476 ;src/PointerSelector.c:66: if(block_is_not_placed_below(s) 
    000001B2 C5               [16]  477 	push	bc
    000001B3 59               [ 4]  478 	ld	e, c
    000001B4 50               [ 4]  479 	ld	d, b
    000001B5 CDrFAr00         [24]  480 	call	_block_is_not_placed_below
    000001B8 C1               [12]  481 	pop	bc
    000001B9 B7               [ 4]  482 	or	a, a
    000001BA C8               [20]  483 	ret	Z
                                    484 ;src/PointerSelector.c:67: && (global_blocks_available[global_selected_block]>0)){
    000001BB 3Er00            [ 8]  485 	ld	a, #<(_global_blocks_available)
    000001BD 21r00r00         [12]  486 	ld	hl, #_global_selected_block
    000001C0 86               [ 8]  487 	add	a, (hl)
    000001C1 5F               [ 4]  488 	ld	e, a
    000001C2 3Es00            [ 8]  489 	ld	a, #>(_global_blocks_available)
    000001C4 CE 00            [ 8]  490 	adc	a, #0x00
    000001C6 57               [ 4]  491 	ld	d, a
    000001C7 1A               [ 8]  492 	ld	a, (de)
    000001C8 B7               [ 4]  493 	or	a, a
    000001C9 C8               [20]  494 	ret	Z
                                    495 ;src/PointerSelector.c:68: place_object_at_pointer(s, global_selected_block + 6);
    000001CA 7E               [ 8]  496 	ld	a, (hl)
    000001CB C6 06            [ 8]  497 	add	a, #0x06
    000001CD 59               [ 4]  498 	ld	e, c
    000001CE 50               [ 4]  499 	ld	d, b
    000001CF C3r83r00         [16]  500 	jp	_place_object_at_pointer
    000001D2                        501 00112$:
                                    502 ;src/PointerSelector.c:70: } else if(joypad() & J_B) {
    000001D2 CDr00r00         [24]  503 	call	_joypad
    000001D5 CB 6F            [ 8]  504 	bit	5, a
    000001D7 28 0E            [12]  505 	jr	Z, 00109$
                                    506 ;src/PointerSelector.c:71: if(block_is_placed_below(s)){
    000001D9 C5               [16]  507 	push	bc
    000001DA 59               [ 4]  508 	ld	e, c
    000001DB 50               [ 4]  509 	ld	d, b
    000001DC CDr34r01         [24]  510 	call	_block_is_placed_below
    000001DF C1               [12]  511 	pop	bc
    000001E0 B7               [ 4]  512 	or	a, a
    000001E1 C8               [20]  513 	ret	Z
                                    514 ;src/PointerSelector.c:72: remove_object_at_pointer(s);
    000001E2 59               [ 4]  515 	ld	e, c
    000001E3 50               [ 4]  516 	ld	d, b
    000001E4 C3rD0r00         [16]  517 	jp	_remove_object_at_pointer
    000001E7                        518 00109$:
                                    519 ;src/PointerSelector.c:74: } else if(joypad() & J_SELECT) {
    000001E7 CDr00r00         [24]  520 	call	_joypad
    000001EA CB 77            [ 8]  521 	bit	6, a
    000001EC C8               [20]  522 	ret	Z
                                    523 ;src/PointerSelector.c:75: move_foward_block_id();
    000001ED CDr00r00         [24]  524 	call	_move_foward_block_id
                                    525 ;src/PointerSelector.c:76: print_counter();
                                    526 ;src/PointerSelector.c:78: }
    000001F0 C3rF3r01         [16]  527 	jp	_print_counter
                                    528 ;src/PointerSelector.c:80: void print_counter(void){
                                    529 ;	---------------------------------
                                    530 ; Function print_counter
                                    531 ; ---------------------------------
    000001F3                        532 _print_counter::
    000001F3 3B               [ 8]  533 	dec	sp
                                    534 ;src/PointerSelector.c:81: uint8_t tile_id = global_selected_block + 16;
    000001F4 FAr00r00         [16]  535 	ld	a, (_global_selected_block)
    000001F7 C6 10            [ 8]  536 	add	a, #0x10
                                    537 ;src/PointerSelector.c:82: set_bkg_tiles(1, 1, 1, 1, &tile_id);
    000001F9 F8 00            [12]  538 	ldhl	sp,#0
    000001FB 77               [ 8]  539 	ld	(hl), a
    000001FC E5               [16]  540 	push	hl
    000001FD 21 01 01         [12]  541 	ld	hl, #0x101
    00000200 E5               [16]  542 	push	hl
    00000201 E5               [16]  543 	push	hl
    00000202 CDr00r00         [24]  544 	call	_set_bkg_tiles
                                    545 ;src/PointerSelector.c:83: }
    00000205 E8 07            [16]  546 	add	sp, #7
    00000207 C9               [16]  547 	ret
                                    548 ;src/PointerSelector.c:85: void update_pointer(Pointer* s) { 
                                    549 ;	---------------------------------
                                    550 ; Function update_pointer
                                    551 ; ---------------------------------
    00000208                        552 _update_pointer::
    00000208 4B               [ 4]  553 	ld	c, e
    00000209 42               [ 4]  554 	ld	b, d
                                    555 ;src/PointerSelector.c:86: s->tileindexBR = tileindex_from_xy(s->x, s->y);
    0000020A 21 06 00         [12]  556 	ld	hl, #0x0006
    0000020D 09               [ 8]  557 	add	hl, bc
    0000020E 59               [ 4]  558 	ld	e, c
    0000020F 50               [ 4]  559 	ld	d, b
    00000210 13               [ 8]  560 	inc	de
    00000211 1A               [ 8]  561 	ld	a, (de)
    00000212 5F               [ 4]  562 	ld	e, a
    00000213 0A               [ 8]  563 	ld	a, (bc)
    00000214 E5               [16]  564 	push	hl
    00000215 C5               [16]  565 	push	bc
    00000216 CDr00r00         [24]  566 	call	_tileindex_from_xy
    00000219 59               [ 4]  567 	ld	e, c
    0000021A 50               [ 4]  568 	ld	d, b
    0000021B C1               [12]  569 	pop	bc
    0000021C E1               [12]  570 	pop	hl
    0000021D 7B               [ 4]  571 	ld	a, e
    0000021E 22               [ 8]  572 	ld	(hl+), a
    0000021F 72               [ 8]  573 	ld	(hl), d
                                    574 ;src/PointerSelector.c:87: control_pointer(s);
    00000220 C5               [16]  575 	push	bc
    00000221 59               [ 4]  576 	ld	e, c
    00000222 50               [ 4]  577 	ld	d, b
    00000223 CDr73r01         [24]  578 	call	_control_pointer
                                    579 ;src/PointerSelector.c:88: move_pointer(s);
    00000226 D1               [12]  580 	pop	de
                                    581 ;src/PointerSelector.c:89: }
    00000227 C3r2Ar00         [16]  582 	jp	_move_pointer
                                    583 ;src/PointerSelector.c:91: void hide_pointer(void){
                                    584 ;	---------------------------------
                                    585 ; Function hide_pointer
                                    586 ; ---------------------------------
    0000022A                        587 _hide_pointer::
                                    588 ;src/PointerSelector.c:92: for(uint8_t i= 4; i<=7; i++){
    0000022A 0E 04            [ 8]  589 	ld	c, #0x04
    0000022C                        590 00104$:
    0000022C 3E 07            [ 8]  591 	ld	a, #0x07
    0000022E 91               [ 4]  592 	sub	a, c
    0000022F D8               [20]  593 	ret	C
                                    594 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000230 11r00r00         [12]  595 	ld	de, #_shadow_OAM+0
    00000233 69               [ 4]  596 	ld	l, c
    00000234 AF               [ 4]  597 	xor	a, a
    00000235 67               [ 4]  598 	ld	h, a
    00000236 29               [ 8]  599 	add	hl, hl
    00000237 29               [ 8]  600 	add	hl, hl
    00000238 19               [ 8]  601 	add	hl, de
                                    602 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    00000239 AF               [ 4]  603 	xor	a, a
    0000023A 22               [ 8]  604 	ld	(hl+), a
    0000023B 77               [ 8]  605 	ld	(hl), a
                                    606 ;src/PointerSelector.c:92: for(uint8_t i= 4; i<=7; i++){
    0000023C 0C               [ 4]  607 	inc	c
                                    608 ;src/PointerSelector.c:95: }
    0000023D 18 ED            [12]  609 	jr	00104$
                                    610 	.area _CODE
                                    611 	.area _INITIALIZER
                                    612 	.area _CABS (ABS)
