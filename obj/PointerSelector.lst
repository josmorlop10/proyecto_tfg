                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module PointerSelector
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _all_disj_zero_below_pointer
                                     11 	.globl _all_zero_below_pointer
                                     12 	.globl _joypad
                                     13 	.globl _change_colision_map_at
                                     14 	.globl _tileindex_from_xy
                                     15 	.globl _change_bkg_tile_xy
                                     16 	.globl _calculate_pointer_tileindexBR
                                     17 	.globl _pointer_init
                                     18 	.globl _move_pointer
                                     19 	.globl _place_object_at_pointer
                                     20 	.globl _remove_object_at_pointer
                                     21 	.globl _control_pointer
                                     22 	.globl _update_pointer
                                     23 	.globl _hide_pointer
                                     24 ;--------------------------------------------------------
                                     25 ; special function registers
                                     26 ;--------------------------------------------------------
                                     27 ;--------------------------------------------------------
                                     28 ; ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area _DATA
                                     31 ;--------------------------------------------------------
                                     32 ; ram data
                                     33 ;--------------------------------------------------------
                                     34 	.area _INITIALIZED
                                     35 ;--------------------------------------------------------
                                     36 ; absolute external ram data
                                     37 ;--------------------------------------------------------
                                     38 	.area _DABS (ABS)
                                     39 ;--------------------------------------------------------
                                     40 ; global & static initialisations
                                     41 ;--------------------------------------------------------
                                     42 	.area _HOME
                                     43 	.area _GSINIT
                                     44 	.area _GSFINAL
                                     45 	.area _GSINIT
                                     46 ;--------------------------------------------------------
                                     47 ; Home
                                     48 ;--------------------------------------------------------
                                     49 	.area _HOME
                                     50 	.area _HOME
                                     51 ;--------------------------------------------------------
                                     52 ; code
                                     53 ;--------------------------------------------------------
                                     54 	.area _CODE
                                     55 ;src/PointerSelector.c:7: uint16_t calculate_pointer_tileindexBR(Pointer* s){
                                     56 ;	---------------------------------
                                     57 ; Function calculate_pointer_tileindexBR
                                     58 ; ---------------------------------
    00000000                         59 _calculate_pointer_tileindexBR::
    00000000 E8 F9            [16]   60 	add	sp, #-7
    00000002 F8 05            [12]   61 	ldhl	sp,	#5
    00000004 7B               [ 4]   62 	ld	a, e
    00000005 22               [ 8]   63 	ld	(hl+), a
                                     64 ;src/PointerSelector.c:8: uint8_t indexBRx = (s->x - 8) / 8; //señala la columna
    00000006 7A               [ 4]   65 	ld	a, d
    00000007 32               [ 8]   66 	ld	(hl-), a
    00000008 2A               [ 8]   67 	ld	a, (hl+)
    00000009 5F               [ 4]   68 	ld	e, a
    0000000A 56               [ 8]   69 	ld	d, (hl)
    0000000B 1A               [ 8]   70 	ld	a, (de)
    0000000C F8 01            [12]   71 	ldhl	sp,	#1
    0000000E 22               [ 8]   72 	ld	(hl+), a
    0000000F AF               [ 4]   73 	xor	a, a
    00000010 32               [ 8]   74 	ld	(hl-), a
    00000011 2A               [ 8]   75 	ld	a, (hl+)
    00000012 5F               [ 4]   76 	ld	e, a
    00000013 56               [ 8]   77 	ld	d, (hl)
    00000014 21 08 00         [12]   78 	ld	hl, #0x0008
    00000017 7B               [ 4]   79 	ld	a, e
    00000018 95               [ 4]   80 	sub	a, l
    00000019 5F               [ 4]   81 	ld	e, a
    0000001A 7A               [ 4]   82 	ld	a, d
    0000001B 9C               [ 4]   83 	sbc	a, h
    0000001C F8 04            [12]   84 	ldhl	sp,	#4
    0000001E 32               [ 8]   85 	ld	(hl-), a
    0000001F 73               [ 8]   86 	ld	(hl), e
    00000020 2A               [ 8]   87 	ld	a, (hl+)
    00000021 4F               [ 4]   88 	ld	c, a
    00000022 46               [ 8]   89 	ld	b, (hl)
    00000023 CB 7E            [12]   90 	bit	7, (hl)
    00000025 28 0C            [12]   91 	jr	Z, 00103$
    00000027 2B               [ 8]   92 	dec	hl
    00000028 2B               [ 8]   93 	dec	hl
    00000029 2B               [ 8]   94 	dec	hl
    0000002A 2A               [ 8]   95 	ld	a, (hl+)
    0000002B 5F               [ 4]   96 	ld	e, a
    0000002C 56               [ 8]   97 	ld	d, (hl)
    0000002D 21 FF FF         [12]   98 	ld	hl, #0xffff
    00000030 19               [ 8]   99 	add	hl, de
    00000031 4D               [ 4]  100 	ld	c, l
    00000032 44               [ 4]  101 	ld	b, h
    00000033                        102 00103$:
    00000033 CB 28            [ 8]  103 	sra	b
    00000035 CB 19            [ 8]  104 	rr	c
    00000037 CB 28            [ 8]  105 	sra	b
    00000039 CB 19            [ 8]  106 	rr	c
    0000003B CB 28            [ 8]  107 	sra	b
    0000003D CB 19            [ 8]  108 	rr	c
    0000003F F8 00            [12]  109 	ldhl	sp,	#0
    00000041 71               [ 8]  110 	ld	(hl), c
                                    111 ;src/PointerSelector.c:9: uint8_t indexBRy = (s->y - 16) / 8; //señala la fila
    00000042 F8 05            [12]  112 	ldhl	sp,	#5
    00000044 2A               [ 8]  113 	ld	a, (hl+)
    00000045 4F               [ 4]  114 	ld	c, a
    00000046 46               [ 8]  115 	ld	b, (hl)
    00000047 03               [ 8]  116 	inc	bc
    00000048 0A               [ 8]  117 	ld	a, (bc)
    00000049 F8 01            [12]  118 	ldhl	sp,	#1
    0000004B 22               [ 8]  119 	ld	(hl+), a
    0000004C AF               [ 4]  120 	xor	a, a
    0000004D 32               [ 8]  121 	ld	(hl-), a
    0000004E 2A               [ 8]  122 	ld	a, (hl+)
    0000004F 5F               [ 4]  123 	ld	e, a
    00000050 56               [ 8]  124 	ld	d, (hl)
    00000051 21 10 00         [12]  125 	ld	hl, #0x0010
    00000054 7B               [ 4]  126 	ld	a, e
    00000055 95               [ 4]  127 	sub	a, l
    00000056 5F               [ 4]  128 	ld	e, a
    00000057 7A               [ 4]  129 	ld	a, d
    00000058 9C               [ 4]  130 	sbc	a, h
    00000059 F8 04            [12]  131 	ldhl	sp,	#4
    0000005B 32               [ 8]  132 	ld	(hl-), a
    0000005C 73               [ 8]  133 	ld	(hl), e
    0000005D 2A               [ 8]  134 	ld	a, (hl+)
    0000005E 4F               [ 4]  135 	ld	c, a
    0000005F 46               [ 8]  136 	ld	b, (hl)
    00000060 CB 7E            [12]  137 	bit	7, (hl)
    00000062 28 0C            [12]  138 	jr	Z, 00104$
    00000064 2B               [ 8]  139 	dec	hl
    00000065 2B               [ 8]  140 	dec	hl
    00000066 2B               [ 8]  141 	dec	hl
    00000067 2A               [ 8]  142 	ld	a, (hl+)
    00000068 5F               [ 4]  143 	ld	e, a
    00000069 56               [ 8]  144 	ld	d, (hl)
    0000006A 21 F7 FF         [12]  145 	ld	hl, #0xfff7
    0000006D 19               [ 8]  146 	add	hl, de
    0000006E 4D               [ 4]  147 	ld	c, l
    0000006F 44               [ 4]  148 	ld	b, h
    00000070                        149 00104$:
    00000070 CB 28            [ 8]  150 	sra	b
    00000072 CB 19            [ 8]  151 	rr	c
    00000074 CB 28            [ 8]  152 	sra	b
    00000076 CB 19            [ 8]  153 	rr	c
    00000078 CB 28            [ 8]  154 	sra	b
    0000007A CB 19            [ 8]  155 	rr	c
                                    156 ;src/PointerSelector.c:10: uint16_t tileindexBR = 20 * indexBRy + indexBRx;
    0000007C 06 00            [ 8]  157 	ld	b, #0x00
    0000007E 69               [ 4]  158 	ld	l, c
    0000007F 60               [ 4]  159 	ld	h, b
    00000080 29               [ 8]  160 	add	hl, hl
    00000081 29               [ 8]  161 	add	hl, hl
    00000082 09               [ 8]  162 	add	hl, bc
    00000083 29               [ 8]  163 	add	hl, hl
    00000084 29               [ 8]  164 	add	hl, hl
    00000085 4D               [ 4]  165 	ld	c, l
    00000086 44               [ 4]  166 	ld	b, h
    00000087 F8 00            [12]  167 	ldhl	sp,	#0
    00000089 7E               [ 8]  168 	ld	a, (hl)
    0000008A 1E 00            [ 8]  169 	ld	e, #0x00
    0000008C 81               [ 4]  170 	add	a, c
    0000008D 4F               [ 4]  171 	ld	c, a
    0000008E 7B               [ 4]  172 	ld	a, e
    0000008F 88               [ 4]  173 	adc	a, b
    00000090 47               [ 4]  174 	ld	b, a
                                    175 ;src/PointerSelector.c:11: return tileindexBR;
                                    176 ;src/PointerSelector.c:12: }
    00000091 E8 07            [16]  177 	add	sp, #7
    00000093 C9               [16]  178 	ret
                                    179 ;src/PointerSelector.c:14: void pointer_init(Pointer* s) {
                                    180 ;	---------------------------------
                                    181 ; Function pointer_init
                                    182 ; ---------------------------------
    00000094                        183 _pointer_init::
                                    184 ;src/PointerSelector.c:15: s->x = 80;
    00000094 6B               [ 4]  185 	ld	l, e
    00000095 62               [ 4]  186 	ld	h, d
    00000096 36 50            [12]  187 	ld	(hl), #0x50
                                    188 ;src/PointerSelector.c:16: s->y = 72;
    00000098 E5               [16]  189 	push	hl
    00000099 23               [ 8]  190 	inc	hl
    0000009A 36 48            [12]  191 	ld	(hl), #0x48
                                    192 ;src/PointerSelector.c:17: for(uint8_t i = 4;i<=7;i++){
    0000009C C1               [12]  193 	pop	bc
    0000009D C5               [16]  194 	push	bc
    0000009E 03               [ 8]  195 	inc	bc
    0000009F 03               [ 8]  196 	inc	bc
    000000A0 1E 04            [ 8]  197 	ld	e, #0x04
    000000A2                        198 00103$:
    000000A2 3E 07            [ 8]  199 	ld	a, #0x07
    000000A4 93               [ 4]  200 	sub	a, e
    000000A5 38 08            [12]  201 	jr	C, 00101$
                                    202 ;src/PointerSelector.c:18: s->sprite_ids[i] = i;
    000000A7 6B               [ 4]  203 	ld	l, e
    000000A8 26 00            [ 8]  204 	ld	h, #0x00
    000000AA 09               [ 8]  205 	add	hl, bc
    000000AB 73               [ 8]  206 	ld	(hl), e
                                    207 ;src/PointerSelector.c:17: for(uint8_t i = 4;i<=7;i++){
    000000AC 1C               [ 4]  208 	inc	e
    000000AD 18 F3            [12]  209 	jr	00103$
    000000AF                        210 00101$:
                                    211 ;src/PointerSelector.c:20: s->tileindexBR = 0;
    000000AF D1               [12]  212 	pop	de
    000000B0 D5               [16]  213 	push	de
    000000B1 21 06 00         [12]  214 	ld	hl, #0x0006
    000000B4 19               [ 8]  215 	add	hl, de
    000000B5 4D               [ 4]  216 	ld	c, l
    000000B6 44               [ 4]  217 	ld	b, h
    000000B7 AF               [ 4]  218 	xor	a, a
    000000B8 02               [ 8]  219 	ld	(bc), a
    000000B9 03               [ 8]  220 	inc	bc
    000000BA 02               [ 8]  221 	ld	(bc), a
                                    222 ;src/PointerSelector.c:21: }
    000000BB 33               [ 8]  223 	inc	sp
    000000BC 33               [ 8]  224 	inc	sp
    000000BD C9               [16]  225 	ret
                                    226 ;src/PointerSelector.c:23: void move_pointer(Pointer* s) {
                                    227 ;	---------------------------------
                                    228 ; Function move_pointer
                                    229 ; ---------------------------------
    000000BE                        230 _move_pointer::
    000000BE 3B               [ 8]  231 	dec	sp
    000000BF 3B               [ 8]  232 	dec	sp
                                    233 ;src/PointerSelector.c:24: move_sprite(4, s->x- SPRITESIZE, s->y-SPRITESIZE);
    000000C0 4B               [ 4]  234 	ld	c, e
    000000C1 42               [ 4]  235 	ld	b, d
    000000C2 03               [ 8]  236 	inc	bc
    000000C3 0A               [ 8]  237 	ld	a, (bc)
    000000C4 C6 F8            [ 8]  238 	add	a, #0xf8
    000000C6 F8 00            [12]  239 	ldhl	sp,	#0
    000000C8 22               [ 8]  240 	ld	(hl+), a
    000000C9 1A               [ 8]  241 	ld	a, (de)
    000000CA C6 F8            [ 8]  242 	add	a, #0xf8
    000000CC 77               [ 8]  243 	ld	(hl), a
                                    244 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000CD 21r10r00         [12]  245 	ld	hl, #(_shadow_OAM + 16)
                                    246 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000000D0 E5               [16]  247 	push	hl
    000000D1 F8 02            [12]  248 	ldhl	sp,	#2
    000000D3 7E               [ 8]  249 	ld	a, (hl)
    000000D4 E1               [12]  250 	pop	hl
    000000D5 22               [ 8]  251 	ld	(hl+), a
    000000D6 E5               [16]  252 	push	hl
    000000D7 F8 03            [12]  253 	ldhl	sp,	#3
    000000D9 7E               [ 8]  254 	ld	a, (hl)
    000000DA E1               [12]  255 	pop	hl
    000000DB 77               [ 8]  256 	ld	(hl), a
                                    257 ;src/PointerSelector.c:25: move_sprite(5, s->x- SPRITESIZE, s->y);
    000000DC 0A               [ 8]  258 	ld	a, (bc)
    000000DD F8 00            [12]  259 	ldhl	sp,	#0
    000000DF 22               [ 8]  260 	ld	(hl+), a
    000000E0 1A               [ 8]  261 	ld	a, (de)
    000000E1 C6 F8            [ 8]  262 	add	a, #0xf8
    000000E3 77               [ 8]  263 	ld	(hl), a
                                    264 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000E4 21r14r00         [12]  265 	ld	hl, #(_shadow_OAM + 20)
                                    266 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000000E7 E5               [16]  267 	push	hl
    000000E8 F8 02            [12]  268 	ldhl	sp,	#2
    000000EA 7E               [ 8]  269 	ld	a, (hl)
    000000EB E1               [12]  270 	pop	hl
    000000EC 22               [ 8]  271 	ld	(hl+), a
    000000ED E5               [16]  272 	push	hl
    000000EE F8 03            [12]  273 	ldhl	sp,	#3
    000000F0 7E               [ 8]  274 	ld	a, (hl)
    000000F1 E1               [12]  275 	pop	hl
    000000F2 77               [ 8]  276 	ld	(hl), a
                                    277 ;src/PointerSelector.c:26: move_sprite(6, s->x, s->y-SPRITESIZE);
    000000F3 0A               [ 8]  278 	ld	a, (bc)
    000000F4 C6 F8            [ 8]  279 	add	a, #0xf8
    000000F6 F8 00            [12]  280 	ldhl	sp,	#0
    000000F8 22               [ 8]  281 	ld	(hl+), a
    000000F9 1A               [ 8]  282 	ld	a, (de)
    000000FA 77               [ 8]  283 	ld	(hl), a
                                    284 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000FB 21r18r00         [12]  285 	ld	hl, #(_shadow_OAM + 24)
                                    286 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000000FE E5               [16]  287 	push	hl
    000000FF F8 02            [12]  288 	ldhl	sp,	#2
    00000101 7E               [ 8]  289 	ld	a, (hl)
    00000102 E1               [12]  290 	pop	hl
    00000103 22               [ 8]  291 	ld	(hl+), a
    00000104 E5               [16]  292 	push	hl
    00000105 F8 03            [12]  293 	ldhl	sp,	#3
    00000107 7E               [ 8]  294 	ld	a, (hl)
    00000108 E1               [12]  295 	pop	hl
    00000109 77               [ 8]  296 	ld	(hl), a
                                    297 ;src/PointerSelector.c:27: move_sprite(7, s->x, s->y);
    0000010A 0A               [ 8]  298 	ld	a, (bc)
    0000010B 47               [ 4]  299 	ld	b, a
    0000010C 1A               [ 8]  300 	ld	a, (de)
    0000010D 4F               [ 4]  301 	ld	c, a
                                    302 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    0000010E 21r1Cr00         [12]  303 	ld	hl, #(_shadow_OAM + 28)
                                    304 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    00000111 78               [ 4]  305 	ld	a, b
    00000112 22               [ 8]  306 	ld	(hl+), a
    00000113 71               [ 8]  307 	ld	(hl), c
                                    308 ;src/PointerSelector.c:27: move_sprite(7, s->x, s->y);
                                    309 ;src/PointerSelector.c:29: }
    00000114 33               [ 8]  310 	inc	sp
    00000115 33               [ 8]  311 	inc	sp
    00000116 C9               [16]  312 	ret
                                    313 ;src/PointerSelector.c:31: void place_object_at_pointer(Pointer* s){
                                    314 ;	---------------------------------
                                    315 ; Function place_object_at_pointer
                                    316 ; ---------------------------------
    00000117                        317 _place_object_at_pointer::
                                    318 ;src/PointerSelector.c:32: change_colision_map_at(s->tileindexBR, SOLID);
    00000117 21 06 00         [12]  319 	ld	hl, #0x0006
    0000011A 19               [ 8]  320 	add	hl, de
    0000011B 4D               [ 4]  321 	ld	c,l
    0000011C 44               [ 4]  322 	ld	b,h
    0000011D 2A               [ 8]  323 	ld	a,	(hl+)
    0000011E 66               [ 8]  324 	ld	h, (hl)
    0000011F 6F               [ 4]  325 	ld	l, a
    00000120 C5               [16]  326 	push	bc
    00000121 3E 01            [ 8]  327 	ld	a, #0x01
    00000123 5D               [ 4]  328 	ld	e, l
    00000124 54               [ 4]  329 	ld	d, h
    00000125 CDr00r00         [24]  330 	call	_change_colision_map_at
                                    331 ;src/PointerSelector.c:33: change_bkg_tile_xy(s->tileindexBR, 3);
    00000128 E1               [12]  332 	pop	hl
    00000129 2A               [ 8]  333 	ld	a, (hl+)
    0000012A 4F               [ 4]  334 	ld	c, a
    0000012B 46               [ 8]  335 	ld	b, (hl)
    0000012C 3E 03            [ 8]  336 	ld	a, #0x03
    0000012E 59               [ 4]  337 	ld	e, c
    0000012F 50               [ 4]  338 	ld	d, b
                                    339 ;src/PointerSelector.c:34: }
    00000130 C3r00r00         [16]  340 	jp	_change_bkg_tile_xy
                                    341 ;src/PointerSelector.c:36: void remove_object_at_pointer(Pointer* s){
                                    342 ;	---------------------------------
                                    343 ; Function remove_object_at_pointer
                                    344 ; ---------------------------------
    00000133                        345 _remove_object_at_pointer::
                                    346 ;src/PointerSelector.c:37: change_colision_map_at(s->tileindexBR, EMPTY);
    00000133 21 06 00         [12]  347 	ld	hl, #0x0006
    00000136 19               [ 8]  348 	add	hl, de
    00000137 4D               [ 4]  349 	ld	c,l
    00000138 44               [ 4]  350 	ld	b,h
    00000139 2A               [ 8]  351 	ld	a,	(hl+)
    0000013A 66               [ 8]  352 	ld	h, (hl)
    0000013B 6F               [ 4]  353 	ld	l, a
    0000013C C5               [16]  354 	push	bc
    0000013D AF               [ 4]  355 	xor	a, a
    0000013E 5D               [ 4]  356 	ld	e, l
    0000013F 54               [ 4]  357 	ld	d, h
    00000140 CDr00r00         [24]  358 	call	_change_colision_map_at
                                    359 ;src/PointerSelector.c:38: change_bkg_tile_xy(s->tileindexBR, 0);
    00000143 E1               [12]  360 	pop	hl
    00000144 2A               [ 8]  361 	ld	a, (hl+)
    00000145 4F               [ 4]  362 	ld	c, a
    00000146 46               [ 8]  363 	ld	b, (hl)
    00000147 AF               [ 4]  364 	xor	a, a
    00000148 59               [ 4]  365 	ld	e, c
    00000149 50               [ 4]  366 	ld	d, b
                                    367 ;src/PointerSelector.c:39: }
    0000014A C3r00r00         [16]  368 	jp	_change_bkg_tile_xy
                                    369 ;src/PointerSelector.c:41: uint8_t all_zero_below_pointer(Pointer* s){
                                    370 ;	---------------------------------
                                    371 ; Function all_zero_below_pointer
                                    372 ; ---------------------------------
    0000014D                        373 _all_zero_below_pointer::
                                    374 ;src/PointerSelector.c:42: return (global_colision_map[s->tileindexBR] == EMPTY) 
    0000014D 01r00r00         [12]  375 	ld	bc, #_global_colision_map+0
    00000150 21 06 00         [12]  376 	ld	hl, #0x0006
    00000153 19               [ 8]  377 	add	hl, de
    00000154 2A               [ 8]  378 	ld	a,	(hl+)
    00000155 66               [ 8]  379 	ld	h, (hl)
    00000156 6F               [ 4]  380 	ld	l, a
    00000157 81               [ 4]  381 	add	a, c
    00000158 5F               [ 4]  382 	ld	e, a
    00000159 7C               [ 4]  383 	ld	a, h
    0000015A 88               [ 4]  384 	adc	a, b
    0000015B 57               [ 4]  385 	ld	d, a
    0000015C 1A               [ 8]  386 	ld	a, (de)
    0000015D B7               [ 4]  387 	or	a, a
    0000015E 20 22            [12]  388 	jr	NZ, 00103$
                                    389 ;src/PointerSelector.c:43: && (global_colision_map[s->tileindexBR-1] == EMPTY)
    00000160 5D               [ 4]  390 	ld	e,l
    00000161 54               [ 4]  391 	ld	d,h
    00000162 2B               [ 8]  392 	dec	hl
    00000163 09               [ 8]  393 	add	hl, bc
    00000164 7E               [ 8]  394 	ld	a, (hl)
    00000165 B7               [ 4]  395 	or	a, a
    00000166 20 1A            [12]  396 	jr	NZ, 00103$
                                    397 ;src/PointerSelector.c:44: && (global_colision_map[s->tileindexBR-20] == EMPTY)
    00000168 7B               [ 4]  398 	ld	a, e
    00000169 C6 EC            [ 8]  399 	add	a, #0xec
    0000016B 6F               [ 4]  400 	ld	l, a
    0000016C 7A               [ 4]  401 	ld	a, d
    0000016D CE FF            [ 8]  402 	adc	a, #0xff
    0000016F 67               [ 4]  403 	ld	h, a
    00000170 09               [ 8]  404 	add	hl, bc
    00000171 7E               [ 8]  405 	ld	a, (hl)
    00000172 B7               [ 4]  406 	or	a, a
    00000173 20 0D            [12]  407 	jr	NZ, 00103$
                                    408 ;src/PointerSelector.c:45: && (global_colision_map[s->tileindexBR-21] == EMPTY);
    00000175 7B               [ 4]  409 	ld	a, e
    00000176 C6 EB            [ 8]  410 	add	a, #0xeb
    00000178 6F               [ 4]  411 	ld	l, a
    00000179 7A               [ 4]  412 	ld	a, d
    0000017A CE FF            [ 8]  413 	adc	a, #0xff
    0000017C 67               [ 4]  414 	ld	h, a
    0000017D 09               [ 8]  415 	add	hl, bc
    0000017E 7E               [ 8]  416 	ld	a, (hl)
    0000017F B7               [ 4]  417 	or	a, a
    00000180 28 02            [12]  418 	jr	Z, 00104$
    00000182                        419 00103$:
    00000182 AF               [ 4]  420 	xor	a, a
    00000183 C9               [16]  421 	ret
    00000184                        422 00104$:
    00000184 3E 01            [ 8]  423 	ld	a, #0x01
                                    424 ;src/PointerSelector.c:46: }
    00000186 C9               [16]  425 	ret
                                    426 ;src/PointerSelector.c:48: uint8_t all_disj_zero_below_pointer(Pointer* s){
                                    427 ;	---------------------------------
                                    428 ; Function all_disj_zero_below_pointer
                                    429 ; ---------------------------------
    00000187                        430 _all_disj_zero_below_pointer::
                                    431 ;src/PointerSelector.c:51: return (global_colision_map[s->tileindexBR] != EMPTY) 
    00000187 01r00r00         [12]  432 	ld	bc, #_global_colision_map+0
    0000018A 21 06 00         [12]  433 	ld	hl, #0x0006
    0000018D 19               [ 8]  434 	add	hl, de
    0000018E 2A               [ 8]  435 	ld	a,	(hl+)
    0000018F 66               [ 8]  436 	ld	h, (hl)
    00000190 6F               [ 4]  437 	ld	l, a
    00000191 81               [ 4]  438 	add	a, c
    00000192 5F               [ 4]  439 	ld	e, a
    00000193 7C               [ 4]  440 	ld	a, h
    00000194 88               [ 4]  441 	adc	a, b
    00000195 57               [ 4]  442 	ld	d, a
    00000196 1A               [ 8]  443 	ld	a, (de)
    00000197 B7               [ 4]  444 	or	a, a
    00000198 28 22            [12]  445 	jr	Z, 00103$
                                    446 ;src/PointerSelector.c:52: && (global_colision_map[s->tileindexBR-1] != EMPTY)
    0000019A 5D               [ 4]  447 	ld	e,l
    0000019B 54               [ 4]  448 	ld	d,h
    0000019C 2B               [ 8]  449 	dec	hl
    0000019D 09               [ 8]  450 	add	hl, bc
    0000019E 7E               [ 8]  451 	ld	a, (hl)
    0000019F B7               [ 4]  452 	or	a, a
    000001A0 28 1A            [12]  453 	jr	Z, 00103$
                                    454 ;src/PointerSelector.c:53: && (global_colision_map[s->tileindexBR-20] != EMPTY)
    000001A2 7B               [ 4]  455 	ld	a, e
    000001A3 C6 EC            [ 8]  456 	add	a, #0xec
    000001A5 6F               [ 4]  457 	ld	l, a
    000001A6 7A               [ 4]  458 	ld	a, d
    000001A7 CE FF            [ 8]  459 	adc	a, #0xff
    000001A9 67               [ 4]  460 	ld	h, a
    000001AA 09               [ 8]  461 	add	hl, bc
    000001AB 7E               [ 8]  462 	ld	a, (hl)
    000001AC B7               [ 4]  463 	or	a, a
    000001AD 28 0D            [12]  464 	jr	Z, 00103$
                                    465 ;src/PointerSelector.c:54: && (global_colision_map[s->tileindexBR-21] != EMPTY);
    000001AF 7B               [ 4]  466 	ld	a, e
    000001B0 C6 EB            [ 8]  467 	add	a, #0xeb
    000001B2 6F               [ 4]  468 	ld	l, a
    000001B3 7A               [ 4]  469 	ld	a, d
    000001B4 CE FF            [ 8]  470 	adc	a, #0xff
    000001B6 67               [ 4]  471 	ld	h, a
    000001B7 09               [ 8]  472 	add	hl, bc
    000001B8 7E               [ 8]  473 	ld	a, (hl)
    000001B9 B7               [ 4]  474 	or	a, a
    000001BA 20 02            [12]  475 	jr	NZ, 00104$
    000001BC                        476 00103$:
    000001BC AF               [ 4]  477 	xor	a, a
    000001BD C9               [16]  478 	ret
    000001BE                        479 00104$:
    000001BE 3E 01            [ 8]  480 	ld	a, #0x01
                                    481 ;src/PointerSelector.c:55: }
    000001C0 C9               [16]  482 	ret
                                    483 ;src/PointerSelector.c:57: void control_pointer(Pointer* s){
                                    484 ;	---------------------------------
                                    485 ; Function control_pointer
                                    486 ; ---------------------------------
    000001C1                        487 _control_pointer::
    000001C1 4B               [ 4]  488 	ld	c, e
    000001C2 42               [ 4]  489 	ld	b, d
                                    490 ;src/PointerSelector.c:59: if(joypad() & J_UP) {
    000001C3 CDr00r00         [24]  491 	call	_joypad
                                    492 ;src/PointerSelector.c:60: s->y -= 8;
    000001C6 59               [ 4]  493 	ld	e, c
    000001C7 50               [ 4]  494 	ld	d, b
    000001C8 13               [ 8]  495 	inc	de
                                    496 ;src/PointerSelector.c:59: if(joypad() & J_UP) {
    000001C9 CB 57            [ 8]  497 	bit	2, a
    000001CB 28 05            [12]  498 	jr	Z, 00120$
                                    499 ;src/PointerSelector.c:60: s->y -= 8;
    000001CD 1A               [ 8]  500 	ld	a, (de)
    000001CE C6 F8            [ 8]  501 	add	a, #0xf8
    000001D0 12               [ 8]  502 	ld	(de), a
    000001D1 C9               [16]  503 	ret
    000001D2                        504 00120$:
                                    505 ;src/PointerSelector.c:61: } else if(joypad() & J_DOWN) {
    000001D2 D5               [16]  506 	push	de
    000001D3 CDr00r00         [24]  507 	call	_joypad
    000001D6 D1               [12]  508 	pop	de
    000001D7 CB 5F            [ 8]  509 	bit	3, a
    000001D9 28 05            [12]  510 	jr	Z, 00117$
                                    511 ;src/PointerSelector.c:62: s->y += 8;
    000001DB 1A               [ 8]  512 	ld	a, (de)
    000001DC C6 08            [ 8]  513 	add	a, #0x08
    000001DE 12               [ 8]  514 	ld	(de), a
    000001DF C9               [16]  515 	ret
    000001E0                        516 00117$:
                                    517 ;src/PointerSelector.c:63: } else if(joypad() & J_LEFT) {
    000001E0 CDr00r00         [24]  518 	call	_joypad
                                    519 ;src/PointerSelector.c:64: s->x -= 8;
    000001E3 69               [ 4]  520 	ld	l, c
    000001E4 60               [ 4]  521 	ld	h, b
                                    522 ;src/PointerSelector.c:63: } else if(joypad() & J_LEFT) {
    000001E5 CB 4F            [ 8]  523 	bit	1, a
    000001E7 28 05            [12]  524 	jr	Z, 00114$
                                    525 ;src/PointerSelector.c:64: s->x -= 8;
    000001E9 7E               [ 8]  526 	ld	a, (hl)
    000001EA C6 F8            [ 8]  527 	add	a, #0xf8
    000001EC 77               [ 8]  528 	ld	(hl), a
    000001ED C9               [16]  529 	ret
    000001EE                        530 00114$:
                                    531 ;src/PointerSelector.c:65: } else if(joypad() & J_RIGHT) {
    000001EE CDr00r00         [24]  532 	call	_joypad
    000001F1 0F               [ 4]  533 	rrca
    000001F2 30 05            [12]  534 	jr	NC, 00111$
                                    535 ;src/PointerSelector.c:66: s->x += 8;
    000001F4 7E               [ 8]  536 	ld	a, (hl)
    000001F5 C6 08            [ 8]  537 	add	a, #0x08
    000001F7 77               [ 8]  538 	ld	(hl), a
    000001F8 C9               [16]  539 	ret
    000001F9                        540 00111$:
                                    541 ;src/PointerSelector.c:67: } else if(joypad() & J_A) {
    000001F9 CDr00r00         [24]  542 	call	_joypad
    000001FC CB 67            [ 8]  543 	bit	4, a
    000001FE 28 0E            [12]  544 	jr	Z, 00108$
                                    545 ;src/PointerSelector.c:68: if(all_zero_below_pointer(s)){
    00000200 C5               [16]  546 	push	bc
    00000201 59               [ 4]  547 	ld	e, c
    00000202 50               [ 4]  548 	ld	d, b
    00000203 CDr4Dr01         [24]  549 	call	_all_zero_below_pointer
    00000206 C1               [12]  550 	pop	bc
    00000207 B7               [ 4]  551 	or	a, a
    00000208 C8               [20]  552 	ret	Z
                                    553 ;src/PointerSelector.c:69: place_object_at_pointer(s);
    00000209 59               [ 4]  554 	ld	e, c
    0000020A 50               [ 4]  555 	ld	d, b
    0000020B C3r17r01         [16]  556 	jp	_place_object_at_pointer
    0000020E                        557 00108$:
                                    558 ;src/PointerSelector.c:71: } else if(joypad() & J_B) {
    0000020E CDr00r00         [24]  559 	call	_joypad
    00000211 CB 6F            [ 8]  560 	bit	5, a
    00000213 C8               [20]  561 	ret	Z
                                    562 ;src/PointerSelector.c:72: if(all_disj_zero_below_pointer(s)){
    00000214 C5               [16]  563 	push	bc
    00000215 59               [ 4]  564 	ld	e, c
    00000216 50               [ 4]  565 	ld	d, b
    00000217 CDr87r01         [24]  566 	call	_all_disj_zero_below_pointer
    0000021A C1               [12]  567 	pop	bc
    0000021B B7               [ 4]  568 	or	a, a
    0000021C C8               [20]  569 	ret	Z
                                    570 ;src/PointerSelector.c:73: remove_object_at_pointer(s);
    0000021D 59               [ 4]  571 	ld	e, c
    0000021E 50               [ 4]  572 	ld	d, b
                                    573 ;src/PointerSelector.c:76: }
    0000021F C3r33r01         [16]  574 	jp	_remove_object_at_pointer
                                    575 ;src/PointerSelector.c:78: void update_pointer(Pointer* s) { 
                                    576 ;	---------------------------------
                                    577 ; Function update_pointer
                                    578 ; ---------------------------------
    00000222                        579 _update_pointer::
    00000222 4B               [ 4]  580 	ld	c, e
    00000223 42               [ 4]  581 	ld	b, d
                                    582 ;src/PointerSelector.c:79: s->tileindexBR = tileindex_from_xy(s->x, s->y);
    00000224 21 06 00         [12]  583 	ld	hl, #0x0006
    00000227 09               [ 8]  584 	add	hl, bc
    00000228 59               [ 4]  585 	ld	e, c
    00000229 50               [ 4]  586 	ld	d, b
    0000022A 13               [ 8]  587 	inc	de
    0000022B 1A               [ 8]  588 	ld	a, (de)
    0000022C 5F               [ 4]  589 	ld	e, a
    0000022D 0A               [ 8]  590 	ld	a, (bc)
    0000022E E5               [16]  591 	push	hl
    0000022F C5               [16]  592 	push	bc
    00000230 CDr00r00         [24]  593 	call	_tileindex_from_xy
    00000233 59               [ 4]  594 	ld	e, c
    00000234 50               [ 4]  595 	ld	d, b
    00000235 C1               [12]  596 	pop	bc
    00000236 E1               [12]  597 	pop	hl
    00000237 7B               [ 4]  598 	ld	a, e
    00000238 22               [ 8]  599 	ld	(hl+), a
    00000239 72               [ 8]  600 	ld	(hl), d
                                    601 ;src/PointerSelector.c:80: control_pointer(s);
    0000023A C5               [16]  602 	push	bc
    0000023B 59               [ 4]  603 	ld	e, c
    0000023C 50               [ 4]  604 	ld	d, b
    0000023D CDrC1r01         [24]  605 	call	_control_pointer
                                    606 ;src/PointerSelector.c:81: move_pointer(s);
    00000240 D1               [12]  607 	pop	de
                                    608 ;src/PointerSelector.c:82: }
    00000241 C3rBEr00         [16]  609 	jp	_move_pointer
                                    610 ;src/PointerSelector.c:84: void hide_pointer(void){
                                    611 ;	---------------------------------
                                    612 ; Function hide_pointer
                                    613 ; ---------------------------------
    00000244                        614 _hide_pointer::
                                    615 ;src/PointerSelector.c:85: for(uint8_t i= 4; i<=7; i++){
    00000244 0E 04            [ 8]  616 	ld	c, #0x04
    00000246                        617 00104$:
    00000246 3E 07            [ 8]  618 	ld	a, #0x07
    00000248 91               [ 4]  619 	sub	a, c
    00000249 D8               [20]  620 	ret	C
                                    621 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    0000024A 11r00r00         [12]  622 	ld	de, #_shadow_OAM+0
    0000024D 69               [ 4]  623 	ld	l, c
    0000024E AF               [ 4]  624 	xor	a, a
    0000024F 67               [ 4]  625 	ld	h, a
    00000250 29               [ 8]  626 	add	hl, hl
    00000251 29               [ 8]  627 	add	hl, hl
    00000252 19               [ 8]  628 	add	hl, de
                                    629 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    00000253 AF               [ 4]  630 	xor	a, a
    00000254 22               [ 8]  631 	ld	(hl+), a
    00000255 77               [ 8]  632 	ld	(hl), a
                                    633 ;src/PointerSelector.c:85: for(uint8_t i= 4; i<=7; i++){
    00000256 0C               [ 4]  634 	inc	c
                                    635 ;src/PointerSelector.c:88: }
    00000257 18 ED            [12]  636 	jr	00104$
                                    637 	.area _CODE
                                    638 	.area _INITIALIZER
                                    639 	.area _CABS (ABS)
