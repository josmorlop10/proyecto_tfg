                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module PointerSelector
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _joypad
                                     11 	.globl _move_foward_block_id
                                     12 	.globl _change_colision_map_BR
                                     13 	.globl _change_colision_map_at
                                     14 	.globl _tileindex_from_xy
                                     15 	.globl _change_bkg_tile_xy
                                     16 	.globl _pointer_init
                                     17 	.globl _move_pointer
                                     18 	.globl _place_object_at_pointer
                                     19 	.globl _remove_object_at_pointer
                                     20 	.globl _block_is_not_placed_below
                                     21 	.globl _block_is_placed_below
                                     22 	.globl _control_pointer
                                     23 	.globl _update_pointer
                                     24 	.globl _hide_pointer
                                     25 ;--------------------------------------------------------
                                     26 ; special function registers
                                     27 ;--------------------------------------------------------
                                     28 ;--------------------------------------------------------
                                     29 ; ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area _DATA
                                     32 ;--------------------------------------------------------
                                     33 ; ram data
                                     34 ;--------------------------------------------------------
                                     35 	.area _INITIALIZED
                                     36 ;--------------------------------------------------------
                                     37 ; absolute external ram data
                                     38 ;--------------------------------------------------------
                                     39 	.area _DABS (ABS)
                                     40 ;--------------------------------------------------------
                                     41 ; global & static initialisations
                                     42 ;--------------------------------------------------------
                                     43 	.area _HOME
                                     44 	.area _GSINIT
                                     45 	.area _GSFINAL
                                     46 	.area _GSINIT
                                     47 ;--------------------------------------------------------
                                     48 ; Home
                                     49 ;--------------------------------------------------------
                                     50 	.area _HOME
                                     51 	.area _HOME
                                     52 ;--------------------------------------------------------
                                     53 ; code
                                     54 ;--------------------------------------------------------
                                     55 	.area _CODE
                                     56 ;src/PointerSelector.c:7: void pointer_init(Pointer* s) {
                                     57 ;	---------------------------------
                                     58 ; Function pointer_init
                                     59 ; ---------------------------------
    00000000                         60 _pointer_init::
                                     61 ;src/PointerSelector.c:8: s->x = 80;
    00000000 6B               [ 4]   62 	ld	l, e
    00000001 62               [ 4]   63 	ld	h, d
    00000002 36 50            [12]   64 	ld	(hl), #0x50
                                     65 ;src/PointerSelector.c:9: s->y = 72;
    00000004 E5               [16]   66 	push	hl
    00000005 23               [ 8]   67 	inc	hl
    00000006 36 48            [12]   68 	ld	(hl), #0x48
                                     69 ;src/PointerSelector.c:10: for(uint8_t i = 4;i<=7;i++){
    00000008 C1               [12]   70 	pop	bc
    00000009 C5               [16]   71 	push	bc
    0000000A 03               [ 8]   72 	inc	bc
    0000000B 03               [ 8]   73 	inc	bc
    0000000C 1E 04            [ 8]   74 	ld	e, #0x04
    0000000E                         75 00103$:
    0000000E 3E 07            [ 8]   76 	ld	a, #0x07
    00000010 93               [ 4]   77 	sub	a, e
    00000011 38 08            [12]   78 	jr	C, 00101$
                                     79 ;src/PointerSelector.c:11: s->sprite_ids[i] = i;
    00000013 6B               [ 4]   80 	ld	l, e
    00000014 26 00            [ 8]   81 	ld	h, #0x00
    00000016 09               [ 8]   82 	add	hl, bc
    00000017 73               [ 8]   83 	ld	(hl), e
                                     84 ;src/PointerSelector.c:10: for(uint8_t i = 4;i<=7;i++){
    00000018 1C               [ 4]   85 	inc	e
    00000019 18 F3            [12]   86 	jr	00103$
    0000001B                         87 00101$:
                                     88 ;src/PointerSelector.c:13: s->tileindexBR = 0;
    0000001B D1               [12]   89 	pop	de
    0000001C D5               [16]   90 	push	de
    0000001D 21 06 00         [12]   91 	ld	hl, #0x0006
    00000020 19               [ 8]   92 	add	hl, de
    00000021 4D               [ 4]   93 	ld	c, l
    00000022 44               [ 4]   94 	ld	b, h
    00000023 AF               [ 4]   95 	xor	a, a
    00000024 02               [ 8]   96 	ld	(bc), a
    00000025 03               [ 8]   97 	inc	bc
    00000026 02               [ 8]   98 	ld	(bc), a
                                     99 ;src/PointerSelector.c:14: }
    00000027 33               [ 8]  100 	inc	sp
    00000028 33               [ 8]  101 	inc	sp
    00000029 C9               [16]  102 	ret
                                    103 ;src/PointerSelector.c:16: void move_pointer(Pointer* s) {
                                    104 ;	---------------------------------
                                    105 ; Function move_pointer
                                    106 ; ---------------------------------
    0000002A                        107 _move_pointer::
    0000002A 3B               [ 8]  108 	dec	sp
    0000002B 3B               [ 8]  109 	dec	sp
                                    110 ;src/PointerSelector.c:17: move_sprite(4, s->x- SPRITESIZE, s->y-SPRITESIZE);
    0000002C 4B               [ 4]  111 	ld	c, e
    0000002D 42               [ 4]  112 	ld	b, d
    0000002E 03               [ 8]  113 	inc	bc
    0000002F 0A               [ 8]  114 	ld	a, (bc)
    00000030 C6 F8            [ 8]  115 	add	a, #0xf8
    00000032 F8 00            [12]  116 	ldhl	sp,	#0
    00000034 22               [ 8]  117 	ld	(hl+), a
    00000035 1A               [ 8]  118 	ld	a, (de)
    00000036 C6 F8            [ 8]  119 	add	a, #0xf8
    00000038 77               [ 8]  120 	ld	(hl), a
                                    121 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000039 21r10r00         [12]  122 	ld	hl, #(_shadow_OAM + 16)
                                    123 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    0000003C E5               [16]  124 	push	hl
    0000003D F8 02            [12]  125 	ldhl	sp,	#2
    0000003F 7E               [ 8]  126 	ld	a, (hl)
    00000040 E1               [12]  127 	pop	hl
    00000041 22               [ 8]  128 	ld	(hl+), a
    00000042 E5               [16]  129 	push	hl
    00000043 F8 03            [12]  130 	ldhl	sp,	#3
    00000045 7E               [ 8]  131 	ld	a, (hl)
    00000046 E1               [12]  132 	pop	hl
    00000047 77               [ 8]  133 	ld	(hl), a
                                    134 ;src/PointerSelector.c:18: move_sprite(5, s->x- SPRITESIZE, s->y);
    00000048 0A               [ 8]  135 	ld	a, (bc)
    00000049 F8 00            [12]  136 	ldhl	sp,	#0
    0000004B 22               [ 8]  137 	ld	(hl+), a
    0000004C 1A               [ 8]  138 	ld	a, (de)
    0000004D C6 F8            [ 8]  139 	add	a, #0xf8
    0000004F 77               [ 8]  140 	ld	(hl), a
                                    141 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000050 21r14r00         [12]  142 	ld	hl, #(_shadow_OAM + 20)
                                    143 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    00000053 E5               [16]  144 	push	hl
    00000054 F8 02            [12]  145 	ldhl	sp,	#2
    00000056 7E               [ 8]  146 	ld	a, (hl)
    00000057 E1               [12]  147 	pop	hl
    00000058 22               [ 8]  148 	ld	(hl+), a
    00000059 E5               [16]  149 	push	hl
    0000005A F8 03            [12]  150 	ldhl	sp,	#3
    0000005C 7E               [ 8]  151 	ld	a, (hl)
    0000005D E1               [12]  152 	pop	hl
    0000005E 77               [ 8]  153 	ld	(hl), a
                                    154 ;src/PointerSelector.c:19: move_sprite(6, s->x, s->y-SPRITESIZE);
    0000005F 0A               [ 8]  155 	ld	a, (bc)
    00000060 C6 F8            [ 8]  156 	add	a, #0xf8
    00000062 F8 00            [12]  157 	ldhl	sp,	#0
    00000064 22               [ 8]  158 	ld	(hl+), a
    00000065 1A               [ 8]  159 	ld	a, (de)
    00000066 77               [ 8]  160 	ld	(hl), a
                                    161 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000067 21r18r00         [12]  162 	ld	hl, #(_shadow_OAM + 24)
                                    163 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    0000006A E5               [16]  164 	push	hl
    0000006B F8 02            [12]  165 	ldhl	sp,	#2
    0000006D 7E               [ 8]  166 	ld	a, (hl)
    0000006E E1               [12]  167 	pop	hl
    0000006F 22               [ 8]  168 	ld	(hl+), a
    00000070 E5               [16]  169 	push	hl
    00000071 F8 03            [12]  170 	ldhl	sp,	#3
    00000073 7E               [ 8]  171 	ld	a, (hl)
    00000074 E1               [12]  172 	pop	hl
    00000075 77               [ 8]  173 	ld	(hl), a
                                    174 ;src/PointerSelector.c:20: move_sprite(7, s->x, s->y);
    00000076 0A               [ 8]  175 	ld	a, (bc)
    00000077 47               [ 4]  176 	ld	b, a
    00000078 1A               [ 8]  177 	ld	a, (de)
    00000079 4F               [ 4]  178 	ld	c, a
                                    179 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    0000007A 21r1Cr00         [12]  180 	ld	hl, #(_shadow_OAM + 28)
                                    181 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    0000007D 78               [ 4]  182 	ld	a, b
    0000007E 22               [ 8]  183 	ld	(hl+), a
    0000007F 71               [ 8]  184 	ld	(hl), c
                                    185 ;src/PointerSelector.c:20: move_sprite(7, s->x, s->y);
                                    186 ;src/PointerSelector.c:22: }
    00000080 33               [ 8]  187 	inc	sp
    00000081 33               [ 8]  188 	inc	sp
    00000082 C9               [16]  189 	ret
                                    190 ;src/PointerSelector.c:24: void place_object_at_pointer(Pointer* s, uint8_t block_type){
                                    191 ;	---------------------------------
                                    192 ; Function place_object_at_pointer
                                    193 ; ---------------------------------
    00000083                        194 _place_object_at_pointer::
    00000083 3B               [ 8]  195 	dec	sp
    00000084 F8 00            [12]  196 	ldhl	sp,	#0
    00000086 77               [ 8]  197 	ld	(hl), a
                                    198 ;src/PointerSelector.c:25: change_colision_map_at(s->tileindexBR, BLOCK);
    00000087 21 06 00         [12]  199 	ld	hl, #0x0006
    0000008A 19               [ 8]  200 	add	hl, de
    0000008B 4D               [ 4]  201 	ld	c,l
    0000008C 44               [ 4]  202 	ld	b,h
    0000008D 2A               [ 8]  203 	ld	a,	(hl+)
    0000008E 66               [ 8]  204 	ld	h, (hl)
    0000008F 6F               [ 4]  205 	ld	l, a
    00000090 C5               [16]  206 	push	bc
    00000091 3E 05            [ 8]  207 	ld	a, #0x05
    00000093 5D               [ 4]  208 	ld	e, l
    00000094 54               [ 4]  209 	ld	d, h
    00000095 CDr00r00         [24]  210 	call	_change_colision_map_at
    00000098 C1               [12]  211 	pop	bc
                                    212 ;src/PointerSelector.c:26: change_colision_map_BR(s->tileindexBR, block_type);
    00000099 69               [ 4]  213 	ld	l, c
    0000009A 60               [ 4]  214 	ld	h, b
    0000009B 2A               [ 8]  215 	ld	a,	(hl+)
    0000009C 66               [ 8]  216 	ld	h, (hl)
    0000009D 6F               [ 4]  217 	ld	l, a
    0000009E C5               [16]  218 	push	bc
    0000009F E5               [16]  219 	push	hl
    000000A0 F8 04            [12]  220 	ldhl	sp,	#4
    000000A2 7E               [ 8]  221 	ld	a, (hl)
    000000A3 D1               [12]  222 	pop	de
    000000A4 CDr00r00         [24]  223 	call	_change_colision_map_BR
                                    224 ;src/PointerSelector.c:27: change_bkg_tile_xy(s->tileindexBR, 3);
    000000A7 E1               [12]  225 	pop	hl
    000000A8 2A               [ 8]  226 	ld	a, (hl+)
    000000A9 4F               [ 4]  227 	ld	c, a
    000000AA 46               [ 8]  228 	ld	b, (hl)
    000000AB 3E 03            [ 8]  229 	ld	a, #0x03
    000000AD 59               [ 4]  230 	ld	e, c
    000000AE 50               [ 4]  231 	ld	d, b
    000000AF 33               [ 8]  232 	inc	sp
    000000B0 C3r00r00         [16]  233 	jp	_change_bkg_tile_xy
                                    234 ;src/PointerSelector.c:28: }
    000000B3 33               [ 8]  235 	inc	sp
    000000B4 C9               [16]  236 	ret
                                    237 ;src/PointerSelector.c:30: void remove_object_at_pointer(Pointer* s){
                                    238 ;	---------------------------------
                                    239 ; Function remove_object_at_pointer
                                    240 ; ---------------------------------
    000000B5                        241 _remove_object_at_pointer::
                                    242 ;src/PointerSelector.c:31: change_colision_map_at(s->tileindexBR, EMPTY);
    000000B5 21 06 00         [12]  243 	ld	hl, #0x0006
    000000B8 19               [ 8]  244 	add	hl, de
    000000B9 4D               [ 4]  245 	ld	c,l
    000000BA 44               [ 4]  246 	ld	b,h
    000000BB 2A               [ 8]  247 	ld	a,	(hl+)
    000000BC 66               [ 8]  248 	ld	h, (hl)
    000000BD 6F               [ 4]  249 	ld	l, a
    000000BE C5               [16]  250 	push	bc
    000000BF AF               [ 4]  251 	xor	a, a
    000000C0 5D               [ 4]  252 	ld	e, l
    000000C1 54               [ 4]  253 	ld	d, h
    000000C2 CDr00r00         [24]  254 	call	_change_colision_map_at
                                    255 ;src/PointerSelector.c:32: change_bkg_tile_xy(s->tileindexBR, 0);
    000000C5 E1               [12]  256 	pop	hl
    000000C6 2A               [ 8]  257 	ld	a, (hl+)
    000000C7 4F               [ 4]  258 	ld	c, a
    000000C8 46               [ 8]  259 	ld	b, (hl)
    000000C9 AF               [ 4]  260 	xor	a, a
    000000CA 59               [ 4]  261 	ld	e, c
    000000CB 50               [ 4]  262 	ld	d, b
                                    263 ;src/PointerSelector.c:33: }
    000000CC C3r00r00         [16]  264 	jp	_change_bkg_tile_xy
                                    265 ;src/PointerSelector.c:35: uint8_t block_is_not_placed_below(Pointer* s){
                                    266 ;	---------------------------------
                                    267 ; Function block_is_not_placed_below
                                    268 ; ---------------------------------
    000000CF                        269 _block_is_not_placed_below::
                                    270 ;src/PointerSelector.c:36: return (global_colision_map[s->tileindexBR] == EMPTY) 
    000000CF 01r00r00         [12]  271 	ld	bc, #_global_colision_map+0
    000000D2 21 06 00         [12]  272 	ld	hl, #0x0006
    000000D5 19               [ 8]  273 	add	hl, de
    000000D6 2A               [ 8]  274 	ld	a,	(hl+)
    000000D7 66               [ 8]  275 	ld	h, (hl)
    000000D8 6F               [ 4]  276 	ld	l, a
    000000D9 81               [ 4]  277 	add	a, c
    000000DA 5F               [ 4]  278 	ld	e, a
    000000DB 7C               [ 4]  279 	ld	a, h
    000000DC 88               [ 4]  280 	adc	a, b
    000000DD 57               [ 4]  281 	ld	d, a
    000000DE 1A               [ 8]  282 	ld	a, (de)
    000000DF B7               [ 4]  283 	or	a, a
    000000E0 20 22            [12]  284 	jr	NZ, 00103$
                                    285 ;src/PointerSelector.c:37: && (global_colision_map[s->tileindexBR-1] == EMPTY)
    000000E2 5D               [ 4]  286 	ld	e,l
    000000E3 54               [ 4]  287 	ld	d,h
    000000E4 2B               [ 8]  288 	dec	hl
    000000E5 09               [ 8]  289 	add	hl, bc
    000000E6 7E               [ 8]  290 	ld	a, (hl)
    000000E7 B7               [ 4]  291 	or	a, a
    000000E8 20 1A            [12]  292 	jr	NZ, 00103$
                                    293 ;src/PointerSelector.c:38: && (global_colision_map[s->tileindexBR-20] == EMPTY)
    000000EA 7B               [ 4]  294 	ld	a, e
    000000EB C6 EC            [ 8]  295 	add	a, #0xec
    000000ED 6F               [ 4]  296 	ld	l, a
    000000EE 7A               [ 4]  297 	ld	a, d
    000000EF CE FF            [ 8]  298 	adc	a, #0xff
    000000F1 67               [ 4]  299 	ld	h, a
    000000F2 09               [ 8]  300 	add	hl, bc
    000000F3 7E               [ 8]  301 	ld	a, (hl)
    000000F4 B7               [ 4]  302 	or	a, a
    000000F5 20 0D            [12]  303 	jr	NZ, 00103$
                                    304 ;src/PointerSelector.c:39: && (global_colision_map[s->tileindexBR-21] == EMPTY);
    000000F7 7B               [ 4]  305 	ld	a, e
    000000F8 C6 EB            [ 8]  306 	add	a, #0xeb
    000000FA 6F               [ 4]  307 	ld	l, a
    000000FB 7A               [ 4]  308 	ld	a, d
    000000FC CE FF            [ 8]  309 	adc	a, #0xff
    000000FE 67               [ 4]  310 	ld	h, a
    000000FF 09               [ 8]  311 	add	hl, bc
    00000100 7E               [ 8]  312 	ld	a, (hl)
    00000101 B7               [ 4]  313 	or	a, a
    00000102 28 02            [12]  314 	jr	Z, 00104$
    00000104                        315 00103$:
    00000104 AF               [ 4]  316 	xor	a, a
    00000105 C9               [16]  317 	ret
    00000106                        318 00104$:
    00000106 3E 01            [ 8]  319 	ld	a, #0x01
                                    320 ;src/PointerSelector.c:40: }
    00000108 C9               [16]  321 	ret
                                    322 ;src/PointerSelector.c:42: uint8_t block_is_placed_below(Pointer* s){
                                    323 ;	---------------------------------
                                    324 ; Function block_is_placed_below
                                    325 ; ---------------------------------
    00000109                        326 _block_is_placed_below::
                                    327 ;src/PointerSelector.c:47: return (global_colision_map[s->tileindexBR]>= RIGHT && global_colision_map[s->tileindexBR]<=DOWN) 
    00000109 01r00r00         [12]  328 	ld	bc, #_global_colision_map+0
    0000010C 21 06 00         [12]  329 	ld	hl, #0x0006
    0000010F 19               [ 8]  330 	add	hl, de
    00000110 2A               [ 8]  331 	ld	a,	(hl+)
    00000111 66               [ 8]  332 	ld	h, (hl)
    00000112 6F               [ 4]  333 	ld	l, a
    00000113 81               [ 4]  334 	add	a,c
    00000114 5F               [ 4]  335 	ld	e, a
    00000115 78               [ 4]  336 	ld	a, b
    00000116 8C               [ 4]  337 	adc	a, h
    00000117 57               [ 4]  338 	ld	d, a
    00000118 1A               [ 8]  339 	ld	a, (de)
    00000119 FE 06            [ 8]  340 	cp	a, #0x06
    0000011B 38 26            [12]  341 	jr	C, 00103$
    0000011D FE 0A            [ 8]  342 	cp	a, #0x0a
    0000011F 30 22            [12]  343 	jr	NC, 00103$
                                    344 ;src/PointerSelector.c:48: && (global_colision_map[s->tileindexBR-1] != EMPTY)
    00000121 5D               [ 4]  345 	ld	e,l
    00000122 54               [ 4]  346 	ld	d,h
    00000123 2B               [ 8]  347 	dec	hl
    00000124 09               [ 8]  348 	add	hl, bc
    00000125 7E               [ 8]  349 	ld	a, (hl)
    00000126 B7               [ 4]  350 	or	a, a
    00000127 28 1A            [12]  351 	jr	Z, 00103$
                                    352 ;src/PointerSelector.c:49: && (global_colision_map[s->tileindexBR-20] != EMPTY)
    00000129 7B               [ 4]  353 	ld	a, e
    0000012A C6 EC            [ 8]  354 	add	a, #0xec
    0000012C 6F               [ 4]  355 	ld	l, a
    0000012D 7A               [ 4]  356 	ld	a, d
    0000012E CE FF            [ 8]  357 	adc	a, #0xff
    00000130 67               [ 4]  358 	ld	h, a
    00000131 09               [ 8]  359 	add	hl, bc
    00000132 7E               [ 8]  360 	ld	a, (hl)
    00000133 B7               [ 4]  361 	or	a, a
    00000134 28 0D            [12]  362 	jr	Z, 00103$
                                    363 ;src/PointerSelector.c:50: && (global_colision_map[s->tileindexBR-21] != EMPTY);
    00000136 7B               [ 4]  364 	ld	a, e
    00000137 C6 EB            [ 8]  365 	add	a, #0xeb
    00000139 6F               [ 4]  366 	ld	l, a
    0000013A 7A               [ 4]  367 	ld	a, d
    0000013B CE FF            [ 8]  368 	adc	a, #0xff
    0000013D 67               [ 4]  369 	ld	h, a
    0000013E 09               [ 8]  370 	add	hl, bc
    0000013F 7E               [ 8]  371 	ld	a, (hl)
    00000140 B7               [ 4]  372 	or	a, a
    00000141 20 02            [12]  373 	jr	NZ, 00104$
    00000143                        374 00103$:
    00000143 AF               [ 4]  375 	xor	a, a
    00000144 C9               [16]  376 	ret
    00000145                        377 00104$:
    00000145 3E 01            [ 8]  378 	ld	a, #0x01
                                    379 ;src/PointerSelector.c:51: }
    00000147 C9               [16]  380 	ret
                                    381 ;src/PointerSelector.c:53: void control_pointer(Pointer* s){
                                    382 ;	---------------------------------
                                    383 ; Function control_pointer
                                    384 ; ---------------------------------
    00000148                        385 _control_pointer::
    00000148 4B               [ 4]  386 	ld	c, e
    00000149 42               [ 4]  387 	ld	b, d
                                    388 ;src/PointerSelector.c:55: if(joypad() & J_UP) {
    0000014A CDr00r00         [24]  389 	call	_joypad
                                    390 ;src/PointerSelector.c:56: s->y -= 8;
    0000014D 59               [ 4]  391 	ld	e, c
    0000014E 50               [ 4]  392 	ld	d, b
    0000014F 13               [ 8]  393 	inc	de
                                    394 ;src/PointerSelector.c:55: if(joypad() & J_UP) {
    00000150 CB 57            [ 8]  395 	bit	2, a
    00000152 28 05            [12]  396 	jr	Z, 00124$
                                    397 ;src/PointerSelector.c:56: s->y -= 8;
    00000154 1A               [ 8]  398 	ld	a, (de)
    00000155 C6 F8            [ 8]  399 	add	a, #0xf8
    00000157 12               [ 8]  400 	ld	(de), a
    00000158 C9               [16]  401 	ret
    00000159                        402 00124$:
                                    403 ;src/PointerSelector.c:57: } else if(joypad() & J_DOWN) {
    00000159 D5               [16]  404 	push	de
    0000015A CDr00r00         [24]  405 	call	_joypad
    0000015D D1               [12]  406 	pop	de
    0000015E CB 5F            [ 8]  407 	bit	3, a
    00000160 28 05            [12]  408 	jr	Z, 00121$
                                    409 ;src/PointerSelector.c:58: s->y += 8;
    00000162 1A               [ 8]  410 	ld	a, (de)
    00000163 C6 08            [ 8]  411 	add	a, #0x08
    00000165 12               [ 8]  412 	ld	(de), a
    00000166 C9               [16]  413 	ret
    00000167                        414 00121$:
                                    415 ;src/PointerSelector.c:59: } else if(joypad() & J_LEFT) {
    00000167 CDr00r00         [24]  416 	call	_joypad
                                    417 ;src/PointerSelector.c:60: s->x -= 8;
    0000016A 69               [ 4]  418 	ld	l, c
    0000016B 60               [ 4]  419 	ld	h, b
                                    420 ;src/PointerSelector.c:59: } else if(joypad() & J_LEFT) {
    0000016C CB 4F            [ 8]  421 	bit	1, a
    0000016E 28 05            [12]  422 	jr	Z, 00118$
                                    423 ;src/PointerSelector.c:60: s->x -= 8;
    00000170 7E               [ 8]  424 	ld	a, (hl)
    00000171 C6 F8            [ 8]  425 	add	a, #0xf8
    00000173 77               [ 8]  426 	ld	(hl), a
    00000174 C9               [16]  427 	ret
    00000175                        428 00118$:
                                    429 ;src/PointerSelector.c:61: } else if(joypad() & J_RIGHT) {
    00000175 CDr00r00         [24]  430 	call	_joypad
    00000178 0F               [ 4]  431 	rrca
    00000179 30 05            [12]  432 	jr	NC, 00115$
                                    433 ;src/PointerSelector.c:62: s->x += 8;
    0000017B 7E               [ 8]  434 	ld	a, (hl)
    0000017C C6 08            [ 8]  435 	add	a, #0x08
    0000017E 77               [ 8]  436 	ld	(hl), a
    0000017F C9               [16]  437 	ret
    00000180                        438 00115$:
                                    439 ;src/PointerSelector.c:63: } else if(joypad() & J_A) {
    00000180 CDr00r00         [24]  440 	call	_joypad
    00000183 CB 67            [ 8]  441 	bit	4, a
    00000185 28 20            [12]  442 	jr	Z, 00112$
                                    443 ;src/PointerSelector.c:64: if(block_is_not_placed_below(s) 
    00000187 C5               [16]  444 	push	bc
    00000188 59               [ 4]  445 	ld	e, c
    00000189 50               [ 4]  446 	ld	d, b
    0000018A CDrCFr00         [24]  447 	call	_block_is_not_placed_below
    0000018D C1               [12]  448 	pop	bc
    0000018E B7               [ 4]  449 	or	a, a
    0000018F C8               [20]  450 	ret	Z
                                    451 ;src/PointerSelector.c:65: && (global_blocks_available[global_selected_block]>0)){
    00000190 3Er00            [ 8]  452 	ld	a, #<(_global_blocks_available)
    00000192 21r00r00         [12]  453 	ld	hl, #_global_selected_block
    00000195 86               [ 8]  454 	add	a, (hl)
    00000196 5F               [ 4]  455 	ld	e, a
    00000197 3Es00            [ 8]  456 	ld	a, #>(_global_blocks_available)
    00000199 CE 00            [ 8]  457 	adc	a, #0x00
    0000019B 57               [ 4]  458 	ld	d, a
    0000019C 1A               [ 8]  459 	ld	a, (de)
    0000019D B7               [ 4]  460 	or	a, a
    0000019E C8               [20]  461 	ret	Z
                                    462 ;src/PointerSelector.c:66: place_object_at_pointer(s, global_selected_block + 6);
    0000019F 7E               [ 8]  463 	ld	a, (hl)
    000001A0 C6 06            [ 8]  464 	add	a, #0x06
    000001A2 59               [ 4]  465 	ld	e, c
    000001A3 50               [ 4]  466 	ld	d, b
    000001A4 C3r83r00         [16]  467 	jp	_place_object_at_pointer
    000001A7                        468 00112$:
                                    469 ;src/PointerSelector.c:68: } else if(joypad() & J_B) {
    000001A7 CDr00r00         [24]  470 	call	_joypad
    000001AA CB 6F            [ 8]  471 	bit	5, a
    000001AC 28 0E            [12]  472 	jr	Z, 00109$
                                    473 ;src/PointerSelector.c:69: if(block_is_placed_below(s)){
    000001AE C5               [16]  474 	push	bc
    000001AF 59               [ 4]  475 	ld	e, c
    000001B0 50               [ 4]  476 	ld	d, b
    000001B1 CDr09r01         [24]  477 	call	_block_is_placed_below
    000001B4 C1               [12]  478 	pop	bc
    000001B5 B7               [ 4]  479 	or	a, a
    000001B6 C8               [20]  480 	ret	Z
                                    481 ;src/PointerSelector.c:70: remove_object_at_pointer(s);
    000001B7 59               [ 4]  482 	ld	e, c
    000001B8 50               [ 4]  483 	ld	d, b
    000001B9 C3rB5r00         [16]  484 	jp	_remove_object_at_pointer
    000001BC                        485 00109$:
                                    486 ;src/PointerSelector.c:72: } else if(joypad() & J_SELECT) {
    000001BC CDr00r00         [24]  487 	call	_joypad
    000001BF CB 77            [ 8]  488 	bit	6, a
                                    489 ;src/PointerSelector.c:73: move_foward_block_id();
    000001C1 C2r00r00         [16]  490 	jp	NZ, _move_foward_block_id
                                    491 ;src/PointerSelector.c:75: }
    000001C4 C9               [16]  492 	ret
                                    493 ;src/PointerSelector.c:77: void update_pointer(Pointer* s) { 
                                    494 ;	---------------------------------
                                    495 ; Function update_pointer
                                    496 ; ---------------------------------
    000001C5                        497 _update_pointer::
    000001C5 4B               [ 4]  498 	ld	c, e
    000001C6 42               [ 4]  499 	ld	b, d
                                    500 ;src/PointerSelector.c:78: s->tileindexBR = tileindex_from_xy(s->x, s->y);
    000001C7 21 06 00         [12]  501 	ld	hl, #0x0006
    000001CA 09               [ 8]  502 	add	hl, bc
    000001CB 59               [ 4]  503 	ld	e, c
    000001CC 50               [ 4]  504 	ld	d, b
    000001CD 13               [ 8]  505 	inc	de
    000001CE 1A               [ 8]  506 	ld	a, (de)
    000001CF 5F               [ 4]  507 	ld	e, a
    000001D0 0A               [ 8]  508 	ld	a, (bc)
    000001D1 E5               [16]  509 	push	hl
    000001D2 C5               [16]  510 	push	bc
    000001D3 CDr00r00         [24]  511 	call	_tileindex_from_xy
    000001D6 59               [ 4]  512 	ld	e, c
    000001D7 50               [ 4]  513 	ld	d, b
    000001D8 C1               [12]  514 	pop	bc
    000001D9 E1               [12]  515 	pop	hl
    000001DA 7B               [ 4]  516 	ld	a, e
    000001DB 22               [ 8]  517 	ld	(hl+), a
    000001DC 72               [ 8]  518 	ld	(hl), d
                                    519 ;src/PointerSelector.c:79: control_pointer(s);
    000001DD C5               [16]  520 	push	bc
    000001DE 59               [ 4]  521 	ld	e, c
    000001DF 50               [ 4]  522 	ld	d, b
    000001E0 CDr48r01         [24]  523 	call	_control_pointer
                                    524 ;src/PointerSelector.c:80: move_pointer(s);
    000001E3 D1               [12]  525 	pop	de
                                    526 ;src/PointerSelector.c:81: }
    000001E4 C3r2Ar00         [16]  527 	jp	_move_pointer
                                    528 ;src/PointerSelector.c:83: void hide_pointer(void){
                                    529 ;	---------------------------------
                                    530 ; Function hide_pointer
                                    531 ; ---------------------------------
    000001E7                        532 _hide_pointer::
                                    533 ;src/PointerSelector.c:84: for(uint8_t i= 4; i<=7; i++){
    000001E7 0E 04            [ 8]  534 	ld	c, #0x04
    000001E9                        535 00104$:
    000001E9 3E 07            [ 8]  536 	ld	a, #0x07
    000001EB 91               [ 4]  537 	sub	a, c
    000001EC D8               [20]  538 	ret	C
                                    539 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000001ED 11r00r00         [12]  540 	ld	de, #_shadow_OAM+0
    000001F0 69               [ 4]  541 	ld	l, c
    000001F1 AF               [ 4]  542 	xor	a, a
    000001F2 67               [ 4]  543 	ld	h, a
    000001F3 29               [ 8]  544 	add	hl, hl
    000001F4 29               [ 8]  545 	add	hl, hl
    000001F5 19               [ 8]  546 	add	hl, de
                                    547 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000001F6 AF               [ 4]  548 	xor	a, a
    000001F7 22               [ 8]  549 	ld	(hl+), a
    000001F8 77               [ 8]  550 	ld	(hl), a
                                    551 ;src/PointerSelector.c:84: for(uint8_t i= 4; i<=7; i++){
    000001F9 0C               [ 4]  552 	inc	c
                                    553 ;src/PointerSelector.c:87: }
    000001FA 18 ED            [12]  554 	jr	00104$
                                    555 	.area _CODE
                                    556 	.area _INITIALIZER
                                    557 	.area _CABS (ABS)
