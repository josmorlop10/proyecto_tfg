                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module Character
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _take_effect
                                     11 	.globl _rotate_direction
                                     12 	.globl _flip_direction
                                     13 	.globl _movement_step_by_step
                                     14 	.globl _check_colision_with_object
                                     15 	.globl _hide_object
                                     16 	.globl _player_over_fall
                                     17 	.globl _player_tileBR_over_destination
                                     18 	.globl _player_tileBR_over_a_block
                                     19 	.globl _tileindex_from_xy
                                     20 	.globl _get_init_point_from_map
                                     21 	.globl _update_game_state
                                     22 	.globl _global_blocks_active
                                     23 	.globl _debug
                                     24 	.globl _set_direction
                                     25 	.globl _character_init
                                     26 	.globl _move_character
                                     27 	.globl _canplayermove
                                     28 	.globl _update_character
                                     29 ;--------------------------------------------------------
                                     30 ; special function registers
                                     31 ;--------------------------------------------------------
                                     32 ;--------------------------------------------------------
                                     33 ; ram data
                                     34 ;--------------------------------------------------------
                                     35 	.area _DATA
                                     36 ;--------------------------------------------------------
                                     37 ; ram data
                                     38 ;--------------------------------------------------------
                                     39 	.area _INITIALIZED
    00000000                         40 _debug::
    00000000                         41 	.ds 1
    00000001                         42 _global_blocks_active::
    00000001                         43 	.ds 1
                                     44 ;--------------------------------------------------------
                                     45 ; absolute external ram data
                                     46 ;--------------------------------------------------------
                                     47 	.area _DABS (ABS)
                                     48 ;--------------------------------------------------------
                                     49 ; global & static initialisations
                                     50 ;--------------------------------------------------------
                                     51 	.area _HOME
                                     52 	.area _GSINIT
                                     53 	.area _GSFINAL
                                     54 	.area _GSINIT
                                     55 ;--------------------------------------------------------
                                     56 ; Home
                                     57 ;--------------------------------------------------------
                                     58 	.area _HOME
                                     59 	.area _HOME
                                     60 ;--------------------------------------------------------
                                     61 ; code
                                     62 ;--------------------------------------------------------
                                     63 	.area _CODE
                                     64 ;src/Character.c:14: void set_direction(Character* p,  int8_t x, int8_t y){
                                     65 ;	---------------------------------
                                     66 ; Function set_direction
                                     67 ; ---------------------------------
    00000000                         68 _set_direction::
    00000000 4F               [ 4]   69 	ld	c, a
                                     70 ;src/Character.c:15: p->dir_x = x;
    00000001 21 08 00         [12]   71 	ld	hl, #0x0008
    00000004 19               [ 8]   72 	add	hl, de
    00000005 71               [ 8]   73 	ld	(hl), c
                                     74 ;src/Character.c:16: p->dir_y = y;
    00000006 21 09 00         [12]   75 	ld	hl, #0x0009
    00000009 19               [ 8]   76 	add	hl, de
    0000000A 4D               [ 4]   77 	ld	c, l
    0000000B 44               [ 4]   78 	ld	b, h
    0000000C F8 02            [12]   79 	ldhl	sp,	#2
    0000000E 7E               [ 8]   80 	ld	a, (hl)
    0000000F 02               [ 8]   81 	ld	(bc), a
                                     82 ;src/Character.c:17: }
    00000010 E1               [12]   83 	pop	hl
    00000011 33               [ 8]   84 	inc	sp
    00000012 E9               [ 4]   85 	jp	(hl)
                                     86 ;src/Character.c:21: void character_init(Character* p) {
                                     87 ;	---------------------------------
                                     88 ; Function character_init
                                     89 ; ---------------------------------
    00000013                         90 _character_init::
    00000013 3B               [ 8]   91 	dec	sp
                                     92 ;src/Character.c:23: get_init_point_from_map(global_colision_map);
    00000014 D5               [16]   93 	push	de
    00000015 11r00r00         [12]   94 	ld	de, #_global_colision_map
    00000018 CDr00r00         [24]   95 	call	_get_init_point_from_map
    0000001B D1               [12]   96 	pop	de
                                     97 ;src/Character.c:24: uint8_t player_x = (global_init_point % 20) * 8 + 8; //columna
    0000001C FAr00r00         [16]   98 	ld	a, (_global_init_point)
    0000001F 6F               [ 4]   99 	ld	l, a
    00000020 FAr01r00         [16]  100 	ld	a, (_global_init_point + 1)
    00000023 67               [ 4]  101 	ld	h, a
    00000024 E5               [16]  102 	push	hl
    00000025 D5               [16]  103 	push	de
    00000026 01 14 00         [12]  104 	ld	bc, #0x0014
    00000029 5D               [ 4]  105 	ld	e, l
    0000002A 54               [ 4]  106 	ld	d, h
    0000002B CDr00r00         [24]  107 	call	__moduint
    0000002E D1               [12]  108 	pop	de
    0000002F E1               [12]  109 	pop	hl
    00000030 79               [ 4]  110 	ld	a, c
    00000031 87               [ 4]  111 	add	a, a
    00000032 87               [ 4]  112 	add	a, a
    00000033 87               [ 4]  113 	add	a, a
    00000034 C6 08            [ 8]  114 	add	a, #0x08
    00000036 E5               [16]  115 	push	hl
    00000037 F8 02            [12]  116 	ldhl	sp,	#2
    00000039 77               [ 8]  117 	ld	(hl), a
    0000003A E1               [12]  118 	pop	hl
                                    119 ;src/Character.c:25: uint8_t player_y = (global_init_point / 20) * 8 + 16; //fila
    0000003B D5               [16]  120 	push	de
    0000003C 01 14 00         [12]  121 	ld	bc, #0x0014
    0000003F 5D               [ 4]  122 	ld	e, l
    00000040 54               [ 4]  123 	ld	d, h
    00000041 CDr00r00         [24]  124 	call	__divuint
    00000044 D1               [12]  125 	pop	de
    00000045 79               [ 4]  126 	ld	a, c
    00000046 87               [ 4]  127 	add	a, a
    00000047 87               [ 4]  128 	add	a, a
    00000048 87               [ 4]  129 	add	a, a
    00000049 C6 10            [ 8]  130 	add	a, #0x10
    0000004B 4F               [ 4]  131 	ld	c, a
                                    132 ;src/Character.c:27: p->x = player_x;
    0000004C 21 04 00         [12]  133 	ld	hl, #0x0004
    0000004F 19               [ 8]  134 	add	hl, de
    00000050 E5               [16]  135 	push	hl
    00000051 F8 02            [12]  136 	ldhl	sp,	#2
    00000053 7E               [ 8]  137 	ld	a, (hl)
    00000054 E1               [12]  138 	pop	hl
    00000055 77               [ 8]  139 	ld	(hl), a
                                    140 ;src/Character.c:28: p->y = player_y;
    00000056 21 05 00         [12]  141 	ld	hl, #0x0005
    00000059 19               [ 8]  142 	add	hl, de
    0000005A 71               [ 8]  143 	ld	(hl), c
                                    144 ;src/Character.c:29: p->w = 16;
    0000005B 21 06 00         [12]  145 	ld	hl, #0x0006
    0000005E 19               [ 8]  146 	add	hl, de
    0000005F 36 10            [12]  147 	ld	(hl), #0x10
                                    148 ;src/Character.c:30: p->h = 16;
    00000061 21 07 00         [12]  149 	ld	hl, #0x0007
    00000064 19               [ 8]  150 	add	hl, de
    00000065 36 10            [12]  151 	ld	(hl), #0x10
                                    152 ;src/Character.c:31: p->dir_x = 1;  
    00000067 21 08 00         [12]  153 	ld	hl, #0x0008
    0000006A 19               [ 8]  154 	add	hl, de
    0000006B 36 01            [12]  155 	ld	(hl), #0x01
                                    156 ;src/Character.c:32: p->dir_y = 0; 
    0000006D 21 09 00         [12]  157 	ld	hl, #0x0009
    00000070 19               [ 8]  158 	add	hl, de
    00000071 36 00            [12]  159 	ld	(hl), #0x00
                                    160 ;src/Character.c:33: p->speed = 8;
    00000073 21 0A 00         [12]  161 	ld	hl, #0x000a
    00000076 19               [ 8]  162 	add	hl, de
    00000077 36 08            [12]  163 	ld	(hl), #0x08
                                    164 ;src/Character.c:34: for(uint8_t i = 0;i<=3;i++){
    00000079 0E 00            [ 8]  165 	ld	c, #0x00
    0000007B                        166 00103$:
    0000007B 3E 03            [ 8]  167 	ld	a, #0x03
    0000007D 91               [ 4]  168 	sub	a, c
    0000007E 38 08            [12]  169 	jr	C, 00101$
                                    170 ;src/Character.c:35: p->sprite_ids[i] = i;
    00000080 69               [ 4]  171 	ld	l, c
    00000081 26 00            [ 8]  172 	ld	h, #0x00
    00000083 19               [ 8]  173 	add	hl, de
    00000084 71               [ 8]  174 	ld	(hl), c
                                    175 ;src/Character.c:34: for(uint8_t i = 0;i<=3;i++){
    00000085 0C               [ 4]  176 	inc	c
    00000086 18 F3            [12]  177 	jr	00103$
    00000088                        178 00101$:
                                    179 ;src/Character.c:37: p->tileindexBR = 0;
    00000088 21 0B 00         [12]  180 	ld	hl, #0x000b
    0000008B 19               [ 8]  181 	add	hl, de
    0000008C AF               [ 4]  182 	xor	a, a
    0000008D 22               [ 8]  183 	ld	(hl+), a
    0000008E 77               [ 8]  184 	ld	(hl), a
                                    185 ;src/Character.c:38: p->next_tileindexBR = 0;
    0000008F 21 0D 00         [12]  186 	ld	hl, #0x000d
    00000092 19               [ 8]  187 	add	hl, de
    00000093 AF               [ 4]  188 	xor	a, a
    00000094 22               [ 8]  189 	ld	(hl+), a
    00000095 77               [ 8]  190 	ld	(hl), a
                                    191 ;src/Character.c:39: }
    00000096 33               [ 8]  192 	inc	sp
    00000097 C9               [16]  193 	ret
                                    194 ;src/Character.c:41: void move_character(Character* p) {
                                    195 ;	---------------------------------
                                    196 ; Function move_character
                                    197 ; ---------------------------------
    00000098                        198 _move_character::
    00000098 3B               [ 8]  199 	dec	sp
    00000099 3B               [ 8]  200 	dec	sp
                                    201 ;src/Character.c:43: move_sprite(0, p->x-SPRITESIZE, p->y-SPRITESIZE);
    0000009A 21 05 00         [12]  202 	ld	hl, #0x0005
    0000009D 19               [ 8]  203 	add	hl, de
    0000009E 4D               [ 4]  204 	ld	c, l
    0000009F 44               [ 4]  205 	ld	b, h
    000000A0 0A               [ 8]  206 	ld	a, (bc)
    000000A1 C6 F8            [ 8]  207 	add	a, #0xf8
    000000A3 F8 00            [12]  208 	ldhl	sp,	#0
    000000A5 22               [ 8]  209 	ld	(hl+), a
    000000A6 13               [ 8]  210 	inc	de
    000000A7 13               [ 8]  211 	inc	de
    000000A8 13               [ 8]  212 	inc	de
    000000A9 13               [ 8]  213 	inc	de
    000000AA 1A               [ 8]  214 	ld	a, (de)
    000000AB C6 F8            [ 8]  215 	add	a, #0xf8
    000000AD 77               [ 8]  216 	ld	(hl), a
                                    217 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000AE 21r00r00         [12]  218 	ld	hl, #_shadow_OAM
                                    219 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000000B1 E5               [16]  220 	push	hl
    000000B2 F8 02            [12]  221 	ldhl	sp,	#2
    000000B4 7E               [ 8]  222 	ld	a, (hl)
    000000B5 E1               [12]  223 	pop	hl
    000000B6 22               [ 8]  224 	ld	(hl+), a
    000000B7 E5               [16]  225 	push	hl
    000000B8 F8 03            [12]  226 	ldhl	sp,	#3
    000000BA 7E               [ 8]  227 	ld	a, (hl)
    000000BB E1               [12]  228 	pop	hl
    000000BC 77               [ 8]  229 	ld	(hl), a
                                    230 ;src/Character.c:44: move_sprite(1, p->x-SPRITESIZE, p->y);
    000000BD 0A               [ 8]  231 	ld	a, (bc)
    000000BE F8 00            [12]  232 	ldhl	sp,	#0
    000000C0 22               [ 8]  233 	ld	(hl+), a
    000000C1 1A               [ 8]  234 	ld	a, (de)
    000000C2 C6 F8            [ 8]  235 	add	a, #0xf8
    000000C4 77               [ 8]  236 	ld	(hl), a
                                    237 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000C5 21r04r00         [12]  238 	ld	hl, #(_shadow_OAM + 4)
                                    239 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000000C8 E5               [16]  240 	push	hl
    000000C9 F8 02            [12]  241 	ldhl	sp,	#2
    000000CB 7E               [ 8]  242 	ld	a, (hl)
    000000CC E1               [12]  243 	pop	hl
    000000CD 22               [ 8]  244 	ld	(hl+), a
    000000CE E5               [16]  245 	push	hl
    000000CF F8 03            [12]  246 	ldhl	sp,	#3
    000000D1 7E               [ 8]  247 	ld	a, (hl)
    000000D2 E1               [12]  248 	pop	hl
    000000D3 77               [ 8]  249 	ld	(hl), a
                                    250 ;src/Character.c:45: move_sprite(2, p->x, p->y-SPRITESIZE);
    000000D4 0A               [ 8]  251 	ld	a, (bc)
    000000D5 C6 F8            [ 8]  252 	add	a, #0xf8
    000000D7 F8 00            [12]  253 	ldhl	sp,	#0
    000000D9 22               [ 8]  254 	ld	(hl+), a
    000000DA 1A               [ 8]  255 	ld	a, (de)
    000000DB 77               [ 8]  256 	ld	(hl), a
                                    257 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000DC 21r08r00         [12]  258 	ld	hl, #(_shadow_OAM + 8)
                                    259 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000000DF E5               [16]  260 	push	hl
    000000E0 F8 02            [12]  261 	ldhl	sp,	#2
    000000E2 7E               [ 8]  262 	ld	a, (hl)
    000000E3 E1               [12]  263 	pop	hl
    000000E4 22               [ 8]  264 	ld	(hl+), a
    000000E5 E5               [16]  265 	push	hl
    000000E6 F8 03            [12]  266 	ldhl	sp,	#3
    000000E8 7E               [ 8]  267 	ld	a, (hl)
    000000E9 E1               [12]  268 	pop	hl
    000000EA 77               [ 8]  269 	ld	(hl), a
                                    270 ;src/Character.c:46: move_sprite(3, p->x, p->y);
    000000EB 0A               [ 8]  271 	ld	a, (bc)
    000000EC 47               [ 4]  272 	ld	b, a
    000000ED 1A               [ 8]  273 	ld	a, (de)
    000000EE 4F               [ 4]  274 	ld	c, a
                                    275 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000EF 21r0Cr00         [12]  276 	ld	hl, #(_shadow_OAM + 12)
                                    277 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000000F2 78               [ 4]  278 	ld	a, b
    000000F3 22               [ 8]  279 	ld	(hl+), a
    000000F4 71               [ 8]  280 	ld	(hl), c
                                    281 ;src/Character.c:46: move_sprite(3, p->x, p->y);
                                    282 ;src/Character.c:48: }
    000000F5 33               [ 8]  283 	inc	sp
    000000F6 33               [ 8]  284 	inc	sp
    000000F7 C9               [16]  285 	ret
                                    286 ;src/Character.c:50: void movement_step_by_step(Character* p){
                                    287 ;	---------------------------------
                                    288 ; Function movement_step_by_step
                                    289 ; ---------------------------------
    000000F8                        290 _movement_step_by_step::
    000000F8 E8 F9            [16]  291 	add	sp, #-7
    000000FA F8 04            [12]  292 	ldhl	sp,	#4
    000000FC 7B               [ 4]  293 	ld	a, e
    000000FD 22               [ 8]  294 	ld	(hl+), a
                                    295 ;src/Character.c:52: for(uint8_t i = 0; i < SPRITESIZE; i++) {
    000000FE 7A               [ 4]  296 	ld	a, d
    000000FF 32               [ 8]  297 	ld	(hl-), a
    00000100 2A               [ 8]  298 	ld	a, (hl+)
    00000101 5F               [ 4]  299 	ld	e, a
    00000102 56               [ 8]  300 	ld	d, (hl)
    00000103 21 09 00         [12]  301 	ld	hl, #0x0009
    00000106 19               [ 8]  302 	add	hl, de
    00000107 33               [ 8]  303 	inc	sp
    00000108 33               [ 8]  304 	inc	sp
    00000109 E5               [16]  305 	push	hl
    0000010A F8 04            [12]  306 	ldhl	sp,#4
    0000010C 2A               [ 8]  307 	ld	a, (hl+)
    0000010D 5F               [ 4]  308 	ld	e, a
    0000010E 56               [ 8]  309 	ld	d, (hl)
    0000010F 21 08 00         [12]  310 	ld	hl, #0x0008
    00000112 19               [ 8]  311 	add	hl, de
    00000113 E5               [16]  312 	push	hl
    00000114 7D               [ 4]  313 	ld	a, l
    00000115 F8 04            [12]  314 	ldhl	sp,	#4
    00000117 77               [ 8]  315 	ld	(hl), a
    00000118 E1               [12]  316 	pop	hl
    00000119 7C               [ 4]  317 	ld	a, h
    0000011A F8 03            [12]  318 	ldhl	sp,	#3
    0000011C 77               [ 8]  319 	ld	(hl), a
    0000011D F8 06            [12]  320 	ldhl	sp,	#6
    0000011F 36 00            [12]  321 	ld	(hl), #0x00
    00000121                        322 00103$:
    00000121 F8 06            [12]  323 	ldhl	sp,	#6
    00000123 7E               [ 8]  324 	ld	a, (hl)
    00000124 D6 08            [ 8]  325 	sub	a, #0x08
    00000126 30 30            [12]  326 	jr	NC, 00105$
                                    327 ;src/Character.c:53: p->y += 1 * p->dir_y;
    00000128 2B               [ 8]  328 	dec	hl
    00000129 2B               [ 8]  329 	dec	hl
    0000012A 2A               [ 8]  330 	ld	a, (hl+)
    0000012B 5F               [ 4]  331 	ld	e, a
    0000012C 56               [ 8]  332 	ld	d, (hl)
    0000012D 21 05 00         [12]  333 	ld	hl, #0x0005
    00000130 19               [ 8]  334 	add	hl, de
    00000131 4D               [ 4]  335 	ld	c, l
    00000132 44               [ 4]  336 	ld	b, h
    00000133 0A               [ 8]  337 	ld	a, (bc)
    00000134 D1               [12]  338 	pop	de
    00000135 D5               [16]  339 	push	de
    00000136 F5               [16]  340 	push	af
    00000137 1A               [ 8]  341 	ld	a, (de)
    00000138 6F               [ 4]  342 	ld	l, a
    00000139 F1               [12]  343 	pop	af
    0000013A 85               [ 4]  344 	add	a, l
    0000013B 02               [ 8]  345 	ld	(bc), a
                                    346 ;src/Character.c:54: p->x += 1 * p->dir_x;
    0000013C F8 04            [12]  347 	ldhl	sp,#4
    0000013E 2A               [ 8]  348 	ld	a, (hl+)
    0000013F 5F               [ 4]  349 	ld	e, a
    00000140 56               [ 8]  350 	ld	d, (hl)
    00000141 21 04 00         [12]  351 	ld	hl, #0x0004
    00000144 19               [ 8]  352 	add	hl, de
    00000145 4D               [ 4]  353 	ld	c, l
    00000146 44               [ 4]  354 	ld	b, h
    00000147 0A               [ 8]  355 	ld	a, (bc)
    00000148 F8 02            [12]  356 	ldhl	sp,#2
    0000014A 5E               [ 8]  357 	ld	e, (hl)
    0000014B 23               [ 8]  358 	inc	hl
    0000014C 56               [ 8]  359 	ld	d, (hl)
    0000014D F5               [16]  360 	push	af
    0000014E 1A               [ 8]  361 	ld	a, (de)
    0000014F 6F               [ 4]  362 	ld	l, a
    00000150 F1               [12]  363 	pop	af
    00000151 85               [ 4]  364 	add	a, l
    00000152 02               [ 8]  365 	ld	(bc), a
                                    366 ;src/Character.c:52: for(uint8_t i = 0; i < SPRITESIZE; i++) {
    00000153 F8 06            [12]  367 	ldhl	sp,	#6
    00000155 34               [12]  368 	inc	(hl)
    00000156 18 C9            [12]  369 	jr	00103$
    00000158                        370 00105$:
                                    371 ;src/Character.c:56: }
    00000158 E8 07            [16]  372 	add	sp, #7
    0000015A C9               [16]  373 	ret
                                    374 ;src/Character.c:58: uint8_t canplayermove(Character* p){
                                    375 ;	---------------------------------
                                    376 ; Function canplayermove
                                    377 ; ---------------------------------
    0000015B                        378 _canplayermove::
    0000015B E8 F6            [16]  379 	add	sp, #-10
    0000015D F8 08            [12]  380 	ldhl	sp,	#8
    0000015F 7B               [ 4]  381 	ld	a, e
    00000160 22               [ 8]  382 	ld	(hl+), a
                                    383 ;src/Character.c:60: uint16_t tileindexBR = p->next_tileindexBR;
    00000161 7A               [ 4]  384 	ld	a, d
    00000162 32               [ 8]  385 	ld	(hl-), a
    00000163 2A               [ 8]  386 	ld	a, (hl+)
    00000164 5F               [ 4]  387 	ld	e, a
    00000165 56               [ 8]  388 	ld	d, (hl)
    00000166 21 0D 00         [12]  389 	ld	hl, #0x000d
    00000169 19               [ 8]  390 	add	hl, de
    0000016A 4D               [ 4]  391 	ld	c, l
    0000016B 44               [ 4]  392 	ld	b, h
    0000016C 59               [ 4]  393 	ld	e, c
    0000016D 50               [ 4]  394 	ld	d, b
    0000016E 1A               [ 8]  395 	ld	a, (de)
    0000016F F8 00            [12]  396 	ldhl	sp,	#0
    00000171 22               [ 8]  397 	ld	(hl+), a
    00000172 13               [ 8]  398 	inc	de
    00000173 1A               [ 8]  399 	ld	a, (de)
                                    400 ;src/Character.c:61: uint16_t tileindexTL = tileindexBR -21;
    00000174 22               [ 8]  401 	ld	(hl+), a
    00000175 C1               [12]  402 	pop	bc
    00000176 C5               [16]  403 	push	bc
    00000177 79               [ 4]  404 	ld	a, c
    00000178 C6 EB            [ 8]  405 	add	a, #0xeb
    0000017A 5F               [ 4]  406 	ld	e, a
    0000017B 78               [ 4]  407 	ld	a, b
    0000017C CE FF            [ 8]  408 	adc	a, #0xff
    0000017E 73               [ 8]  409 	ld	(hl), e
    0000017F 23               [ 8]  410 	inc	hl
                                    411 ;src/Character.c:62: uint16_t tileindexTR = tileindexBR -20;
    00000180 22               [ 8]  412 	ld	(hl+), a
    00000181 79               [ 4]  413 	ld	a, c
    00000182 C6 EC            [ 8]  414 	add	a, #0xec
    00000184 5F               [ 4]  415 	ld	e, a
    00000185 78               [ 4]  416 	ld	a, b
    00000186 CE FF            [ 8]  417 	adc	a, #0xff
    00000188 73               [ 8]  418 	ld	(hl), e
    00000189 23               [ 8]  419 	inc	hl
                                    420 ;src/Character.c:63: uint16_t tileindexBL = tileindexBR -1;
    0000018A 22               [ 8]  421 	ld	(hl+), a
    0000018B 0B               [ 8]  422 	dec	bc
    0000018C 79               [ 4]  423 	ld	a, c
    0000018D 22               [ 8]  424 	ld	(hl+), a
    0000018E 70               [ 8]  425 	ld	(hl), b
                                    426 ;src/Character.c:66: if ((global_colision_map[tileindexTL] == SOLID) || 
    0000018F 11r00r00         [12]  427 	ld	de, #_global_colision_map
    00000192 F8 02            [12]  428 	ldhl	sp,	#2
    00000194 2A               [ 8]  429 	ld	a,	(hl+)
    00000195 66               [ 8]  430 	ld	h, (hl)
    00000196 6F               [ 4]  431 	ld	l, a
    00000197 19               [ 8]  432 	add	hl, de
    00000198 4D               [ 4]  433 	ld	c, l
    00000199 44               [ 4]  434 	ld	b, h
    0000019A 0A               [ 8]  435 	ld	a, (bc)
    0000019B 3D               [ 4]  436 	dec	a
    0000019C 28 2A            [12]  437 	jr	Z, 00101$
                                    438 ;src/Character.c:67: (global_colision_map[tileindexTR] == SOLID) || 
    0000019E 11r00r00         [12]  439 	ld	de, #_global_colision_map
    000001A1 F8 04            [12]  440 	ldhl	sp,	#4
    000001A3 2A               [ 8]  441 	ld	a,	(hl+)
    000001A4 66               [ 8]  442 	ld	h, (hl)
    000001A5 6F               [ 4]  443 	ld	l, a
    000001A6 19               [ 8]  444 	add	hl, de
    000001A7 4D               [ 4]  445 	ld	c, l
    000001A8 44               [ 4]  446 	ld	b, h
    000001A9 0A               [ 8]  447 	ld	a, (bc)
    000001AA 3D               [ 4]  448 	dec	a
    000001AB 28 1B            [12]  449 	jr	Z, 00101$
                                    450 ;src/Character.c:68: (global_colision_map[tileindexBL] == SOLID) ||
    000001AD 11r00r00         [12]  451 	ld	de, #_global_colision_map
    000001B0 F8 06            [12]  452 	ldhl	sp,	#6
    000001B2 2A               [ 8]  453 	ld	a,	(hl+)
    000001B3 66               [ 8]  454 	ld	h, (hl)
    000001B4 6F               [ 4]  455 	ld	l, a
    000001B5 19               [ 8]  456 	add	hl, de
    000001B6 4D               [ 4]  457 	ld	c, l
    000001B7 44               [ 4]  458 	ld	b, h
    000001B8 0A               [ 8]  459 	ld	a, (bc)
    000001B9 3D               [ 4]  460 	dec	a
    000001BA 28 0C            [12]  461 	jr	Z, 00101$
                                    462 ;src/Character.c:69: (global_colision_map[tileindexBR] == SOLID))
    000001BC 11r00r00         [12]  463 	ld	de, #_global_colision_map
    000001BF E1               [12]  464 	pop	hl
    000001C0 E5               [16]  465 	push	hl
    000001C1 19               [ 8]  466 	add	hl, de
    000001C2 4D               [ 4]  467 	ld	c, l
    000001C3 44               [ 4]  468 	ld	b, h
    000001C4 0A               [ 8]  469 	ld	a, (bc)
    000001C5 3D               [ 4]  470 	dec	a
    000001C6 20 04            [12]  471 	jr	NZ, 00102$
    000001C8                        472 00101$:
                                    473 ;src/Character.c:71: return 0;
    000001C8 AF               [ 4]  474 	xor	a, a
    000001C9 C3r69r02         [16]  475 	jp	00116$
    000001CC                        476 00102$:
                                    477 ;src/Character.c:74: uint8_t event = player_tileBR_over_a_block(p->tileindexBR);
    000001CC F8 08            [12]  478 	ldhl	sp,#8
    000001CE 2A               [ 8]  479 	ld	a, (hl+)
    000001CF 5F               [ 4]  480 	ld	e, a
    000001D0 56               [ 8]  481 	ld	d, (hl)
    000001D1 21 0B 00         [12]  482 	ld	hl, #0x000b
    000001D4 19               [ 8]  483 	add	hl, de
    000001D5 2A               [ 8]  484 	ld	a, (hl+)
    000001D6 4F               [ 4]  485 	ld	c, a
    000001D7 7E               [ 8]  486 	ld	a, (hl)
    000001D8 59               [ 4]  487 	ld	e, c
    000001D9 57               [ 4]  488 	ld	d, a
    000001DA CDr00r00         [24]  489 	call	_player_tileBR_over_a_block
    000001DD F8 07            [12]  490 	ldhl	sp,	#7
    000001DF 77               [ 8]  491 	ld	(hl), a
                                    492 ;src/Character.c:75: if(global_blocks_active){
    000001E0 FAr01r00         [16]  493 	ld	a, (#_global_blocks_active)
    000001E3 B7               [ 4]  494 	or	a, a
    000001E4 CAr67r02         [16]  495 	jp	Z, 00115$
                                    496 ;src/Character.c:76: switch(event){
    000001E7 F8 07            [12]  497 	ldhl	sp,	#7
    000001E9 7E               [ 8]  498 	ld	a, (hl)
    000001EA D6 06            [ 8]  499 	sub	a, #0x06
    000001EC 38 79            [12]  500 	jr	C, 00115$
    000001EE 3E 0B            [ 8]  501 	ld	a, #0x0b
    000001F0 96               [ 8]  502 	sub	a, (hl)
    000001F1 38 74            [12]  503 	jr	C, 00115$
    000001F3 7E               [ 8]  504 	ld	a, (hl)
    000001F4 C6 FA            [ 8]  505 	add	a, #0xfa
    000001F6 4F               [ 4]  506 	ld	c, a
    000001F7 06 00            [ 8]  507 	ld	b, #0x00
    000001F9 21r03r02         [12]  508 	ld	hl, #00165$
    000001FC 09               [ 8]  509 	add	hl, bc
    000001FD 09               [ 8]  510 	add	hl, bc
    000001FE 4E               [ 8]  511 	ld	c, (hl)
    000001FF 23               [ 8]  512 	inc	hl
    00000200 66               [ 8]  513 	ld	h, (hl)
    00000201 69               [ 4]  514 	ld	l, c
    00000202 E9               [ 4]  515 	jp	(hl)
    00000203                        516 00165$:
    00000203r0Fr02                  517 	.dw	00106$
    00000205r1Er02                  518 	.dw	00107$
    00000207r2Dr02                  519 	.dw	00108$
    00000209r3Cr02                  520 	.dw	00109$
    0000020Br4Br02                  521 	.dw	00110$
    0000020Dr5Ar02                  522 	.dw	00111$
                                    523 ;src/Character.c:77: case RIGHT:
    0000020F                        524 00106$:
                                    525 ;src/Character.c:78: set_direction(p, 1, 0);
    0000020F AF               [ 4]  526 	xor	a, a
    00000210 F5               [16]  527 	push	af
    00000211 33               [ 8]  528 	inc	sp
    00000212 3E 01            [ 8]  529 	ld	a, #0x01
    00000214 F8 09            [12]  530 	ldhl	sp,	#9
    00000216 5E               [ 8]  531 	ld	e, (hl)
    00000217 23               [ 8]  532 	inc	hl
    00000218 56               [ 8]  533 	ld	d, (hl)
    00000219 CDr00r00         [24]  534 	call	_set_direction
                                    535 ;src/Character.c:79: break;
    0000021C 18 49            [12]  536 	jr	00115$
                                    537 ;src/Character.c:80: case LEFT:
    0000021E                        538 00107$:
                                    539 ;src/Character.c:81: set_direction(p, -1, 0);
    0000021E AF               [ 4]  540 	xor	a, a
    0000021F F5               [16]  541 	push	af
    00000220 33               [ 8]  542 	inc	sp
    00000221 3E FF            [ 8]  543 	ld	a, #0xff
    00000223 F8 09            [12]  544 	ldhl	sp,	#9
    00000225 5E               [ 8]  545 	ld	e, (hl)
    00000226 23               [ 8]  546 	inc	hl
    00000227 56               [ 8]  547 	ld	d, (hl)
    00000228 CDr00r00         [24]  548 	call	_set_direction
                                    549 ;src/Character.c:82: break;
    0000022B 18 3A            [12]  550 	jr	00115$
                                    551 ;src/Character.c:83: case UP:
    0000022D                        552 00108$:
                                    553 ;src/Character.c:84: set_direction(p, 0, -1);
    0000022D 3E FF            [ 8]  554 	ld	a, #0xff
    0000022F F5               [16]  555 	push	af
    00000230 33               [ 8]  556 	inc	sp
    00000231 AF               [ 4]  557 	xor	a, a
    00000232 F8 09            [12]  558 	ldhl	sp,	#9
    00000234 5E               [ 8]  559 	ld	e, (hl)
    00000235 23               [ 8]  560 	inc	hl
    00000236 56               [ 8]  561 	ld	d, (hl)
    00000237 CDr00r00         [24]  562 	call	_set_direction
                                    563 ;src/Character.c:85: break;
    0000023A 18 2B            [12]  564 	jr	00115$
                                    565 ;src/Character.c:86: case DOWN:
    0000023C                        566 00109$:
                                    567 ;src/Character.c:87: set_direction(p, 0, 1);
    0000023C 3E 01            [ 8]  568 	ld	a, #0x01
    0000023E F5               [16]  569 	push	af
    0000023F 33               [ 8]  570 	inc	sp
    00000240 AF               [ 4]  571 	xor	a, a
    00000241 F8 09            [12]  572 	ldhl	sp,	#9
    00000243 5E               [ 8]  573 	ld	e, (hl)
    00000244 23               [ 8]  574 	inc	hl
    00000245 56               [ 8]  575 	ld	d, (hl)
    00000246 CDr00r00         [24]  576 	call	_set_direction
                                    577 ;src/Character.c:88: break;
    00000249 18 1C            [12]  578 	jr	00115$
                                    579 ;src/Character.c:89: case CLOCKWISE:
    0000024B                        580 00110$:
                                    581 ;src/Character.c:90: set_direction(p, 1, 0);
    0000024B AF               [ 4]  582 	xor	a, a
    0000024C F5               [16]  583 	push	af
    0000024D 33               [ 8]  584 	inc	sp
    0000024E 3E 01            [ 8]  585 	ld	a, #0x01
    00000250 F8 09            [12]  586 	ldhl	sp,	#9
    00000252 5E               [ 8]  587 	ld	e, (hl)
    00000253 23               [ 8]  588 	inc	hl
    00000254 56               [ 8]  589 	ld	d, (hl)
    00000255 CDr00r00         [24]  590 	call	_set_direction
                                    591 ;src/Character.c:91: break;
    00000258 18 0D            [12]  592 	jr	00115$
                                    593 ;src/Character.c:92: case COUNTER_CLOCKWISE:
    0000025A                        594 00111$:
                                    595 ;src/Character.c:93: set_direction(p, -1, 0);
    0000025A AF               [ 4]  596 	xor	a, a
    0000025B F5               [16]  597 	push	af
    0000025C 33               [ 8]  598 	inc	sp
    0000025D 3E FF            [ 8]  599 	ld	a, #0xff
    0000025F F8 09            [12]  600 	ldhl	sp,	#9
    00000261 5E               [ 8]  601 	ld	e, (hl)
    00000262 23               [ 8]  602 	inc	hl
    00000263 56               [ 8]  603 	ld	d, (hl)
    00000264 CDr00r00         [24]  604 	call	_set_direction
                                    605 ;src/Character.c:98: }
    00000267                        606 00115$:
                                    607 ;src/Character.c:101: return 1;
    00000267 3E 01            [ 8]  608 	ld	a, #0x01
    00000269                        609 00116$:
                                    610 ;src/Character.c:102: }
    00000269 E8 0A            [16]  611 	add	sp, #10
    0000026B C9               [16]  612 	ret
                                    613 ;src/Character.c:106: void flip_direction(Character* p){
                                    614 ;	---------------------------------
                                    615 ; Function flip_direction
                                    616 ; ---------------------------------
    0000026C                        617 _flip_direction::
                                    618 ;src/Character.c:107: p->dir_x = - p->dir_x;
    0000026C 21 08 00         [12]  619 	ld	hl, #0x0008
    0000026F 19               [ 8]  620 	add	hl, de
    00000270 AF               [ 4]  621 	xor	a, a
    00000271 96               [ 8]  622 	sub	a, (hl)
    00000272 77               [ 8]  623 	ld	(hl), a
                                    624 ;src/Character.c:108: p->dir_y = - p->dir_y;
    00000273 21 09 00         [12]  625 	ld	hl, #0x0009
    00000276 19               [ 8]  626 	add	hl, de
    00000277 AF               [ 4]  627 	xor	a, a
    00000278 96               [ 8]  628 	sub	a, (hl)
    00000279 77               [ 8]  629 	ld	(hl), a
                                    630 ;src/Character.c:109: }
    0000027A C9               [16]  631 	ret
                                    632 ;src/Character.c:111: void rotate_direction(Character*p, uint8_t sentido){
                                    633 ;	---------------------------------
                                    634 ; Function rotate_direction
                                    635 ; ---------------------------------
    0000027B                        636 _rotate_direction::
    0000027B 3B               [ 8]  637 	dec	sp
    0000027C 6F               [ 4]  638 	ld	l, a
                                    639 ;src/Character.c:114: uint8_t aux_x = p->dir_x;
    0000027D 7B               [ 4]  640 	ld	a, e
    0000027E C6 08            [ 8]  641 	add	a, #0x08
    00000280 4F               [ 4]  642 	ld	c, a
    00000281 7A               [ 4]  643 	ld	a, d
    00000282 CE 00            [ 8]  644 	adc	a, #0x00
    00000284 47               [ 4]  645 	ld	b, a
    00000285 0A               [ 8]  646 	ld	a, (bc)
    00000286 E5               [16]  647 	push	hl
    00000287 F8 02            [12]  648 	ldhl	sp,	#2
    00000289 77               [ 8]  649 	ld	(hl), a
    0000028A E1               [12]  650 	pop	hl
                                    651 ;src/Character.c:118: p->dir_x = -p->dir_y;
    0000028B 7B               [ 4]  652 	ld	a, e
    0000028C C6 09            [ 8]  653 	add	a, #0x09
    0000028E 5F               [ 4]  654 	ld	e, a
    0000028F 30 01            [12]  655 	jr	NC, 00113$
    00000291 14               [ 4]  656 	inc	d
    00000292                        657 00113$:
    00000292 1A               [ 8]  658 	ld	a, (de)
    00000293 67               [ 4]  659 	ld	h, a
                                    660 ;src/Character.c:116: if(sentido){
    00000294 7D               [ 4]  661 	ld	a, l
    00000295 B7               [ 4]  662 	or	a, a
    00000296 28 09            [12]  663 	jr	Z, 00102$
                                    664 ;src/Character.c:118: p->dir_x = -p->dir_y;
    00000298 AF               [ 4]  665 	xor	a, a
    00000299 94               [ 4]  666 	sub	a, h
    0000029A 02               [ 8]  667 	ld	(bc), a
                                    668 ;src/Character.c:119: p->dir_y = aux_x;
    0000029B F8 00            [12]  669 	ldhl	sp,	#0
    0000029D 7E               [ 8]  670 	ld	a, (hl)
    0000029E 12               [ 8]  671 	ld	(de), a
    0000029F 18 06            [12]  672 	jr	00104$
    000002A1                        673 00102$:
                                    674 ;src/Character.c:122: p->dir_x = p->dir_y;
    000002A1 7C               [ 4]  675 	ld	a, h
    000002A2 02               [ 8]  676 	ld	(bc), a
                                    677 ;src/Character.c:123: p->dir_y = aux_x;
    000002A3 F8 00            [12]  678 	ldhl	sp,	#0
    000002A5 7E               [ 8]  679 	ld	a, (hl)
    000002A6 12               [ 8]  680 	ld	(de), a
    000002A7                        681 00104$:
                                    682 ;src/Character.c:126: }
    000002A7 33               [ 8]  683 	inc	sp
    000002A8 C9               [16]  684 	ret
                                    685 ;src/Character.c:128: void take_effect(uint8_t index){
                                    686 ;	---------------------------------
                                    687 ; Function take_effect
                                    688 ; ---------------------------------
    000002A9                        689 _take_effect::
                                    690 ;src/Character.c:133: uint8_t type = global_object_information[index*3+2];
    000002A9 4F               [ 4]  691 	ld	c, a
    000002AA 87               [ 4]  692 	add	a, a
    000002AB 81               [ 4]  693 	add	a, c
    000002AC C6 02            [ 8]  694 	add	a, #0x02
    000002AE 4F               [ 4]  695 	ld	c, a
    000002AF 07               [ 4]  696 	rlca
    000002B0 9F               [ 4]  697 	sbc	a, a
    000002B1 47               [ 4]  698 	ld	b, a
    000002B2 21r00r00         [12]  699 	ld	hl, #_global_object_information
    000002B5 09               [ 8]  700 	add	hl, bc
    000002B6 7E               [ 8]  701 	ld	a, (hl)
                                    702 ;src/Character.c:134: switch (type)
    000002B7 FE 08            [ 8]  703 	cp	a, #0x08
    000002B9 D8               [20]  704 	ret	C
    000002BA FE 10            [ 8]  705 	cp	a, #0x10
    000002BC D0               [20]  706 	ret	NC
    000002BD C6 F8            [ 8]  707 	add	a, #0xf8
    000002BF 4F               [ 4]  708 	ld	c, a
    000002C0 06 00            [ 8]  709 	ld	b, #0x00
    000002C2 21rCCr02         [12]  710 	ld	hl, #00127$
    000002C5 09               [ 8]  711 	add	hl, bc
    000002C6 09               [ 8]  712 	add	hl, bc
    000002C7 4E               [ 8]  713 	ld	c, (hl)
    000002C8 23               [ 8]  714 	inc	hl
    000002C9 66               [ 8]  715 	ld	h, (hl)
    000002CA 69               [ 4]  716 	ld	l, c
    000002CB E9               [ 4]  717 	jp	(hl)
    000002CC                        718 00127$:
    000002CCrE0r02                  719 	.dw	00111$
    000002CErE0r02                  720 	.dw	00111$
    000002D0rE0r02                  721 	.dw	00111$
    000002D2rE0r02                  722 	.dw	00111$
    000002D4rE0r02                  723 	.dw	00111$
    000002D6rDCr02                  724 	.dw	00101$
    000002D8rE0r02                  725 	.dw	00111$
    000002DArE0r02                  726 	.dw	00111$
                                    727 ;src/Character.c:136: case NO_ACTION:
    000002DC                        728 00101$:
                                    729 ;src/Character.c:137: global_blocks_active = 0;
    000002DC AF               [ 4]  730 	xor	a, a
    000002DD EAr01r00         [16]  731 	ld	(#_global_blocks_active),a
                                    732 ;src/Character.c:169: }
    000002E0                        733 00111$:
                                    734 ;src/Character.c:170: }
    000002E0 C9               [16]  735 	ret
                                    736 ;src/Character.c:172: void update_character(Character* p) { //devuelve las teclas actuales
                                    737 ;	---------------------------------
                                    738 ; Function update_character
                                    739 ; ---------------------------------
    000002E1                        740 _update_character::
    000002E1 E8 F2            [16]  741 	add	sp, #-14
    000002E3 4B               [ 4]  742 	ld	c, e
    000002E4 42               [ 4]  743 	ld	b, d
                                    744 ;src/Character.c:174: if(player_tileBR_over_destination(p->next_tileindexBR)){
    000002E5 21 0D 00         [12]  745 	ld	hl, #0x000d
    000002E8 09               [ 8]  746 	add	hl, bc
    000002E9 33               [ 8]  747 	inc	sp
    000002EA 33               [ 8]  748 	inc	sp
    000002EB 5D               [ 4]  749 	ld	e, l
    000002EC 54               [ 4]  750 	ld	d, h
    000002ED D5               [16]  751 	push	de
    000002EE 1A               [ 8]  752 	ld	a, (de)
    000002EF 6F               [ 4]  753 	ld	l, a
    000002F0 13               [ 8]  754 	inc	de
    000002F1 1A               [ 8]  755 	ld	a, (de)
    000002F2 C5               [16]  756 	push	bc
    000002F3 5D               [ 4]  757 	ld	e, l
    000002F4 57               [ 4]  758 	ld	d, a
    000002F5 CDr00r00         [24]  759 	call	_player_tileBR_over_destination
    000002F8 C1               [12]  760 	pop	bc
    000002F9 B7               [ 4]  761 	or	a, a
    000002FA 28 08            [12]  762 	jr	Z, 00102$
                                    763 ;src/Character.c:175: update_game_state(STATE_GAME_OVER);
    000002FC 3E 05            [ 8]  764 	ld	a, #0x05
    000002FE CDr00r00         [24]  765 	call	_update_game_state
                                    766 ;src/Character.c:176: return;
    00000301 C3r8Dr04         [16]  767 	jp	00110$
    00000304                        768 00102$:
                                    769 ;src/Character.c:179: if(player_over_fall(p->next_tileindexBR)){
    00000304 D1               [12]  770 	pop	de
    00000305 D5               [16]  771 	push	de
    00000306 1A               [ 8]  772 	ld	a, (de)
    00000307 6F               [ 4]  773 	ld	l, a
    00000308 13               [ 8]  774 	inc	de
    00000309 1A               [ 8]  775 	ld	a, (de)
    0000030A C5               [16]  776 	push	bc
    0000030B 5D               [ 4]  777 	ld	e, l
    0000030C 57               [ 4]  778 	ld	d, a
    0000030D CDr00r00         [24]  779 	call	_player_over_fall
    00000310 5F               [ 4]  780 	ld	e, a
    00000311 C1               [12]  781 	pop	bc
                                    782 ;src/Character.c:180: p->speed = 0;
    00000312 21 0A 00         [12]  783 	ld	hl, #0x000a
    00000315 09               [ 8]  784 	add	hl, bc
    00000316 E5               [16]  785 	push	hl
    00000317 7D               [ 4]  786 	ld	a, l
    00000318 F8 04            [12]  787 	ldhl	sp,	#4
    0000031A 77               [ 8]  788 	ld	(hl), a
    0000031B E1               [12]  789 	pop	hl
    0000031C 7C               [ 4]  790 	ld	a, h
    0000031D F8 03            [12]  791 	ldhl	sp,	#3
    0000031F 77               [ 8]  792 	ld	(hl), a
                                    793 ;src/Character.c:179: if(player_over_fall(p->next_tileindexBR)){
    00000320 7B               [ 4]  794 	ld	a, e
    00000321 B7               [ 4]  795 	or	a, a
    00000322 28 09            [12]  796 	jr	Z, 00104$
                                    797 ;src/Character.c:180: p->speed = 0;
    00000324 2B               [ 8]  798 	dec	hl
    00000325 2A               [ 8]  799 	ld	a, (hl+)
    00000326 66               [ 8]  800 	ld	h, (hl)
    00000327 6F               [ 4]  801 	ld	l, a
    00000328 36 00            [12]  802 	ld	(hl), #0x00
                                    803 ;src/Character.c:181: return;
    0000032A C3r8Dr04         [16]  804 	jp	00110$
    0000032D                        805 00104$:
                                    806 ;src/Character.c:184: uint8_t object_index_in_array = check_colision_with_object( p->x - (p->w >> 1), p->y - (p->h >> 1) , p->w, p->h );
    0000032D 21 07 00         [12]  807 	ld	hl, #0x0007
    00000330 09               [ 8]  808 	add	hl, bc
    00000331 7E               [ 8]  809 	ld	a, (hl)
    00000332 F8 0B            [12]  810 	ldhl	sp,	#11
    00000334 77               [ 8]  811 	ld	(hl), a
    00000335 21 06 00         [12]  812 	ld	hl, #0x0006
    00000338 09               [ 8]  813 	add	hl, bc
    00000339 7E               [ 8]  814 	ld	a, (hl)
    0000033A F8 0C            [12]  815 	ldhl	sp,	#12
    0000033C 77               [ 8]  816 	ld	(hl), a
    0000033D 21 05 00         [12]  817 	ld	hl, #0x0005
    00000340 09               [ 8]  818 	add	hl, bc
    00000341 E5               [16]  819 	push	hl
    00000342 7D               [ 4]  820 	ld	a, l
    00000343 F8 06            [12]  821 	ldhl	sp,	#6
    00000345 77               [ 8]  822 	ld	(hl), a
    00000346 E1               [12]  823 	pop	hl
    00000347 7C               [ 4]  824 	ld	a, h
    00000348 F8 05            [12]  825 	ldhl	sp,	#5
    0000034A 32               [ 8]  826 	ld	(hl-), a
    0000034B 2A               [ 8]  827 	ld	a, (hl+)
    0000034C 5F               [ 4]  828 	ld	e, a
    0000034D 56               [ 8]  829 	ld	d, (hl)
    0000034E 1A               [ 8]  830 	ld	a, (de)
    0000034F F8 0B            [12]  831 	ldhl	sp,	#11
    00000351 5E               [ 8]  832 	ld	e, (hl)
    00000352 23               [ 8]  833 	inc	hl
    00000353 23               [ 8]  834 	inc	hl
    00000354 CB 3B            [ 8]  835 	srl	e
    00000356 93               [ 4]  836 	sub	a, e
    00000357 77               [ 8]  837 	ld	(hl), a
    00000358 21 04 00         [12]  838 	ld	hl, #0x0004
    0000035B 09               [ 8]  839 	add	hl, bc
    0000035C E5               [16]  840 	push	hl
    0000035D 7D               [ 4]  841 	ld	a, l
    0000035E F8 08            [12]  842 	ldhl	sp,	#8
    00000360 77               [ 8]  843 	ld	(hl), a
    00000361 E1               [12]  844 	pop	hl
    00000362 7C               [ 4]  845 	ld	a, h
    00000363 F8 07            [12]  846 	ldhl	sp,	#7
    00000365 32               [ 8]  847 	ld	(hl-), a
    00000366 2A               [ 8]  848 	ld	a, (hl+)
    00000367 5F               [ 4]  849 	ld	e, a
    00000368 56               [ 8]  850 	ld	d, (hl)
    00000369 1A               [ 8]  851 	ld	a, (de)
    0000036A F8 0C            [12]  852 	ldhl	sp,	#12
    0000036C 5E               [ 8]  853 	ld	e, (hl)
    0000036D 2B               [ 8]  854 	dec	hl
    0000036E CB 3B            [ 8]  855 	srl	e
    00000370 93               [ 4]  856 	sub	a, e
    00000371 C5               [16]  857 	push	bc
    00000372 66               [ 8]  858 	ld	h, (hl)
    00000373 E5               [16]  859 	push	hl
    00000374 33               [ 8]  860 	inc	sp
    00000375 F8 0F            [12]  861 	ldhl	sp,	#15
    00000377 66               [ 8]  862 	ld	h, (hl)
    00000378 E5               [16]  863 	push	hl
    00000379 33               [ 8]  864 	inc	sp
    0000037A F8 11            [12]  865 	ldhl	sp,	#17
    0000037C 5E               [ 8]  866 	ld	e, (hl)
    0000037D CDr00r00         [24]  867 	call	_check_colision_with_object
    00000380 5F               [ 4]  868 	ld	e, a
    00000381 C1               [12]  869 	pop	bc
                                    870 ;src/Character.c:185: if(object_index_in_array != 255){ 
    00000382 7B               [ 4]  871 	ld	a, e
    00000383 3C               [ 4]  872 	inc	a
    00000384 28 0C            [12]  873 	jr	Z, 00106$
                                    874 ;src/Character.c:186: take_effect(object_index_in_array);
    00000386 C5               [16]  875 	push	bc
    00000387 D5               [16]  876 	push	de
    00000388 7B               [ 4]  877 	ld	a, e
    00000389 CDrA9r02         [24]  878 	call	_take_effect
    0000038C D1               [12]  879 	pop	de
                                    880 ;src/Character.c:187: hide_object(object_index_in_array);
    0000038D 7B               [ 4]  881 	ld	a, e
    0000038E CDr00r00         [24]  882 	call	_hide_object
    00000391 C1               [12]  883 	pop	bc
    00000392                        884 00106$:
                                    885 ;src/Character.c:190: p->tileindexBR = tileindex_from_xy(p->x, p->y);
    00000392 21 0B 00         [12]  886 	ld	hl, #0x000b
    00000395 09               [ 8]  887 	add	hl, bc
    00000396 E5               [16]  888 	push	hl
    00000397 7D               [ 4]  889 	ld	a, l
    00000398 F8 0C            [12]  890 	ldhl	sp,	#12
    0000039A 77               [ 8]  891 	ld	(hl), a
    0000039B E1               [12]  892 	pop	hl
    0000039C 7C               [ 4]  893 	ld	a, h
    0000039D F8 0B            [12]  894 	ldhl	sp,	#11
    0000039F 77               [ 8]  895 	ld	(hl), a
    000003A0 F8 04            [12]  896 	ldhl	sp,#4
    000003A2 2A               [ 8]  897 	ld	a, (hl+)
    000003A3 5F               [ 4]  898 	ld	e, a
    000003A4 2A               [ 8]  899 	ld	a, (hl+)
    000003A5 57               [ 4]  900 	ld	d, a
    000003A6 1A               [ 8]  901 	ld	a, (de)
    000003A7 5E               [ 8]  902 	ld	e, (hl)
    000003A8 23               [ 8]  903 	inc	hl
    000003A9 56               [ 8]  904 	ld	d, (hl)
    000003AA F5               [16]  905 	push	af
    000003AB 1A               [ 8]  906 	ld	a, (de)
    000003AC 6F               [ 4]  907 	ld	l, a
    000003AD F1               [12]  908 	pop	af
    000003AE C5               [16]  909 	push	bc
    000003AF 5F               [ 4]  910 	ld	e, a
    000003B0 7D               [ 4]  911 	ld	a, l
    000003B1 CDr00r00         [24]  912 	call	_tileindex_from_xy
    000003B4 F8 0E            [12]  913 	ldhl	sp,	#14
    000003B6 79               [ 4]  914 	ld	a, c
    000003B7 22               [ 8]  915 	ld	(hl+), a
    000003B8 70               [ 8]  916 	ld	(hl), b
    000003B9 C1               [12]  917 	pop	bc
    000003BA F8 0A            [12]  918 	ldhl	sp,	#10
    000003BC 2A               [ 8]  919 	ld	a, (hl+)
    000003BD 5F               [ 4]  920 	ld	e, a
    000003BE 2A               [ 8]  921 	ld	a, (hl+)
    000003BF 57               [ 4]  922 	ld	d, a
    000003C0 2A               [ 8]  923 	ld	a, (hl+)
    000003C1 12               [ 8]  924 	ld	(de), a
    000003C2 13               [ 8]  925 	inc	de
    000003C3 7E               [ 8]  926 	ld	a, (hl)
    000003C4 12               [ 8]  927 	ld	(de), a
                                    928 ;src/Character.c:191: p->next_tileindexBR = tileindex_from_xy(p->x + SPRITESIZE * p->dir_x, p->y + SPRITESIZE * p->dir_y);
    000003C5 F8 04            [12]  929 	ldhl	sp,#4
    000003C7 2A               [ 8]  930 	ld	a, (hl+)
    000003C8 5F               [ 4]  931 	ld	e, a
    000003C9 56               [ 8]  932 	ld	d, (hl)
    000003CA 1A               [ 8]  933 	ld	a, (de)
    000003CB F8 0D            [12]  934 	ldhl	sp,	#13
    000003CD 77               [ 8]  935 	ld	(hl), a
    000003CE 21 09 00         [12]  936 	ld	hl, #0x0009
    000003D1 09               [ 8]  937 	add	hl, bc
    000003D2 E5               [16]  938 	push	hl
    000003D3 7D               [ 4]  939 	ld	a, l
    000003D4 F8 0A            [12]  940 	ldhl	sp,	#10
    000003D6 77               [ 8]  941 	ld	(hl), a
    000003D7 E1               [12]  942 	pop	hl
    000003D8 7C               [ 4]  943 	ld	a, h
    000003D9 F8 09            [12]  944 	ldhl	sp,	#9
    000003DB 32               [ 8]  945 	ld	(hl-), a
    000003DC 2A               [ 8]  946 	ld	a, (hl+)
    000003DD 5F               [ 4]  947 	ld	e, a
    000003DE 56               [ 8]  948 	ld	d, (hl)
    000003DF 1A               [ 8]  949 	ld	a, (de)
    000003E0 87               [ 4]  950 	add	a, a
    000003E1 87               [ 4]  951 	add	a, a
    000003E2 87               [ 4]  952 	add	a, a
    000003E3 F8 0D            [12]  953 	ldhl	sp,	#13
    000003E5 5E               [ 8]  954 	ld	e, (hl)
    000003E6 83               [ 4]  955 	add	a, e
    000003E7 F8 0A            [12]  956 	ldhl	sp,	#10
    000003E9 77               [ 8]  957 	ld	(hl), a
    000003EA F8 06            [12]  958 	ldhl	sp,#6
    000003EC 2A               [ 8]  959 	ld	a, (hl+)
    000003ED 5F               [ 4]  960 	ld	e, a
    000003EE 56               [ 8]  961 	ld	d, (hl)
    000003EF 1A               [ 8]  962 	ld	a, (de)
    000003F0 F8 0B            [12]  963 	ldhl	sp,	#11
    000003F2 77               [ 8]  964 	ld	(hl), a
    000003F3 21 08 00         [12]  965 	ld	hl, #0x0008
    000003F6 09               [ 8]  966 	add	hl, bc
    000003F7 E5               [16]  967 	push	hl
    000003F8 7D               [ 4]  968 	ld	a, l
    000003F9 F8 0E            [12]  969 	ldhl	sp,	#14
    000003FB 77               [ 8]  970 	ld	(hl), a
    000003FC E1               [12]  971 	pop	hl
    000003FD 7C               [ 4]  972 	ld	a, h
    000003FE F8 0D            [12]  973 	ldhl	sp,	#13
    00000400 32               [ 8]  974 	ld	(hl-), a
    00000401 2A               [ 8]  975 	ld	a, (hl+)
    00000402 5F               [ 4]  976 	ld	e, a
    00000403 3A               [ 8]  977 	ld	a, (hl-)
    00000404 2B               [ 8]  978 	dec	hl
    00000405 57               [ 4]  979 	ld	d, a
    00000406 1A               [ 8]  980 	ld	a, (de)
    00000407 87               [ 4]  981 	add	a, a
    00000408 87               [ 4]  982 	add	a, a
    00000409 87               [ 4]  983 	add	a, a
    0000040A 5E               [ 8]  984 	ld	e, (hl)
    0000040B 2B               [ 8]  985 	dec	hl
    0000040C 83               [ 4]  986 	add	a, e
    0000040D C5               [16]  987 	push	bc
    0000040E 5E               [ 8]  988 	ld	e, (hl)
    0000040F CDr00r00         [24]  989 	call	_tileindex_from_xy
    00000412 F8 0C            [12]  990 	ldhl	sp,	#12
    00000414 79               [ 4]  991 	ld	a, c
    00000415 22               [ 8]  992 	ld	(hl+), a
    00000416 70               [ 8]  993 	ld	(hl), b
    00000417 C1               [12]  994 	pop	bc
    00000418 D1               [12]  995 	pop	de
    00000419 D5               [16]  996 	push	de
    0000041A F8 0A            [12]  997 	ldhl	sp,	#10
    0000041C 2A               [ 8]  998 	ld	a, (hl+)
    0000041D 12               [ 8]  999 	ld	(de), a
    0000041E 13               [ 8] 1000 	inc	de
    0000041F 7E               [ 8] 1001 	ld	a, (hl)
    00000420 12               [ 8] 1002 	ld	(de), a
                                   1003 ;src/Character.c:193: if(canplayermove(p)) {
    00000421 C5               [16] 1004 	push	bc
    00000422 59               [ 4] 1005 	ld	e, c
    00000423 50               [ 4] 1006 	ld	d, b
    00000424 CDr5Br01         [24] 1007 	call	_canplayermove
    00000427 C1               [12] 1008 	pop	bc
    00000428 B7               [ 4] 1009 	or	a, a
    00000429 28 56            [12] 1010 	jr	Z, 00108$
                                   1011 ;src/Character.c:194: p->x += p->speed * p->dir_x;
    0000042B F8 06            [12] 1012 	ldhl	sp,#6
    0000042D 2A               [ 8] 1013 	ld	a, (hl+)
    0000042E 5F               [ 4] 1014 	ld	e, a
    0000042F 56               [ 8] 1015 	ld	d, (hl)
    00000430 1A               [ 8] 1016 	ld	a, (de)
    00000431 F8 0B            [12] 1017 	ldhl	sp,	#11
    00000433 77               [ 8] 1018 	ld	(hl), a
    00000434 F8 02            [12] 1019 	ldhl	sp,#2
    00000436 2A               [ 8] 1020 	ld	a, (hl+)
    00000437 5F               [ 4] 1021 	ld	e, a
    00000438 56               [ 8] 1022 	ld	d, (hl)
    00000439 1A               [ 8] 1023 	ld	a, (de)
    0000043A F8 0C            [12] 1024 	ldhl	sp,#12
    0000043C 5E               [ 8] 1025 	ld	e, (hl)
    0000043D 23               [ 8] 1026 	inc	hl
    0000043E 56               [ 8] 1027 	ld	d, (hl)
    0000043F F5               [16] 1028 	push	af
    00000440 1A               [ 8] 1029 	ld	a, (de)
    00000441 6F               [ 4] 1030 	ld	l, a
    00000442 F1               [12] 1031 	pop	af
    00000443 C5               [16] 1032 	push	bc
    00000444 5D               [ 4] 1033 	ld	e, l
    00000445 CDr00r00         [24] 1034 	call	__mulschar
    00000448 79               [ 4] 1035 	ld	a, c
    00000449 C1               [12] 1036 	pop	bc
    0000044A F8 0B            [12] 1037 	ldhl	sp,	#11
    0000044C 5E               [ 8] 1038 	ld	e, (hl)
    0000044D 83               [ 4] 1039 	add	a, e
    0000044E F8 06            [12] 1040 	ldhl	sp,	#6
    00000450 5E               [ 8] 1041 	ld	e, (hl)
    00000451 23               [ 8] 1042 	inc	hl
    00000452 66               [ 8] 1043 	ld	h, (hl)
    00000453 6B               [ 4] 1044 	ld	l, e
    00000454 77               [ 8] 1045 	ld	(hl), a
                                   1046 ;src/Character.c:195: p->y += p->speed * p->dir_y;
    00000455 F8 04            [12] 1047 	ldhl	sp,#4
    00000457 2A               [ 8] 1048 	ld	a, (hl+)
    00000458 5F               [ 4] 1049 	ld	e, a
    00000459 56               [ 8] 1050 	ld	d, (hl)
    0000045A 1A               [ 8] 1051 	ld	a, (de)
    0000045B F8 0D            [12] 1052 	ldhl	sp,	#13
    0000045D 77               [ 8] 1053 	ld	(hl), a
    0000045E F8 02            [12] 1054 	ldhl	sp,#2
    00000460 2A               [ 8] 1055 	ld	a, (hl+)
    00000461 5F               [ 4] 1056 	ld	e, a
    00000462 56               [ 8] 1057 	ld	d, (hl)
    00000463 1A               [ 8] 1058 	ld	a, (de)
    00000464 F8 08            [12] 1059 	ldhl	sp,#8
    00000466 5E               [ 8] 1060 	ld	e, (hl)
    00000467 23               [ 8] 1061 	inc	hl
    00000468 56               [ 8] 1062 	ld	d, (hl)
    00000469 F5               [16] 1063 	push	af
    0000046A 1A               [ 8] 1064 	ld	a, (de)
    0000046B 6F               [ 4] 1065 	ld	l, a
    0000046C F1               [12] 1066 	pop	af
    0000046D C5               [16] 1067 	push	bc
    0000046E 5D               [ 4] 1068 	ld	e, l
    0000046F CDr00r00         [24] 1069 	call	__mulschar
    00000472 79               [ 4] 1070 	ld	a, c
    00000473 C1               [12] 1071 	pop	bc
    00000474 F8 0D            [12] 1072 	ldhl	sp,	#13
    00000476 5E               [ 8] 1073 	ld	e, (hl)
    00000477 83               [ 4] 1074 	add	a, e
    00000478 F8 04            [12] 1075 	ldhl	sp,	#4
    0000047A 5E               [ 8] 1076 	ld	e, (hl)
    0000047B 23               [ 8] 1077 	inc	hl
    0000047C 66               [ 8] 1078 	ld	h, (hl)
    0000047D 6B               [ 4] 1079 	ld	l, e
    0000047E 77               [ 8] 1080 	ld	(hl), a
    0000047F 18 07            [12] 1081 	jr	00109$
    00000481                       1082 00108$:
                                   1083 ;src/Character.c:197: flip_direction(p);
    00000481 C5               [16] 1084 	push	bc
    00000482 59               [ 4] 1085 	ld	e, c
    00000483 50               [ 4] 1086 	ld	d, b
    00000484 CDr6Cr02         [24] 1087 	call	_flip_direction
    00000487 C1               [12] 1088 	pop	bc
    00000488                       1089 00109$:
                                   1090 ;src/Character.c:199: move_character(p);
    00000488 59               [ 4] 1091 	ld	e, c
    00000489 50               [ 4] 1092 	ld	d, b
    0000048A CDr98r00         [24] 1093 	call	_move_character
    0000048D                       1094 00110$:
                                   1095 ;src/Character.c:200: }
    0000048D E8 0E            [16] 1096 	add	sp, #14
    0000048F C9               [16] 1097 	ret
                                   1098 	.area _CODE
                                   1099 	.area _INITIALIZER
    00000000                       1100 __xinit__debug:
    00000000 00                    1101 	.db #0x00	; 0
    00000001                       1102 __xinit__global_blocks_active:
    00000001 01                    1103 	.db #0x01	; 1
                                   1104 	.area _CABS (ABS)
