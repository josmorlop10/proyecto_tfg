                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module Character
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _flip_direction
                                     11 	.globl _movement_step_by_step
                                     12 	.globl _check_colision_with_object
                                     13 	.globl _hide_object
                                     14 	.globl _player_tileBR_over_destination
                                     15 	.globl _player_tileBR_over_a_block
                                     16 	.globl _tileindex_from_xy
                                     17 	.globl _get_init_point_from_map
                                     18 	.globl _update_game_state
                                     19 	.globl _debug
                                     20 	.globl _set_direction
                                     21 	.globl _character_init
                                     22 	.globl _move_character
                                     23 	.globl _canplayermove
                                     24 	.globl _update_character
                                     25 ;--------------------------------------------------------
                                     26 ; special function registers
                                     27 ;--------------------------------------------------------
                                     28 ;--------------------------------------------------------
                                     29 ; ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area _DATA
                                     32 ;--------------------------------------------------------
                                     33 ; ram data
                                     34 ;--------------------------------------------------------
                                     35 	.area _INITIALIZED
    00000000                         36 _debug::
    00000000                         37 	.ds 1
                                     38 ;--------------------------------------------------------
                                     39 ; absolute external ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area _DABS (ABS)
                                     42 ;--------------------------------------------------------
                                     43 ; global & static initialisations
                                     44 ;--------------------------------------------------------
                                     45 	.area _HOME
                                     46 	.area _GSINIT
                                     47 	.area _GSFINAL
                                     48 	.area _GSINIT
                                     49 ;--------------------------------------------------------
                                     50 ; Home
                                     51 ;--------------------------------------------------------
                                     52 	.area _HOME
                                     53 	.area _HOME
                                     54 ;--------------------------------------------------------
                                     55 ; code
                                     56 ;--------------------------------------------------------
                                     57 	.area _CODE
                                     58 ;src/Character.c:11: void set_direction(Character* p,  int8_t x, int8_t y){
                                     59 ;	---------------------------------
                                     60 ; Function set_direction
                                     61 ; ---------------------------------
    00000000                         62 _set_direction::
    00000000 4F               [ 4]   63 	ld	c, a
                                     64 ;src/Character.c:12: p->dir_x = x;
    00000001 21 08 00         [12]   65 	ld	hl, #0x0008
    00000004 19               [ 8]   66 	add	hl, de
    00000005 71               [ 8]   67 	ld	(hl), c
                                     68 ;src/Character.c:13: p->dir_y = y;
    00000006 21 09 00         [12]   69 	ld	hl, #0x0009
    00000009 19               [ 8]   70 	add	hl, de
    0000000A 4D               [ 4]   71 	ld	c, l
    0000000B 44               [ 4]   72 	ld	b, h
    0000000C F8 02            [12]   73 	ldhl	sp,	#2
    0000000E 7E               [ 8]   74 	ld	a, (hl)
    0000000F 02               [ 8]   75 	ld	(bc), a
                                     76 ;src/Character.c:14: }
    00000010 E1               [12]   77 	pop	hl
    00000011 33               [ 8]   78 	inc	sp
    00000012 E9               [ 4]   79 	jp	(hl)
                                     80 ;src/Character.c:17: void character_init(Character* p) {
                                     81 ;	---------------------------------
                                     82 ; Function character_init
                                     83 ; ---------------------------------
    00000013                         84 _character_init::
    00000013 3B               [ 8]   85 	dec	sp
                                     86 ;src/Character.c:19: get_init_point_from_map(global_colision_map);
    00000014 D5               [16]   87 	push	de
    00000015 11r00r00         [12]   88 	ld	de, #_global_colision_map
    00000018 CDr00r00         [24]   89 	call	_get_init_point_from_map
    0000001B D1               [12]   90 	pop	de
                                     91 ;src/Character.c:20: uint8_t player_x = (global_init_point % 20) * 8 + 8; //columna
    0000001C FAr00r00         [16]   92 	ld	a, (_global_init_point)
    0000001F 6F               [ 4]   93 	ld	l, a
    00000020 FAr01r00         [16]   94 	ld	a, (_global_init_point + 1)
    00000023 67               [ 4]   95 	ld	h, a
    00000024 E5               [16]   96 	push	hl
    00000025 D5               [16]   97 	push	de
    00000026 01 14 00         [12]   98 	ld	bc, #0x0014
    00000029 5D               [ 4]   99 	ld	e, l
    0000002A 54               [ 4]  100 	ld	d, h
    0000002B CDr00r00         [24]  101 	call	__moduint
    0000002E D1               [12]  102 	pop	de
    0000002F E1               [12]  103 	pop	hl
    00000030 79               [ 4]  104 	ld	a, c
    00000031 87               [ 4]  105 	add	a, a
    00000032 87               [ 4]  106 	add	a, a
    00000033 87               [ 4]  107 	add	a, a
    00000034 C6 08            [ 8]  108 	add	a, #0x08
    00000036 E5               [16]  109 	push	hl
    00000037 F8 02            [12]  110 	ldhl	sp,	#2
    00000039 77               [ 8]  111 	ld	(hl), a
    0000003A E1               [12]  112 	pop	hl
                                    113 ;src/Character.c:21: uint8_t player_y = (global_init_point / 20) * 8 + 16; //fila
    0000003B D5               [16]  114 	push	de
    0000003C 01 14 00         [12]  115 	ld	bc, #0x0014
    0000003F 5D               [ 4]  116 	ld	e, l
    00000040 54               [ 4]  117 	ld	d, h
    00000041 CDr00r00         [24]  118 	call	__divuint
    00000044 D1               [12]  119 	pop	de
    00000045 79               [ 4]  120 	ld	a, c
    00000046 87               [ 4]  121 	add	a, a
    00000047 87               [ 4]  122 	add	a, a
    00000048 87               [ 4]  123 	add	a, a
    00000049 C6 10            [ 8]  124 	add	a, #0x10
    0000004B 4F               [ 4]  125 	ld	c, a
                                    126 ;src/Character.c:23: p->x = player_x;
    0000004C 21 04 00         [12]  127 	ld	hl, #0x0004
    0000004F 19               [ 8]  128 	add	hl, de
    00000050 E5               [16]  129 	push	hl
    00000051 F8 02            [12]  130 	ldhl	sp,	#2
    00000053 7E               [ 8]  131 	ld	a, (hl)
    00000054 E1               [12]  132 	pop	hl
    00000055 77               [ 8]  133 	ld	(hl), a
                                    134 ;src/Character.c:24: p->y = player_y;
    00000056 21 05 00         [12]  135 	ld	hl, #0x0005
    00000059 19               [ 8]  136 	add	hl, de
    0000005A 71               [ 8]  137 	ld	(hl), c
                                    138 ;src/Character.c:25: p->w = 16;
    0000005B 21 06 00         [12]  139 	ld	hl, #0x0006
    0000005E 19               [ 8]  140 	add	hl, de
    0000005F 36 10            [12]  141 	ld	(hl), #0x10
                                    142 ;src/Character.c:26: p->h = 16;
    00000061 21 07 00         [12]  143 	ld	hl, #0x0007
    00000064 19               [ 8]  144 	add	hl, de
    00000065 36 10            [12]  145 	ld	(hl), #0x10
                                    146 ;src/Character.c:27: p->dir_x = 1;  
    00000067 21 08 00         [12]  147 	ld	hl, #0x0008
    0000006A 19               [ 8]  148 	add	hl, de
    0000006B 36 01            [12]  149 	ld	(hl), #0x01
                                    150 ;src/Character.c:28: p->dir_y = 0; 
    0000006D 21 09 00         [12]  151 	ld	hl, #0x0009
    00000070 19               [ 8]  152 	add	hl, de
    00000071 36 00            [12]  153 	ld	(hl), #0x00
                                    154 ;src/Character.c:29: p->speed = 8;
    00000073 21 0A 00         [12]  155 	ld	hl, #0x000a
    00000076 19               [ 8]  156 	add	hl, de
    00000077 36 08            [12]  157 	ld	(hl), #0x08
                                    158 ;src/Character.c:30: for(uint8_t i = 0;i<=3;i++){
    00000079 0E 00            [ 8]  159 	ld	c, #0x00
    0000007B                        160 00103$:
    0000007B 3E 03            [ 8]  161 	ld	a, #0x03
    0000007D 91               [ 4]  162 	sub	a, c
    0000007E 38 08            [12]  163 	jr	C, 00101$
                                    164 ;src/Character.c:31: p->sprite_ids[i] = i;
    00000080 69               [ 4]  165 	ld	l, c
    00000081 26 00            [ 8]  166 	ld	h, #0x00
    00000083 19               [ 8]  167 	add	hl, de
    00000084 71               [ 8]  168 	ld	(hl), c
                                    169 ;src/Character.c:30: for(uint8_t i = 0;i<=3;i++){
    00000085 0C               [ 4]  170 	inc	c
    00000086 18 F3            [12]  171 	jr	00103$
    00000088                        172 00101$:
                                    173 ;src/Character.c:33: p->tileindexBR = 0;
    00000088 21 0B 00         [12]  174 	ld	hl, #0x000b
    0000008B 19               [ 8]  175 	add	hl, de
    0000008C AF               [ 4]  176 	xor	a, a
    0000008D 22               [ 8]  177 	ld	(hl+), a
    0000008E 77               [ 8]  178 	ld	(hl), a
                                    179 ;src/Character.c:34: p->next_tileindexBR = 0;
    0000008F 21 0D 00         [12]  180 	ld	hl, #0x000d
    00000092 19               [ 8]  181 	add	hl, de
    00000093 AF               [ 4]  182 	xor	a, a
    00000094 22               [ 8]  183 	ld	(hl+), a
    00000095 77               [ 8]  184 	ld	(hl), a
                                    185 ;src/Character.c:35: }
    00000096 33               [ 8]  186 	inc	sp
    00000097 C9               [16]  187 	ret
                                    188 ;src/Character.c:37: void move_character(Character* p) {
                                    189 ;	---------------------------------
                                    190 ; Function move_character
                                    191 ; ---------------------------------
    00000098                        192 _move_character::
    00000098 3B               [ 8]  193 	dec	sp
    00000099 3B               [ 8]  194 	dec	sp
                                    195 ;src/Character.c:39: move_sprite(0, p->x-SPRITESIZE, p->y-SPRITESIZE);
    0000009A 21 05 00         [12]  196 	ld	hl, #0x0005
    0000009D 19               [ 8]  197 	add	hl, de
    0000009E 4D               [ 4]  198 	ld	c, l
    0000009F 44               [ 4]  199 	ld	b, h
    000000A0 0A               [ 8]  200 	ld	a, (bc)
    000000A1 C6 F8            [ 8]  201 	add	a, #0xf8
    000000A3 F8 00            [12]  202 	ldhl	sp,	#0
    000000A5 22               [ 8]  203 	ld	(hl+), a
    000000A6 13               [ 8]  204 	inc	de
    000000A7 13               [ 8]  205 	inc	de
    000000A8 13               [ 8]  206 	inc	de
    000000A9 13               [ 8]  207 	inc	de
    000000AA 1A               [ 8]  208 	ld	a, (de)
    000000AB C6 F8            [ 8]  209 	add	a, #0xf8
    000000AD 77               [ 8]  210 	ld	(hl), a
                                    211 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000AE 21r00r00         [12]  212 	ld	hl, #_shadow_OAM
                                    213 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000000B1 E5               [16]  214 	push	hl
    000000B2 F8 02            [12]  215 	ldhl	sp,	#2
    000000B4 7E               [ 8]  216 	ld	a, (hl)
    000000B5 E1               [12]  217 	pop	hl
    000000B6 22               [ 8]  218 	ld	(hl+), a
    000000B7 E5               [16]  219 	push	hl
    000000B8 F8 03            [12]  220 	ldhl	sp,	#3
    000000BA 7E               [ 8]  221 	ld	a, (hl)
    000000BB E1               [12]  222 	pop	hl
    000000BC 77               [ 8]  223 	ld	(hl), a
                                    224 ;src/Character.c:40: move_sprite(1, p->x-SPRITESIZE, p->y);
    000000BD 0A               [ 8]  225 	ld	a, (bc)
    000000BE F8 00            [12]  226 	ldhl	sp,	#0
    000000C0 22               [ 8]  227 	ld	(hl+), a
    000000C1 1A               [ 8]  228 	ld	a, (de)
    000000C2 C6 F8            [ 8]  229 	add	a, #0xf8
    000000C4 77               [ 8]  230 	ld	(hl), a
                                    231 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000C5 21r04r00         [12]  232 	ld	hl, #(_shadow_OAM + 4)
                                    233 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000000C8 E5               [16]  234 	push	hl
    000000C9 F8 02            [12]  235 	ldhl	sp,	#2
    000000CB 7E               [ 8]  236 	ld	a, (hl)
    000000CC E1               [12]  237 	pop	hl
    000000CD 22               [ 8]  238 	ld	(hl+), a
    000000CE E5               [16]  239 	push	hl
    000000CF F8 03            [12]  240 	ldhl	sp,	#3
    000000D1 7E               [ 8]  241 	ld	a, (hl)
    000000D2 E1               [12]  242 	pop	hl
    000000D3 77               [ 8]  243 	ld	(hl), a
                                    244 ;src/Character.c:41: move_sprite(2, p->x, p->y-SPRITESIZE);
    000000D4 0A               [ 8]  245 	ld	a, (bc)
    000000D5 C6 F8            [ 8]  246 	add	a, #0xf8
    000000D7 F8 00            [12]  247 	ldhl	sp,	#0
    000000D9 22               [ 8]  248 	ld	(hl+), a
    000000DA 1A               [ 8]  249 	ld	a, (de)
    000000DB 77               [ 8]  250 	ld	(hl), a
                                    251 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000DC 21r08r00         [12]  252 	ld	hl, #(_shadow_OAM + 8)
                                    253 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000000DF E5               [16]  254 	push	hl
    000000E0 F8 02            [12]  255 	ldhl	sp,	#2
    000000E2 7E               [ 8]  256 	ld	a, (hl)
    000000E3 E1               [12]  257 	pop	hl
    000000E4 22               [ 8]  258 	ld	(hl+), a
    000000E5 E5               [16]  259 	push	hl
    000000E6 F8 03            [12]  260 	ldhl	sp,	#3
    000000E8 7E               [ 8]  261 	ld	a, (hl)
    000000E9 E1               [12]  262 	pop	hl
    000000EA 77               [ 8]  263 	ld	(hl), a
                                    264 ;src/Character.c:42: move_sprite(3, p->x, p->y);
    000000EB 0A               [ 8]  265 	ld	a, (bc)
    000000EC 47               [ 4]  266 	ld	b, a
    000000ED 1A               [ 8]  267 	ld	a, (de)
    000000EE 4F               [ 4]  268 	ld	c, a
                                    269 ;/home/josem/gbdk/include/gb/gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    000000EF 21r0Cr00         [12]  270 	ld	hl, #(_shadow_OAM + 12)
                                    271 ;/home/josem/gbdk/include/gb/gb.h:1974: itm->y=y, itm->x=x;
    000000F2 78               [ 4]  272 	ld	a, b
    000000F3 22               [ 8]  273 	ld	(hl+), a
    000000F4 71               [ 8]  274 	ld	(hl), c
                                    275 ;src/Character.c:42: move_sprite(3, p->x, p->y);
                                    276 ;src/Character.c:44: }
    000000F5 33               [ 8]  277 	inc	sp
    000000F6 33               [ 8]  278 	inc	sp
    000000F7 C9               [16]  279 	ret
                                    280 ;src/Character.c:46: void movement_step_by_step(Character* p){
                                    281 ;	---------------------------------
                                    282 ; Function movement_step_by_step
                                    283 ; ---------------------------------
    000000F8                        284 _movement_step_by_step::
    000000F8 E8 F9            [16]  285 	add	sp, #-7
    000000FA F8 04            [12]  286 	ldhl	sp,	#4
    000000FC 7B               [ 4]  287 	ld	a, e
    000000FD 22               [ 8]  288 	ld	(hl+), a
                                    289 ;src/Character.c:48: for(uint8_t i = 0; i < SPRITESIZE; i++) {
    000000FE 7A               [ 4]  290 	ld	a, d
    000000FF 32               [ 8]  291 	ld	(hl-), a
    00000100 2A               [ 8]  292 	ld	a, (hl+)
    00000101 5F               [ 4]  293 	ld	e, a
    00000102 56               [ 8]  294 	ld	d, (hl)
    00000103 21 09 00         [12]  295 	ld	hl, #0x0009
    00000106 19               [ 8]  296 	add	hl, de
    00000107 33               [ 8]  297 	inc	sp
    00000108 33               [ 8]  298 	inc	sp
    00000109 E5               [16]  299 	push	hl
    0000010A F8 04            [12]  300 	ldhl	sp,#4
    0000010C 2A               [ 8]  301 	ld	a, (hl+)
    0000010D 5F               [ 4]  302 	ld	e, a
    0000010E 56               [ 8]  303 	ld	d, (hl)
    0000010F 21 08 00         [12]  304 	ld	hl, #0x0008
    00000112 19               [ 8]  305 	add	hl, de
    00000113 E5               [16]  306 	push	hl
    00000114 7D               [ 4]  307 	ld	a, l
    00000115 F8 04            [12]  308 	ldhl	sp,	#4
    00000117 77               [ 8]  309 	ld	(hl), a
    00000118 E1               [12]  310 	pop	hl
    00000119 7C               [ 4]  311 	ld	a, h
    0000011A F8 03            [12]  312 	ldhl	sp,	#3
    0000011C 77               [ 8]  313 	ld	(hl), a
    0000011D F8 06            [12]  314 	ldhl	sp,	#6
    0000011F 36 00            [12]  315 	ld	(hl), #0x00
    00000121                        316 00103$:
    00000121 F8 06            [12]  317 	ldhl	sp,	#6
    00000123 7E               [ 8]  318 	ld	a, (hl)
    00000124 D6 08            [ 8]  319 	sub	a, #0x08
    00000126 30 30            [12]  320 	jr	NC, 00105$
                                    321 ;src/Character.c:49: p->y += 1 * p->dir_y;
    00000128 2B               [ 8]  322 	dec	hl
    00000129 2B               [ 8]  323 	dec	hl
    0000012A 2A               [ 8]  324 	ld	a, (hl+)
    0000012B 5F               [ 4]  325 	ld	e, a
    0000012C 56               [ 8]  326 	ld	d, (hl)
    0000012D 21 05 00         [12]  327 	ld	hl, #0x0005
    00000130 19               [ 8]  328 	add	hl, de
    00000131 4D               [ 4]  329 	ld	c, l
    00000132 44               [ 4]  330 	ld	b, h
    00000133 0A               [ 8]  331 	ld	a, (bc)
    00000134 D1               [12]  332 	pop	de
    00000135 D5               [16]  333 	push	de
    00000136 F5               [16]  334 	push	af
    00000137 1A               [ 8]  335 	ld	a, (de)
    00000138 6F               [ 4]  336 	ld	l, a
    00000139 F1               [12]  337 	pop	af
    0000013A 85               [ 4]  338 	add	a, l
    0000013B 02               [ 8]  339 	ld	(bc), a
                                    340 ;src/Character.c:50: p->x += 1 * p->dir_x;
    0000013C F8 04            [12]  341 	ldhl	sp,#4
    0000013E 2A               [ 8]  342 	ld	a, (hl+)
    0000013F 5F               [ 4]  343 	ld	e, a
    00000140 56               [ 8]  344 	ld	d, (hl)
    00000141 21 04 00         [12]  345 	ld	hl, #0x0004
    00000144 19               [ 8]  346 	add	hl, de
    00000145 4D               [ 4]  347 	ld	c, l
    00000146 44               [ 4]  348 	ld	b, h
    00000147 0A               [ 8]  349 	ld	a, (bc)
    00000148 F8 02            [12]  350 	ldhl	sp,#2
    0000014A 5E               [ 8]  351 	ld	e, (hl)
    0000014B 23               [ 8]  352 	inc	hl
    0000014C 56               [ 8]  353 	ld	d, (hl)
    0000014D F5               [16]  354 	push	af
    0000014E 1A               [ 8]  355 	ld	a, (de)
    0000014F 6F               [ 4]  356 	ld	l, a
    00000150 F1               [12]  357 	pop	af
    00000151 85               [ 4]  358 	add	a, l
    00000152 02               [ 8]  359 	ld	(bc), a
                                    360 ;src/Character.c:48: for(uint8_t i = 0; i < SPRITESIZE; i++) {
    00000153 F8 06            [12]  361 	ldhl	sp,	#6
    00000155 34               [12]  362 	inc	(hl)
    00000156 18 C9            [12]  363 	jr	00103$
    00000158                        364 00105$:
                                    365 ;src/Character.c:52: }
    00000158 E8 07            [16]  366 	add	sp, #7
    0000015A C9               [16]  367 	ret
                                    368 ;src/Character.c:54: uint8_t canplayermove(Character* p){
                                    369 ;	---------------------------------
                                    370 ; Function canplayermove
                                    371 ; ---------------------------------
    0000015B                        372 _canplayermove::
    0000015B E8 F6            [16]  373 	add	sp, #-10
    0000015D F8 08            [12]  374 	ldhl	sp,	#8
    0000015F 7B               [ 4]  375 	ld	a, e
    00000160 22               [ 8]  376 	ld	(hl+), a
                                    377 ;src/Character.c:56: uint16_t tileindexBR = p->next_tileindexBR;
    00000161 7A               [ 4]  378 	ld	a, d
    00000162 32               [ 8]  379 	ld	(hl-), a
    00000163 2A               [ 8]  380 	ld	a, (hl+)
    00000164 5F               [ 4]  381 	ld	e, a
    00000165 56               [ 8]  382 	ld	d, (hl)
    00000166 21 0D 00         [12]  383 	ld	hl, #0x000d
    00000169 19               [ 8]  384 	add	hl, de
    0000016A 4D               [ 4]  385 	ld	c, l
    0000016B 44               [ 4]  386 	ld	b, h
    0000016C 59               [ 4]  387 	ld	e, c
    0000016D 50               [ 4]  388 	ld	d, b
    0000016E 1A               [ 8]  389 	ld	a, (de)
    0000016F F8 00            [12]  390 	ldhl	sp,	#0
    00000171 22               [ 8]  391 	ld	(hl+), a
    00000172 13               [ 8]  392 	inc	de
    00000173 1A               [ 8]  393 	ld	a, (de)
                                    394 ;src/Character.c:57: uint16_t tileindexTL = tileindexBR -21;
    00000174 22               [ 8]  395 	ld	(hl+), a
    00000175 C1               [12]  396 	pop	bc
    00000176 C5               [16]  397 	push	bc
    00000177 79               [ 4]  398 	ld	a, c
    00000178 C6 EB            [ 8]  399 	add	a, #0xeb
    0000017A 5F               [ 4]  400 	ld	e, a
    0000017B 78               [ 4]  401 	ld	a, b
    0000017C CE FF            [ 8]  402 	adc	a, #0xff
    0000017E 73               [ 8]  403 	ld	(hl), e
    0000017F 23               [ 8]  404 	inc	hl
                                    405 ;src/Character.c:58: uint16_t tileindexTR = tileindexBR -20;
    00000180 22               [ 8]  406 	ld	(hl+), a
    00000181 79               [ 4]  407 	ld	a, c
    00000182 C6 EC            [ 8]  408 	add	a, #0xec
    00000184 5F               [ 4]  409 	ld	e, a
    00000185 78               [ 4]  410 	ld	a, b
    00000186 CE FF            [ 8]  411 	adc	a, #0xff
    00000188 73               [ 8]  412 	ld	(hl), e
    00000189 23               [ 8]  413 	inc	hl
                                    414 ;src/Character.c:59: uint16_t tileindexBL = tileindexBR -1;
    0000018A 22               [ 8]  415 	ld	(hl+), a
    0000018B 0B               [ 8]  416 	dec	bc
    0000018C 79               [ 4]  417 	ld	a, c
    0000018D 22               [ 8]  418 	ld	(hl+), a
    0000018E 70               [ 8]  419 	ld	(hl), b
                                    420 ;src/Character.c:62: if ((global_colision_map[tileindexTL] == SOLID) || 
    0000018F 11r00r00         [12]  421 	ld	de, #_global_colision_map
    00000192 F8 02            [12]  422 	ldhl	sp,	#2
    00000194 2A               [ 8]  423 	ld	a,	(hl+)
    00000195 66               [ 8]  424 	ld	h, (hl)
    00000196 6F               [ 4]  425 	ld	l, a
    00000197 19               [ 8]  426 	add	hl, de
    00000198 4D               [ 4]  427 	ld	c, l
    00000199 44               [ 4]  428 	ld	b, h
    0000019A 0A               [ 8]  429 	ld	a, (bc)
    0000019B 3D               [ 4]  430 	dec	a
    0000019C 28 2A            [12]  431 	jr	Z, 00101$
                                    432 ;src/Character.c:63: (global_colision_map[tileindexTR] == SOLID) || 
    0000019E 11r00r00         [12]  433 	ld	de, #_global_colision_map
    000001A1 F8 04            [12]  434 	ldhl	sp,	#4
    000001A3 2A               [ 8]  435 	ld	a,	(hl+)
    000001A4 66               [ 8]  436 	ld	h, (hl)
    000001A5 6F               [ 4]  437 	ld	l, a
    000001A6 19               [ 8]  438 	add	hl, de
    000001A7 4D               [ 4]  439 	ld	c, l
    000001A8 44               [ 4]  440 	ld	b, h
    000001A9 0A               [ 8]  441 	ld	a, (bc)
    000001AA 3D               [ 4]  442 	dec	a
    000001AB 28 1B            [12]  443 	jr	Z, 00101$
                                    444 ;src/Character.c:64: (global_colision_map[tileindexBL] == SOLID) ||
    000001AD 11r00r00         [12]  445 	ld	de, #_global_colision_map
    000001B0 F8 06            [12]  446 	ldhl	sp,	#6
    000001B2 2A               [ 8]  447 	ld	a,	(hl+)
    000001B3 66               [ 8]  448 	ld	h, (hl)
    000001B4 6F               [ 4]  449 	ld	l, a
    000001B5 19               [ 8]  450 	add	hl, de
    000001B6 4D               [ 4]  451 	ld	c, l
    000001B7 44               [ 4]  452 	ld	b, h
    000001B8 0A               [ 8]  453 	ld	a, (bc)
    000001B9 3D               [ 4]  454 	dec	a
    000001BA 28 0C            [12]  455 	jr	Z, 00101$
                                    456 ;src/Character.c:65: (global_colision_map[tileindexBR] == SOLID))
    000001BC 11r00r00         [12]  457 	ld	de, #_global_colision_map
    000001BF E1               [12]  458 	pop	hl
    000001C0 E5               [16]  459 	push	hl
    000001C1 19               [ 8]  460 	add	hl, de
    000001C2 4D               [ 4]  461 	ld	c, l
    000001C3 44               [ 4]  462 	ld	b, h
    000001C4 0A               [ 8]  463 	ld	a, (bc)
    000001C5 3D               [ 4]  464 	dec	a
    000001C6 20 03            [12]  465 	jr	NZ, 00102$
    000001C8                        466 00101$:
                                    467 ;src/Character.c:67: return 0;
    000001C8 AF               [ 4]  468 	xor	a, a
    000001C9 18 6B            [12]  469 	jr	00112$
    000001CB                        470 00102$:
                                    471 ;src/Character.c:70: uint8_t event = player_tileBR_over_a_block(p->tileindexBR);
    000001CB F8 08            [12]  472 	ldhl	sp,#8
    000001CD 2A               [ 8]  473 	ld	a, (hl+)
    000001CE 5F               [ 4]  474 	ld	e, a
    000001CF 56               [ 8]  475 	ld	d, (hl)
    000001D0 21 0B 00         [12]  476 	ld	hl, #0x000b
    000001D3 19               [ 8]  477 	add	hl, de
    000001D4 2A               [ 8]  478 	ld	a, (hl+)
    000001D5 4F               [ 4]  479 	ld	c, a
    000001D6 7E               [ 8]  480 	ld	a, (hl)
    000001D7 59               [ 4]  481 	ld	e, c
    000001D8 57               [ 4]  482 	ld	d, a
    000001D9 CDr00r00         [24]  483 	call	_player_tileBR_over_a_block
                                    484 ;src/Character.c:71: switch(event){
    000001DC F8 07            [12]  485 	ldhl	sp,#7
    000001DE 77               [ 8]  486 	ld	(hl), a
    000001DF D6 06            [ 8]  487 	sub	a, #0x06
    000001E1 28 17            [12]  488 	jr	Z, 00106$
    000001E3 F8 07            [12]  489 	ldhl	sp,	#7
    000001E5 7E               [ 8]  490 	ld	a, (hl)
    000001E6 D6 07            [ 8]  491 	sub	a, #0x07
    000001E8 28 1F            [12]  492 	jr	Z, 00107$
    000001EA F8 07            [12]  493 	ldhl	sp,	#7
    000001EC 7E               [ 8]  494 	ld	a, (hl)
    000001ED D6 08            [ 8]  495 	sub	a, #0x08
    000001EF 28 27            [12]  496 	jr	Z, 00108$
    000001F1 F8 07            [12]  497 	ldhl	sp,	#7
    000001F3 7E               [ 8]  498 	ld	a, (hl)
    000001F4 D6 09            [ 8]  499 	sub	a, #0x09
    000001F6 28 2F            [12]  500 	jr	Z, 00109$
    000001F8 18 3A            [12]  501 	jr	00111$
                                    502 ;src/Character.c:72: case RIGHT:
    000001FA                        503 00106$:
                                    504 ;src/Character.c:73: set_direction(p, 1, 0);
    000001FA AF               [ 4]  505 	xor	a, a
    000001FB F5               [16]  506 	push	af
    000001FC 33               [ 8]  507 	inc	sp
    000001FD 3E 01            [ 8]  508 	ld	a, #0x01
    000001FF F8 09            [12]  509 	ldhl	sp,	#9
    00000201 5E               [ 8]  510 	ld	e, (hl)
    00000202 23               [ 8]  511 	inc	hl
    00000203 56               [ 8]  512 	ld	d, (hl)
    00000204 CDr00r00         [24]  513 	call	_set_direction
                                    514 ;src/Character.c:74: break;
    00000207 18 2B            [12]  515 	jr	00111$
                                    516 ;src/Character.c:75: case LEFT:
    00000209                        517 00107$:
                                    518 ;src/Character.c:76: set_direction(p, -1, 0);
    00000209 AF               [ 4]  519 	xor	a, a
    0000020A F5               [16]  520 	push	af
    0000020B 33               [ 8]  521 	inc	sp
    0000020C 3E FF            [ 8]  522 	ld	a, #0xff
    0000020E F8 09            [12]  523 	ldhl	sp,	#9
    00000210 5E               [ 8]  524 	ld	e, (hl)
    00000211 23               [ 8]  525 	inc	hl
    00000212 56               [ 8]  526 	ld	d, (hl)
    00000213 CDr00r00         [24]  527 	call	_set_direction
                                    528 ;src/Character.c:77: break;
    00000216 18 1C            [12]  529 	jr	00111$
                                    530 ;src/Character.c:78: case UP:
    00000218                        531 00108$:
                                    532 ;src/Character.c:79: set_direction(p, 0, -1);
    00000218 3E FF            [ 8]  533 	ld	a, #0xff
    0000021A F5               [16]  534 	push	af
    0000021B 33               [ 8]  535 	inc	sp
    0000021C AF               [ 4]  536 	xor	a, a
    0000021D F8 09            [12]  537 	ldhl	sp,	#9
    0000021F 5E               [ 8]  538 	ld	e, (hl)
    00000220 23               [ 8]  539 	inc	hl
    00000221 56               [ 8]  540 	ld	d, (hl)
    00000222 CDr00r00         [24]  541 	call	_set_direction
                                    542 ;src/Character.c:80: break;
    00000225 18 0D            [12]  543 	jr	00111$
                                    544 ;src/Character.c:81: case DOWN:
    00000227                        545 00109$:
                                    546 ;src/Character.c:82: set_direction(p, 0, 1);
    00000227 3E 01            [ 8]  547 	ld	a, #0x01
    00000229 F5               [16]  548 	push	af
    0000022A 33               [ 8]  549 	inc	sp
    0000022B AF               [ 4]  550 	xor	a, a
    0000022C F8 09            [12]  551 	ldhl	sp,	#9
    0000022E 5E               [ 8]  552 	ld	e, (hl)
    0000022F 23               [ 8]  553 	inc	hl
    00000230 56               [ 8]  554 	ld	d, (hl)
    00000231 CDr00r00         [24]  555 	call	_set_direction
                                    556 ;src/Character.c:86: }
    00000234                        557 00111$:
                                    558 ;src/Character.c:88: return 1;
    00000234 3E 01            [ 8]  559 	ld	a, #0x01
    00000236                        560 00112$:
                                    561 ;src/Character.c:89: }
    00000236 E8 0A            [16]  562 	add	sp, #10
    00000238 C9               [16]  563 	ret
                                    564 ;src/Character.c:91: void flip_direction(Character* p){
                                    565 ;	---------------------------------
                                    566 ; Function flip_direction
                                    567 ; ---------------------------------
    00000239                        568 _flip_direction::
                                    569 ;src/Character.c:92: p->dir_x = - p->dir_x;
    00000239 21 08 00         [12]  570 	ld	hl, #0x0008
    0000023C 19               [ 8]  571 	add	hl, de
    0000023D AF               [ 4]  572 	xor	a, a
    0000023E 96               [ 8]  573 	sub	a, (hl)
    0000023F 77               [ 8]  574 	ld	(hl), a
                                    575 ;src/Character.c:93: p->dir_y = - p->dir_y;
    00000240 21 09 00         [12]  576 	ld	hl, #0x0009
    00000243 19               [ 8]  577 	add	hl, de
    00000244 AF               [ 4]  578 	xor	a, a
    00000245 96               [ 8]  579 	sub	a, (hl)
    00000246 77               [ 8]  580 	ld	(hl), a
                                    581 ;src/Character.c:94: }
    00000247 C9               [16]  582 	ret
                                    583 ;src/Character.c:96: void update_character(Character* p) { //devuelve las teclas actuales
                                    584 ;	---------------------------------
                                    585 ; Function update_character
                                    586 ; ---------------------------------
    00000248                        587 _update_character::
    00000248 E8 F4            [16]  588 	add	sp, #-12
    0000024A 4B               [ 4]  589 	ld	c, e
    0000024B 42               [ 4]  590 	ld	b, d
                                    591 ;src/Character.c:98: uint8_t object_index_in_array = check_colision_with_object( p->x - (p->w >> 1), p->y - (p->h >> 1) , p->w, p->h );
    0000024C 21 07 00         [12]  592 	ld	hl, #0x0007
    0000024F 09               [ 8]  593 	add	hl, bc
    00000250 7E               [ 8]  594 	ld	a, (hl)
    00000251 F8 09            [12]  595 	ldhl	sp,	#9
    00000253 77               [ 8]  596 	ld	(hl), a
    00000254 21 06 00         [12]  597 	ld	hl, #0x0006
    00000257 09               [ 8]  598 	add	hl, bc
    00000258 7E               [ 8]  599 	ld	a, (hl)
    00000259 F8 0A            [12]  600 	ldhl	sp,	#10
    0000025B 77               [ 8]  601 	ld	(hl), a
    0000025C 21 05 00         [12]  602 	ld	hl, #0x0005
    0000025F 09               [ 8]  603 	add	hl, bc
    00000260 33               [ 8]  604 	inc	sp
    00000261 33               [ 8]  605 	inc	sp
    00000262 5D               [ 4]  606 	ld	e, l
    00000263 54               [ 4]  607 	ld	d, h
    00000264 D5               [16]  608 	push	de
    00000265 1A               [ 8]  609 	ld	a, (de)
    00000266 F8 09            [12]  610 	ldhl	sp,	#9
    00000268 5E               [ 8]  611 	ld	e, (hl)
    00000269 23               [ 8]  612 	inc	hl
    0000026A 23               [ 8]  613 	inc	hl
    0000026B CB 3B            [ 8]  614 	srl	e
    0000026D 93               [ 4]  615 	sub	a, e
    0000026E 77               [ 8]  616 	ld	(hl), a
    0000026F 21 04 00         [12]  617 	ld	hl, #0x0004
    00000272 09               [ 8]  618 	add	hl, bc
    00000273 E5               [16]  619 	push	hl
    00000274 7D               [ 4]  620 	ld	a, l
    00000275 F8 04            [12]  621 	ldhl	sp,	#4
    00000277 77               [ 8]  622 	ld	(hl), a
    00000278 E1               [12]  623 	pop	hl
    00000279 7C               [ 4]  624 	ld	a, h
    0000027A F8 03            [12]  625 	ldhl	sp,	#3
    0000027C 32               [ 8]  626 	ld	(hl-), a
    0000027D 2A               [ 8]  627 	ld	a, (hl+)
    0000027E 5F               [ 4]  628 	ld	e, a
    0000027F 56               [ 8]  629 	ld	d, (hl)
    00000280 1A               [ 8]  630 	ld	a, (de)
    00000281 F8 0A            [12]  631 	ldhl	sp,	#10
    00000283 5E               [ 8]  632 	ld	e, (hl)
    00000284 2B               [ 8]  633 	dec	hl
    00000285 CB 3B            [ 8]  634 	srl	e
    00000287 93               [ 4]  635 	sub	a, e
    00000288 C5               [16]  636 	push	bc
    00000289 66               [ 8]  637 	ld	h, (hl)
    0000028A E5               [16]  638 	push	hl
    0000028B 33               [ 8]  639 	inc	sp
    0000028C F8 0D            [12]  640 	ldhl	sp,	#13
    0000028E 66               [ 8]  641 	ld	h, (hl)
    0000028F E5               [16]  642 	push	hl
    00000290 33               [ 8]  643 	inc	sp
    00000291 F8 0F            [12]  644 	ldhl	sp,	#15
    00000293 5E               [ 8]  645 	ld	e, (hl)
    00000294 CDr00r00         [24]  646 	call	_check_colision_with_object
    00000297 C1               [12]  647 	pop	bc
                                    648 ;src/Character.c:99: if(object_index_in_array != 255){ //TODO no funciona correctamente. Debe pasar a hide object
    00000298 FE FF            [ 8]  649 	cp	a, #0xff
    0000029A 28 05            [12]  650 	jr	Z, 00102$
                                    651 ;src/Character.c:101: hide_object(object_index_in_array);
    0000029C C5               [16]  652 	push	bc
    0000029D CDr00r00         [24]  653 	call	_hide_object
    000002A0 C1               [12]  654 	pop	bc
    000002A1                        655 00102$:
                                    656 ;src/Character.c:104: if(player_tileBR_over_destination(p->tileindexBR)){
    000002A1 21 0B 00         [12]  657 	ld	hl, #0x000b
    000002A4 09               [ 8]  658 	add	hl, bc
    000002A5 E5               [16]  659 	push	hl
    000002A6 7D               [ 4]  660 	ld	a, l
    000002A7 F8 0A            [12]  661 	ldhl	sp,	#10
    000002A9 77               [ 8]  662 	ld	(hl), a
    000002AA E1               [12]  663 	pop	hl
    000002AB 7C               [ 4]  664 	ld	a, h
    000002AC F8 09            [12]  665 	ldhl	sp,	#9
    000002AE 32               [ 8]  666 	ld	(hl-), a
    000002AF 2A               [ 8]  667 	ld	a, (hl+)
    000002B0 5F               [ 4]  668 	ld	e, a
    000002B1 56               [ 8]  669 	ld	d, (hl)
    000002B2 1A               [ 8]  670 	ld	a, (de)
    000002B3 6F               [ 4]  671 	ld	l, a
    000002B4 13               [ 8]  672 	inc	de
    000002B5 1A               [ 8]  673 	ld	a, (de)
    000002B6 C5               [16]  674 	push	bc
    000002B7 5D               [ 4]  675 	ld	e, l
    000002B8 57               [ 4]  676 	ld	d, a
    000002B9 CDr00r00         [24]  677 	call	_player_tileBR_over_destination
    000002BC C1               [12]  678 	pop	bc
    000002BD B7               [ 4]  679 	or	a, a
    000002BE 28 08            [12]  680 	jr	Z, 00104$
                                    681 ;src/Character.c:105: update_game_state(STATE_GAME_OVER);
    000002C0 3E 05            [ 8]  682 	ld	a, #0x05
    000002C2 CDr00r00         [24]  683 	call	_update_game_state
                                    684 ;src/Character.c:106: return;
    000002C5 C3rC6r03         [16]  685 	jp	00108$
    000002C8                        686 00104$:
                                    687 ;src/Character.c:109: p->tileindexBR = tileindex_from_xy(p->x, p->y);
    000002C8 D1               [12]  688 	pop	de
    000002C9 D5               [16]  689 	push	de
    000002CA 1A               [ 8]  690 	ld	a, (de)
    000002CB F8 02            [12]  691 	ldhl	sp,#2
    000002CD 5E               [ 8]  692 	ld	e, (hl)
    000002CE 23               [ 8]  693 	inc	hl
    000002CF 56               [ 8]  694 	ld	d, (hl)
    000002D0 F5               [16]  695 	push	af
    000002D1 1A               [ 8]  696 	ld	a, (de)
    000002D2 6F               [ 4]  697 	ld	l, a
    000002D3 F1               [12]  698 	pop	af
    000002D4 C5               [16]  699 	push	bc
    000002D5 5F               [ 4]  700 	ld	e, a
    000002D6 7D               [ 4]  701 	ld	a, l
    000002D7 CDr00r00         [24]  702 	call	_tileindex_from_xy
    000002DA F8 0C            [12]  703 	ldhl	sp,	#12
    000002DC 79               [ 4]  704 	ld	a, c
    000002DD 22               [ 8]  705 	ld	(hl+), a
    000002DE 70               [ 8]  706 	ld	(hl), b
    000002DF C1               [12]  707 	pop	bc
    000002E0 F8 08            [12]  708 	ldhl	sp,	#8
    000002E2 2A               [ 8]  709 	ld	a, (hl+)
    000002E3 5F               [ 4]  710 	ld	e, a
    000002E4 2A               [ 8]  711 	ld	a, (hl+)
    000002E5 57               [ 4]  712 	ld	d, a
    000002E6 2A               [ 8]  713 	ld	a, (hl+)
    000002E7 12               [ 8]  714 	ld	(de), a
    000002E8 13               [ 8]  715 	inc	de
    000002E9 7E               [ 8]  716 	ld	a, (hl)
    000002EA 12               [ 8]  717 	ld	(de), a
                                    718 ;src/Character.c:110: p->next_tileindexBR = tileindex_from_xy(p->x + SPRITESIZE * p->dir_x, p->y + SPRITESIZE * p->dir_y);
    000002EB 21 0D 00         [12]  719 	ld	hl, #0x000d
    000002EE 09               [ 8]  720 	add	hl, bc
    000002EF E5               [16]  721 	push	hl
    000002F0 7D               [ 4]  722 	ld	a, l
    000002F1 F8 06            [12]  723 	ldhl	sp,	#6
    000002F3 77               [ 8]  724 	ld	(hl), a
    000002F4 E1               [12]  725 	pop	hl
    000002F5 7C               [ 4]  726 	ld	a, h
    000002F6 F8 05            [12]  727 	ldhl	sp,	#5
    000002F8 77               [ 8]  728 	ld	(hl), a
    000002F9 D1               [12]  729 	pop	de
    000002FA D5               [16]  730 	push	de
    000002FB 1A               [ 8]  731 	ld	a, (de)
    000002FC F8 0B            [12]  732 	ldhl	sp,	#11
    000002FE 77               [ 8]  733 	ld	(hl), a
    000002FF 21 09 00         [12]  734 	ld	hl, #0x0009
    00000302 09               [ 8]  735 	add	hl, bc
    00000303 E5               [16]  736 	push	hl
    00000304 7D               [ 4]  737 	ld	a, l
    00000305 F8 08            [12]  738 	ldhl	sp,	#8
    00000307 77               [ 8]  739 	ld	(hl), a
    00000308 E1               [12]  740 	pop	hl
    00000309 7C               [ 4]  741 	ld	a, h
    0000030A F8 07            [12]  742 	ldhl	sp,	#7
    0000030C 32               [ 8]  743 	ld	(hl-), a
    0000030D 2A               [ 8]  744 	ld	a, (hl+)
    0000030E 5F               [ 4]  745 	ld	e, a
    0000030F 56               [ 8]  746 	ld	d, (hl)
    00000310 1A               [ 8]  747 	ld	a, (de)
    00000311 87               [ 4]  748 	add	a, a
    00000312 87               [ 4]  749 	add	a, a
    00000313 87               [ 4]  750 	add	a, a
    00000314 F8 0B            [12]  751 	ldhl	sp,	#11
    00000316 5E               [ 8]  752 	ld	e, (hl)
    00000317 83               [ 4]  753 	add	a, e
    00000318 F8 08            [12]  754 	ldhl	sp,	#8
    0000031A 77               [ 8]  755 	ld	(hl), a
    0000031B F8 02            [12]  756 	ldhl	sp,#2
    0000031D 2A               [ 8]  757 	ld	a, (hl+)
    0000031E 5F               [ 4]  758 	ld	e, a
    0000031F 56               [ 8]  759 	ld	d, (hl)
    00000320 1A               [ 8]  760 	ld	a, (de)
    00000321 F8 09            [12]  761 	ldhl	sp,	#9
    00000323 77               [ 8]  762 	ld	(hl), a
    00000324 21 08 00         [12]  763 	ld	hl, #0x0008
    00000327 09               [ 8]  764 	add	hl, bc
    00000328 E5               [16]  765 	push	hl
    00000329 7D               [ 4]  766 	ld	a, l
    0000032A F8 0C            [12]  767 	ldhl	sp,	#12
    0000032C 77               [ 8]  768 	ld	(hl), a
    0000032D E1               [12]  769 	pop	hl
    0000032E 7C               [ 4]  770 	ld	a, h
    0000032F F8 0B            [12]  771 	ldhl	sp,	#11
    00000331 32               [ 8]  772 	ld	(hl-), a
    00000332 2A               [ 8]  773 	ld	a, (hl+)
    00000333 5F               [ 4]  774 	ld	e, a
    00000334 3A               [ 8]  775 	ld	a, (hl-)
    00000335 2B               [ 8]  776 	dec	hl
    00000336 57               [ 4]  777 	ld	d, a
    00000337 1A               [ 8]  778 	ld	a, (de)
    00000338 87               [ 4]  779 	add	a, a
    00000339 87               [ 4]  780 	add	a, a
    0000033A 87               [ 4]  781 	add	a, a
    0000033B 5E               [ 8]  782 	ld	e, (hl)
    0000033C 2B               [ 8]  783 	dec	hl
    0000033D 83               [ 4]  784 	add	a, e
    0000033E C5               [16]  785 	push	bc
    0000033F 5E               [ 8]  786 	ld	e, (hl)
    00000340 CDr00r00         [24]  787 	call	_tileindex_from_xy
    00000343 F8 0A            [12]  788 	ldhl	sp,	#10
    00000345 79               [ 4]  789 	ld	a, c
    00000346 22               [ 8]  790 	ld	(hl+), a
    00000347 70               [ 8]  791 	ld	(hl), b
    00000348 C1               [12]  792 	pop	bc
    00000349 F8 04            [12]  793 	ldhl	sp,	#4
    0000034B 2A               [ 8]  794 	ld	a, (hl+)
    0000034C 5F               [ 4]  795 	ld	e, a
    0000034D 56               [ 8]  796 	ld	d, (hl)
    0000034E F8 08            [12]  797 	ldhl	sp,	#8
    00000350 2A               [ 8]  798 	ld	a, (hl+)
    00000351 12               [ 8]  799 	ld	(de), a
    00000352 13               [ 8]  800 	inc	de
    00000353 7E               [ 8]  801 	ld	a, (hl)
    00000354 12               [ 8]  802 	ld	(de), a
                                    803 ;src/Character.c:112: if(canplayermove(p)) {
    00000355 C5               [16]  804 	push	bc
    00000356 59               [ 4]  805 	ld	e, c
    00000357 50               [ 4]  806 	ld	d, b
    00000358 CDr5Br01         [24]  807 	call	_canplayermove
    0000035B C1               [12]  808 	pop	bc
    0000035C B7               [ 4]  809 	or	a, a
    0000035D 28 5B            [12]  810 	jr	Z, 00106$
                                    811 ;src/Character.c:113: p->x += p->speed * p->dir_x;
    0000035F F8 02            [12]  812 	ldhl	sp,#2
    00000361 2A               [ 8]  813 	ld	a, (hl+)
    00000362 5F               [ 4]  814 	ld	e, a
    00000363 2A               [ 8]  815 	ld	a, (hl+)
    00000364 23               [ 8]  816 	inc	hl
    00000365 57               [ 4]  817 	ld	d, a
    00000366 1A               [ 8]  818 	ld	a, (de)
    00000367 77               [ 8]  819 	ld	(hl), a
    00000368 21 0A 00         [12]  820 	ld	hl, #0x000a
    0000036B 09               [ 8]  821 	add	hl, bc
    0000036C E5               [16]  822 	push	hl
    0000036D 7D               [ 4]  823 	ld	a, l
    0000036E F8 0A            [12]  824 	ldhl	sp,	#10
    00000370 77               [ 8]  825 	ld	(hl), a
    00000371 E1               [12]  826 	pop	hl
    00000372 7C               [ 4]  827 	ld	a, h
    00000373 F8 09            [12]  828 	ldhl	sp,	#9
    00000375 32               [ 8]  829 	ld	(hl-), a
    00000376 2A               [ 8]  830 	ld	a, (hl+)
    00000377 5F               [ 4]  831 	ld	e, a
    00000378 2A               [ 8]  832 	ld	a, (hl+)
    00000379 57               [ 4]  833 	ld	d, a
    0000037A 1A               [ 8]  834 	ld	a, (de)
    0000037B 5E               [ 8]  835 	ld	e, (hl)
    0000037C 23               [ 8]  836 	inc	hl
    0000037D 56               [ 8]  837 	ld	d, (hl)
    0000037E F5               [16]  838 	push	af
    0000037F 1A               [ 8]  839 	ld	a, (de)
    00000380 6F               [ 4]  840 	ld	l, a
    00000381 F1               [12]  841 	pop	af
    00000382 C5               [16]  842 	push	bc
    00000383 5D               [ 4]  843 	ld	e, l
    00000384 CDr00r00         [24]  844 	call	__mulschar
    00000387 79               [ 4]  845 	ld	a, c
    00000388 C1               [12]  846 	pop	bc
    00000389 F8 05            [12]  847 	ldhl	sp,	#5
    0000038B 5E               [ 8]  848 	ld	e, (hl)
    0000038C 83               [ 4]  849 	add	a, e
    0000038D F8 02            [12]  850 	ldhl	sp,	#2
    0000038F 5E               [ 8]  851 	ld	e, (hl)
    00000390 23               [ 8]  852 	inc	hl
    00000391 66               [ 8]  853 	ld	h, (hl)
    00000392 6B               [ 4]  854 	ld	l, e
    00000393 77               [ 8]  855 	ld	(hl), a
                                    856 ;src/Character.c:114: p->y += p->speed * p->dir_y;
    00000394 D1               [12]  857 	pop	de
    00000395 D5               [16]  858 	push	de
    00000396 1A               [ 8]  859 	ld	a, (de)
    00000397 F8 0B            [12]  860 	ldhl	sp,	#11
    00000399 32               [ 8]  861 	ld	(hl-), a
    0000039A 2B               [ 8]  862 	dec	hl
    0000039B 2B               [ 8]  863 	dec	hl
    0000039C 2A               [ 8]  864 	ld	a, (hl+)
    0000039D 5F               [ 4]  865 	ld	e, a
    0000039E 3A               [ 8]  866 	ld	a, (hl-)
    0000039F 2B               [ 8]  867 	dec	hl
    000003A0 2B               [ 8]  868 	dec	hl
    000003A1 57               [ 4]  869 	ld	d, a
    000003A2 1A               [ 8]  870 	ld	a, (de)
    000003A3 5E               [ 8]  871 	ld	e, (hl)
    000003A4 23               [ 8]  872 	inc	hl
    000003A5 56               [ 8]  873 	ld	d, (hl)
    000003A6 F5               [16]  874 	push	af
    000003A7 1A               [ 8]  875 	ld	a, (de)
    000003A8 6F               [ 4]  876 	ld	l, a
    000003A9 F1               [12]  877 	pop	af
    000003AA C5               [16]  878 	push	bc
    000003AB 5D               [ 4]  879 	ld	e, l
    000003AC CDr00r00         [24]  880 	call	__mulschar
    000003AF 79               [ 4]  881 	ld	a, c
    000003B0 C1               [12]  882 	pop	bc
    000003B1 F8 0B            [12]  883 	ldhl	sp,	#11
    000003B3 5E               [ 8]  884 	ld	e, (hl)
    000003B4 83               [ 4]  885 	add	a, e
    000003B5 E1               [12]  886 	pop	hl
    000003B6 E5               [16]  887 	push	hl
    000003B7 77               [ 8]  888 	ld	(hl), a
    000003B8 18 07            [12]  889 	jr	00107$
    000003BA                        890 00106$:
                                    891 ;src/Character.c:116: flip_direction(p);
    000003BA C5               [16]  892 	push	bc
    000003BB 59               [ 4]  893 	ld	e, c
    000003BC 50               [ 4]  894 	ld	d, b
    000003BD CDr39r02         [24]  895 	call	_flip_direction
    000003C0 C1               [12]  896 	pop	bc
    000003C1                        897 00107$:
                                    898 ;src/Character.c:118: move_character(p);
    000003C1 59               [ 4]  899 	ld	e, c
    000003C2 50               [ 4]  900 	ld	d, b
    000003C3 CDr98r00         [24]  901 	call	_move_character
    000003C6                        902 00108$:
                                    903 ;src/Character.c:119: }
    000003C6 E8 0C            [16]  904 	add	sp, #12
    000003C8 C9               [16]  905 	ret
                                    906 	.area _CODE
                                    907 	.area _INITIALIZER
    00000000                        908 __xinit__debug:
    00000000 00                     909 	.db #0x00	; 0
                                    910 	.area _CABS (ABS)
