                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module Graphic
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _print_counter
                                     11 	.globl _set_win_tile_xy
                                     12 	.globl _set_bkg_tiles
                                     13 	.globl _change_bkg_tile_xy
                                     14 	.globl _change_bkg_tile_16x16
                                     15 	.globl _update_values_in_hud
                                     16 ;--------------------------------------------------------
                                     17 ; special function registers
                                     18 ;--------------------------------------------------------
                                     19 ;--------------------------------------------------------
                                     20 ; ram data
                                     21 ;--------------------------------------------------------
                                     22 	.area _DATA
                                     23 ;--------------------------------------------------------
                                     24 ; ram data
                                     25 ;--------------------------------------------------------
                                     26 	.area _INITIALIZED
                                     27 ;--------------------------------------------------------
                                     28 ; absolute external ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area _DABS (ABS)
                                     31 ;--------------------------------------------------------
                                     32 ; global & static initialisations
                                     33 ;--------------------------------------------------------
                                     34 	.area _HOME
                                     35 	.area _GSINIT
                                     36 	.area _GSFINAL
                                     37 	.area _GSINIT
                                     38 ;--------------------------------------------------------
                                     39 ; Home
                                     40 ;--------------------------------------------------------
                                     41 	.area _HOME
                                     42 	.area _HOME
                                     43 ;--------------------------------------------------------
                                     44 ; code
                                     45 ;--------------------------------------------------------
                                     46 	.area _CODE
                                     47 ;src/Graphic.c:10: void change_bkg_tile_xy(uint16_t tile_index, uint8_t tile_id){
                                     48 ;	---------------------------------
                                     49 ; Function change_bkg_tile_xy
                                     50 ; ---------------------------------
    00000000                         51 _change_bkg_tile_xy::
    00000000 3B               [ 8]   52 	dec	sp
    00000001 3B               [ 8]   53 	dec	sp
    00000002 F8 01            [12]   54 	ldhl	sp,	#1
    00000004 77               [ 8]   55 	ld	(hl), a
                                     56 ;src/Graphic.c:19: uint8_t y = (tile_index / 20);
    00000005 D5               [16]   57 	push	de
    00000006 01 14 00         [12]   58 	ld	bc, #0x0014
    00000009 CDr00r00         [24]   59 	call	__divuint
    0000000C D1               [12]   60 	pop	de
    0000000D F8 00            [12]   61 	ldhl	sp,	#0
    0000000F 71               [ 8]   62 	ld	(hl), c
                                     63 ;src/Graphic.c:20: uint8_t x = (tile_index % 20);
    00000010 01 14 00         [12]   64 	ld	bc, #0x0014
    00000013 CDr00r00         [24]   65 	call	__moduint
                                     66 ;src/Graphic.c:22: set_bkg_tiles(x-1, y-1, 1, 1, &tile_id);
    00000016 F8 01            [12]   67 	ldhl	sp,	#1
    00000018 5D               [ 4]   68 	ld	e, l
    00000019 54               [ 4]   69 	ld	d, h
    0000001A F8 00            [12]   70 	ldhl	sp,	#0
    0000001C 66               [ 8]   71 	ld	h, (hl)
    0000001D 25               [ 4]   72 	dec	h
    0000001E 41               [ 4]   73 	ld	b, c
    0000001F 05               [ 4]   74 	dec	b
    00000020 E5               [16]   75 	push	hl
    00000021 D5               [16]   76 	push	de
    00000022 D5               [16]   77 	push	de
    00000023 11 01 01         [12]   78 	ld	de, #0x101
    00000026 D5               [16]   79 	push	de
    00000027 68               [ 4]   80 	ld	l, b
    00000028 E5               [16]   81 	push	hl
    00000029 CDr00r00         [24]   82 	call	_set_bkg_tiles
    0000002C E8 06            [16]   83 	add	sp, #6
    0000002E D1               [12]   84 	pop	de
    0000002F E1               [12]   85 	pop	hl
                                     86 ;src/Graphic.c:23: set_bkg_tiles(x, y-1, 1, 1, &tile_id);
    00000030 D5               [16]   87 	push	de
    00000031 D5               [16]   88 	push	de
    00000032 11 01 01         [12]   89 	ld	de, #0x101
    00000035 D5               [16]   90 	push	de
    00000036 69               [ 4]   91 	ld	l, c
    00000037 E5               [16]   92 	push	hl
    00000038 CDr00r00         [24]   93 	call	_set_bkg_tiles
    0000003B E8 06            [16]   94 	add	sp, #6
    0000003D D1               [12]   95 	pop	de
                                     96 ;src/Graphic.c:24: set_bkg_tiles(x-1, y, 1, 1, &tile_id);
    0000003E D5               [16]   97 	push	de
    0000003F D5               [16]   98 	push	de
    00000040 21 01 01         [12]   99 	ld	hl, #0x101
    00000043 E5               [16]  100 	push	hl
    00000044 F8 06            [12]  101 	ldhl	sp,	#6
    00000046 7E               [ 8]  102 	ld	a, (hl)
    00000047 F5               [16]  103 	push	af
    00000048 33               [ 8]  104 	inc	sp
    00000049 C5               [16]  105 	push	bc
    0000004A 33               [ 8]  106 	inc	sp
    0000004B CDr00r00         [24]  107 	call	_set_bkg_tiles
    0000004E E8 06            [16]  108 	add	sp, #6
                                    109 ;src/Graphic.c:25: set_bkg_tiles(x, y, 1, 1, &tile_id);
    00000050 21 01 01         [12]  110 	ld	hl, #0x101
    00000053 E5               [16]  111 	push	hl
    00000054 F8 04            [12]  112 	ldhl	sp,	#4
    00000056 7E               [ 8]  113 	ld	a, (hl)
    00000057 F5               [16]  114 	push	af
    00000058 33               [ 8]  115 	inc	sp
    00000059 79               [ 4]  116 	ld	a, c
    0000005A F5               [16]  117 	push	af
    0000005B 33               [ 8]  118 	inc	sp
    0000005C CDr00r00         [24]  119 	call	_set_bkg_tiles
                                    120 ;src/Graphic.c:26: }
    0000005F E8 08            [16]  121 	add	sp, #8
    00000061 C9               [16]  122 	ret
                                    123 ;src/Graphic.c:28: void change_bkg_tile_16x16(uint16_t tile_index, uint8_t tile_id_BR){
                                    124 ;	---------------------------------
                                    125 ; Function change_bkg_tile_16x16
                                    126 ; ---------------------------------
    00000062                        127 _change_bkg_tile_16x16::
    00000062 E8 FB            [16]  128 	add	sp, #-5
    00000064 F8 04            [12]  129 	ldhl	sp,	#4
    00000066 77               [ 8]  130 	ld	(hl), a
                                    131 ;src/Graphic.c:39: uint8_t y = (tile_index / 20);
    00000067 D5               [16]  132 	push	de
    00000068 01 14 00         [12]  133 	ld	bc, #0x0014
    0000006B CDr00r00         [24]  134 	call	__divuint
    0000006E D1               [12]  135 	pop	de
    0000006F F8 03            [12]  136 	ldhl	sp,	#3
    00000071 71               [ 8]  137 	ld	(hl), c
                                    138 ;src/Graphic.c:40: uint8_t x = (tile_index % 20);
    00000072 01 14 00         [12]  139 	ld	bc, #0x0014
    00000075 CDr00r00         [24]  140 	call	__moduint
    00000078 59               [ 4]  141 	ld	e, c
                                    142 ;src/Graphic.c:42: uint8_t tile_id_TR = tile_id_BR - 0x01;
    00000079 F8 04            [12]  143 	ldhl	sp,	#4
    0000007B 4E               [ 8]  144 	ld	c, (hl)
    0000007C 79               [ 4]  145 	ld	a, c
    0000007D 3D               [ 4]  146 	dec	a
    0000007E F8 00            [12]  147 	ldhl	sp,	#0
                                    148 ;src/Graphic.c:43: uint8_t tile_id_BL = tile_id_BR - 0x02;
    00000080 22               [ 8]  149 	ld	(hl+), a
    00000081 79               [ 4]  150 	ld	a, c
    00000082 C6 FE            [ 8]  151 	add	a, #0xfe
                                    152 ;src/Graphic.c:44: uint8_t tile_id_TL = tile_id_BR - 0x03;
    00000084 22               [ 8]  153 	ld	(hl+), a
    00000085 79               [ 4]  154 	ld	a, c
    00000086 C6 FD            [ 8]  155 	add	a, #0xfd
    00000088 77               [ 8]  156 	ld	(hl), a
                                    157 ;src/Graphic.c:46: set_bkg_tiles(x,y,1,1,&tile_id_BR);
    00000089 21 04 00         [12]  158 	ld	hl, #4
    0000008C 39               [ 8]  159 	add	hl, sp
    0000008D D5               [16]  160 	push	de
    0000008E E5               [16]  161 	push	hl
    0000008F 21 01 01         [12]  162 	ld	hl, #0x101
    00000092 E5               [16]  163 	push	hl
    00000093 F8 09            [12]  164 	ldhl	sp,	#9
    00000095 56               [ 8]  165 	ld	d, (hl)
    00000096 D5               [16]  166 	push	de
    00000097 CDr00r00         [24]  167 	call	_set_bkg_tiles
    0000009A E8 06            [16]  168 	add	sp, #6
    0000009C D1               [12]  169 	pop	de
                                    170 ;src/Graphic.c:47: set_bkg_tiles(x-1,y,1,1,&tile_id_BL);
    0000009D 4B               [ 4]  171 	ld	c, e
    0000009E 0D               [ 4]  172 	dec	c
    0000009F D5               [16]  173 	push	de
    000000A0 21 03 00         [12]  174 	ld	hl, #3
    000000A3 39               [ 8]  175 	add	hl, sp
    000000A4 E5               [16]  176 	push	hl
    000000A5 21 01 01         [12]  177 	ld	hl, #0x101
    000000A8 E5               [16]  178 	push	hl
    000000A9 F8 09            [12]  179 	ldhl	sp,	#9
    000000AB 46               [ 8]  180 	ld	b, (hl)
    000000AC C5               [16]  181 	push	bc
    000000AD CDr00r00         [24]  182 	call	_set_bkg_tiles
    000000B0 E8 06            [16]  183 	add	sp, #6
    000000B2 D1               [12]  184 	pop	de
                                    185 ;src/Graphic.c:48: set_bkg_tiles(x,y-1,1,1,&tile_id_TR);
    000000B3 F8 03            [12]  186 	ldhl	sp,	#3
    000000B5 46               [ 8]  187 	ld	b, (hl)
    000000B6 05               [ 4]  188 	dec	b
    000000B7 21 00 00         [12]  189 	ld	hl, #0
    000000BA 39               [ 8]  190 	add	hl, sp
    000000BB E5               [16]  191 	push	hl
    000000BC 21 01 01         [12]  192 	ld	hl, #0x101
    000000BF E5               [16]  193 	push	hl
    000000C0 C5               [16]  194 	push	bc
    000000C1 33               [ 8]  195 	inc	sp
    000000C2 7B               [ 4]  196 	ld	a, e
    000000C3 F5               [16]  197 	push	af
    000000C4 33               [ 8]  198 	inc	sp
    000000C5 CDr00r00         [24]  199 	call	_set_bkg_tiles
    000000C8 E8 06            [16]  200 	add	sp, #6
                                    201 ;src/Graphic.c:49: set_bkg_tiles(x-1,y-1,1,1,&tile_id_TL);
    000000CA 21 02 00         [12]  202 	ld	hl, #2
    000000CD 39               [ 8]  203 	add	hl, sp
    000000CE E5               [16]  204 	push	hl
    000000CF 21 01 01         [12]  205 	ld	hl, #0x101
    000000D2 E5               [16]  206 	push	hl
    000000D3 C5               [16]  207 	push	bc
    000000D4 33               [ 8]  208 	inc	sp
    000000D5 79               [ 4]  209 	ld	a, c
    000000D6 F5               [16]  210 	push	af
    000000D7 33               [ 8]  211 	inc	sp
    000000D8 CDr00r00         [24]  212 	call	_set_bkg_tiles
                                    213 ;src/Graphic.c:50: }
    000000DB E8 0B            [16]  214 	add	sp, #11
    000000DD C9               [16]  215 	ret
                                    216 ;src/Graphic.c:55: void print_counter(void){
                                    217 ;	---------------------------------
                                    218 ; Function print_counter
                                    219 ; ---------------------------------
    000000DE                        220 _print_counter::
                                    221 ;src/Graphic.c:56: uint8_t tile_id = global_selected_block + 16;
    000000DE FAr00r00         [16]  222 	ld	a, (_global_selected_block)
    000000E1 C6 10            [ 8]  223 	add	a, #0x10
                                    224 ;src/Graphic.c:57: set_win_tile_xy(0, 0, tile_id);
    000000E3 F5               [16]  225 	push	af
    000000E4 33               [ 8]  226 	inc	sp
    000000E5 AF               [ 4]  227 	xor	a, a
    000000E6 5F               [ 4]  228 	ld	e, a
    000000E7 CDr00r00         [24]  229 	call	_set_win_tile_xy
                                    230 ;src/Graphic.c:58: }
    000000EA C9               [16]  231 	ret
                                    232 ;src/Graphic.c:60: void update_values_in_hud(uint8_t position, uint8_t new_value){
                                    233 ;	---------------------------------
                                    234 ; Function update_values_in_hud
                                    235 ; ---------------------------------
    000000EB                        236 _update_values_in_hud::
                                    237 ;src/Graphic.c:67: uint8_t x = 0;
                                    238 ;src/Graphic.c:68: uint8_t y = 0;
    000000EB 01 00 00         [12]  239 	ld	bc, #0x0
                                    240 ;src/Graphic.c:70: switch (position)
    000000EE FE 06            [ 8]  241 	cp	a, #0x06
    000000F0 38 49            [12]  242 	jr	C, 00110$
    000000F2 FE 0E            [ 8]  243 	cp	a, #0x0e
    000000F4 30 45            [12]  244 	jr	NC, 00110$
    000000F6 C6 FA            [ 8]  245 	add	a, #0xfa
    000000F8 4F               [ 4]  246 	ld	c, a
    000000F9 06 00            [ 8]  247 	ld	b, #0x00
    000000FB 21r05r01         [12]  248 	ld	hl, #00127$
    000000FE 09               [ 8]  249 	add	hl, bc
    000000FF 09               [ 8]  250 	add	hl, bc
    00000100 4E               [ 8]  251 	ld	c, (hl)
    00000101 23               [ 8]  252 	inc	hl
    00000102 66               [ 8]  253 	ld	h, (hl)
    00000103 69               [ 4]  254 	ld	l, c
    00000104 E9               [ 4]  255 	jp	(hl)
    00000105                        256 00127$:
    00000105r15r01                  257 	.dw	00101$
    00000107r1Ar01                  258 	.dw	00102$
    00000109r1Fr01                  259 	.dw	00103$
    0000010Br24r01                  260 	.dw	00104$
    0000010Dr29r01                  261 	.dw	00105$
    0000010Fr2Er01                  262 	.dw	00106$
    00000111r33r01                  263 	.dw	00107$
    00000113r38r01                  264 	.dw	00108$
                                    265 ;src/Graphic.c:72: case RIGHT:
    00000115                        266 00101$:
                                    267 ;src/Graphic.c:73: x = 3;
                                    268 ;src/Graphic.c:74: y = 1;
    00000115 01 03 01         [12]  269 	ld	bc, #0x103
                                    270 ;src/Graphic.c:75: break;
    00000118 18 21            [12]  271 	jr	00110$
                                    272 ;src/Graphic.c:76: case LEFT:
    0000011A                        273 00102$:
                                    274 ;src/Graphic.c:77: x = 3;
                                    275 ;src/Graphic.c:78: y = 2;
    0000011A 01 03 02         [12]  276 	ld	bc, #0x203
                                    277 ;src/Graphic.c:79: break;
    0000011D 18 1C            [12]  278 	jr	00110$
                                    279 ;src/Graphic.c:80: case UP:
    0000011F                        280 00103$:
                                    281 ;src/Graphic.c:81: x = 7;
                                    282 ;src/Graphic.c:82: y = 1;
    0000011F 01 07 01         [12]  283 	ld	bc, #0x107
                                    284 ;src/Graphic.c:83: break;
    00000122 18 17            [12]  285 	jr	00110$
                                    286 ;src/Graphic.c:84: case DOWN:
    00000124                        287 00104$:
                                    288 ;src/Graphic.c:85: x = 7;
                                    289 ;src/Graphic.c:86: y = 2;
    00000124 01 07 02         [12]  290 	ld	bc, #0x207
                                    291 ;src/Graphic.c:87: break;
    00000127 18 12            [12]  292 	jr	00110$
                                    293 ;src/Graphic.c:88: case RIGHT_UP:
    00000129                        294 00105$:
                                    295 ;src/Graphic.c:89: x = 11;
                                    296 ;src/Graphic.c:90: y = 1;
    00000129 01 0B 01         [12]  297 	ld	bc, #0x10b
                                    298 ;src/Graphic.c:91: break;
    0000012C 18 0D            [12]  299 	jr	00110$
                                    300 ;src/Graphic.c:92: case RIGHT_DOWN:
    0000012E                        301 00106$:
                                    302 ;src/Graphic.c:93: x = 11;
                                    303 ;src/Graphic.c:94: y = 2;
    0000012E 01 0B 02         [12]  304 	ld	bc, #0x20b
                                    305 ;src/Graphic.c:95: break;
    00000131 18 08            [12]  306 	jr	00110$
                                    307 ;src/Graphic.c:96: case LEFT_UP:
    00000133                        308 00107$:
                                    309 ;src/Graphic.c:97: x = 15; 
                                    310 ;src/Graphic.c:98: y = 1;
    00000133 01 0F 01         [12]  311 	ld	bc, #0x10f
                                    312 ;src/Graphic.c:99: break;
    00000136 18 03            [12]  313 	jr	00110$
                                    314 ;src/Graphic.c:100: case LEFT_DOWN:
    00000138                        315 00108$:
                                    316 ;src/Graphic.c:101: x = 15; 
                                    317 ;src/Graphic.c:102: y = 2;
    00000138 01 0F 02         [12]  318 	ld	bc, #0x20f
                                    319 ;src/Graphic.c:106: }
    0000013B                        320 00110$:
                                    321 ;src/Graphic.c:108: set_win_tile_xy(x,y, new_value + hud_selectorTileOffset);
    0000013B 7B               [ 4]  322 	ld	a, e
    0000013C C6 68            [ 8]  323 	add	a, #0x68
    0000013E F5               [16]  324 	push	af
    0000013F 33               [ 8]  325 	inc	sp
    00000140 58               [ 4]  326 	ld	e, b
    00000141 79               [ 4]  327 	ld	a, c
    00000142 CDr00r00         [24]  328 	call	_set_win_tile_xy
                                    329 ;src/Graphic.c:109: }
    00000145 C9               [16]  330 	ret
                                    331 	.area _CODE
                                    332 	.area _INITIALIZER
                                    333 	.area _CABS (ABS)
